(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Ox(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ry={exports:{}},fl={},iy={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zs=Symbol.for("react.element"),jx=Symbol.for("react.portal"),Fx=Symbol.for("react.fragment"),Vx=Symbol.for("react.strict_mode"),Bx=Symbol.for("react.profiler"),$x=Symbol.for("react.provider"),Ux=Symbol.for("react.context"),zx=Symbol.for("react.forward_ref"),Wx=Symbol.for("react.suspense"),Hx=Symbol.for("react.memo"),Gx=Symbol.for("react.lazy"),jh=Symbol.iterator;function Kx(e){return e===null||typeof e!="object"?null:(e=jh&&e[jh]||e["@@iterator"],typeof e=="function"?e:null)}var sy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oy=Object.assign,ay={};function Ei(e,t,n){this.props=e,this.context=t,this.refs=ay,this.updater=n||sy}Ei.prototype.isReactComponent={};Ei.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ei.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ly(){}ly.prototype=Ei.prototype;function Rd(e,t,n){this.props=e,this.context=t,this.refs=ay,this.updater=n||sy}var Ad=Rd.prototype=new ly;Ad.constructor=Rd;oy(Ad,Ei.prototype);Ad.isPureReactComponent=!0;var Fh=Array.isArray,uy=Object.prototype.hasOwnProperty,Dd={current:null},cy={key:!0,ref:!0,__self:!0,__source:!0};function dy(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)uy.call(t,r)&&!cy.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Zs,type:e,key:s,ref:o,props:i,_owner:Dd.current}}function Yx(e,t){return{$$typeof:Zs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Md(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zs}function Qx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Vh=/\/+/g;function Jl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Qx(""+e.key):t.toString(36)}function Yo(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Zs:case jx:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Jl(o,0):r,Fh(i)?(n="",e!=null&&(n=e.replace(Vh,"$&/")+"/"),Yo(i,t,n,"",function(u){return u})):i!=null&&(Md(i)&&(i=Yx(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Vh,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Fh(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Jl(s,a);o+=Yo(s,t,n,l,i)}else if(l=Kx(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Jl(s,a++),o+=Yo(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function So(e,t,n){if(e==null)return e;var r=[],i=0;return Yo(e,r,"","",function(s){return t.call(n,s,i++)}),r}function qx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ue={current:null},Qo={transition:null},Xx={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:Qo,ReactCurrentOwner:Dd};function fy(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:So,forEach:function(e,t,n){So(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return So(e,function(){t++}),t},toArray:function(e){return So(e,function(t){return t})||[]},only:function(e){if(!Md(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};z.Component=Ei;z.Fragment=Fx;z.Profiler=Bx;z.PureComponent=Rd;z.StrictMode=Vx;z.Suspense=Wx;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xx;z.act=fy;z.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=oy({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Dd.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)uy.call(t,l)&&!cy.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Zs,type:e.type,key:i,ref:s,props:r,_owner:o}};z.createContext=function(e){return e={$$typeof:Ux,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$x,_context:e},e.Consumer=e};z.createElement=dy;z.createFactory=function(e){var t=dy.bind(null,e);return t.type=e,t};z.createRef=function(){return{current:null}};z.forwardRef=function(e){return{$$typeof:zx,render:e}};z.isValidElement=Md;z.lazy=function(e){return{$$typeof:Gx,_payload:{_status:-1,_result:e},_init:qx}};z.memo=function(e,t){return{$$typeof:Hx,type:e,compare:t===void 0?null:t}};z.startTransition=function(e){var t=Qo.transition;Qo.transition={};try{e()}finally{Qo.transition=t}};z.unstable_act=fy;z.useCallback=function(e,t){return Ue.current.useCallback(e,t)};z.useContext=function(e){return Ue.current.useContext(e)};z.useDebugValue=function(){};z.useDeferredValue=function(e){return Ue.current.useDeferredValue(e)};z.useEffect=function(e,t){return Ue.current.useEffect(e,t)};z.useId=function(){return Ue.current.useId()};z.useImperativeHandle=function(e,t,n){return Ue.current.useImperativeHandle(e,t,n)};z.useInsertionEffect=function(e,t){return Ue.current.useInsertionEffect(e,t)};z.useLayoutEffect=function(e,t){return Ue.current.useLayoutEffect(e,t)};z.useMemo=function(e,t){return Ue.current.useMemo(e,t)};z.useReducer=function(e,t,n){return Ue.current.useReducer(e,t,n)};z.useRef=function(e){return Ue.current.useRef(e)};z.useState=function(e){return Ue.current.useState(e)};z.useSyncExternalStore=function(e,t,n){return Ue.current.useSyncExternalStore(e,t,n)};z.useTransition=function(){return Ue.current.useTransition()};z.version="18.3.1";iy.exports=z;var v=iy.exports;const Ld=Ox(v);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zx=v,Jx=Symbol.for("react.element"),ew=Symbol.for("react.fragment"),tw=Object.prototype.hasOwnProperty,nw=Zx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rw={key:!0,ref:!0,__self:!0,__source:!0};function hy(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)tw.call(t,r)&&!rw.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Jx,type:e,key:s,ref:o,props:i,_owner:nw.current}}fl.Fragment=ew;fl.jsx=hy;fl.jsxs=hy;ry.exports=fl;var g=ry.exports,Ju={},py={exports:{}},it={},my={exports:{}},gy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,j){var V=R.length;R.push(j);e:for(;0<V;){var O=V-1>>>1,te=R[O];if(0<i(te,j))R[O]=j,R[V]=te,V=O;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var j=R[0],V=R.pop();if(V!==j){R[0]=V;e:for(var O=0,te=R.length,Qn=te>>>1;O<Qn;){var Nt=2*(O+1)-1,Ir=R[Nt],Ze=Nt+1,qn=R[Ze];if(0>i(Ir,V))Ze<te&&0>i(qn,Ir)?(R[O]=qn,R[Ze]=V,O=Ze):(R[O]=Ir,R[Nt]=V,O=Nt);else if(Ze<te&&0>i(qn,V))R[O]=qn,R[Ze]=V,O=Ze;else break e}}return j}function i(R,j){var V=R.sortIndex-j.sortIndex;return V!==0?V:R.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,h=!1,y=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(R){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=R)r(u),j.sortIndex=j.expirationTime,t(l,j);else break;j=n(u)}}function S(R){if(x=!1,m(R),!y)if(n(l)!==null)y=!0,ot(C);else{var j=n(u);j!==null&&kt(S,j.startTime-R)}}function C(R,j){y=!1,x&&(x=!1,_(E),E=-1),h=!0;var V=f;try{for(m(j),d=n(l);d!==null&&(!(d.expirationTime>j)||R&&!F());){var O=d.callback;if(typeof O=="function"){d.callback=null,f=d.priorityLevel;var te=O(d.expirationTime<=j);j=e.unstable_now(),typeof te=="function"?d.callback=te:d===n(l)&&r(l),m(j)}else r(l);d=n(l)}if(d!==null)var Qn=!0;else{var Nt=n(u);Nt!==null&&kt(S,Nt.startTime-j),Qn=!1}return Qn}finally{d=null,f=V,h=!1}}var N=!1,P=null,E=-1,D=5,T=-1;function F(){return!(e.unstable_now()-T<D)}function ke(){if(P!==null){var R=e.unstable_now();T=R;var j=!0;try{j=P(!0,R)}finally{j?We():(N=!1,P=null)}}else N=!1}var We;if(typeof p=="function")We=function(){p(ke)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,fe=de.port2;de.port1.onmessage=ke,We=function(){fe.postMessage(null)}}else We=function(){w(ke,0)};function ot(R){P=R,N||(N=!0,We())}function kt(R,j){E=w(function(){R(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){y||h||(y=!0,ot(C))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(R){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var V=f;f=j;try{return R()}finally{f=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,j){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var V=f;f=R;try{return j()}finally{f=V}},e.unstable_scheduleCallback=function(R,j,V){var O=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?O+V:O):V=O,R){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=V+te,R={id:c++,callback:j,priorityLevel:R,startTime:V,expirationTime:te,sortIndex:-1},V>O?(R.sortIndex=V,t(u,R),n(l)===null&&R===n(u)&&(x?(_(E),E=-1):x=!0,kt(S,V-O))):(R.sortIndex=te,t(l,R),y||h||(y=!0,ot(C))),R},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(R){var j=f;return function(){var V=f;f=j;try{return R.apply(this,arguments)}finally{f=V}}}})(gy);my.exports=gy;var iw=my.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sw=v,nt=iw;function k(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yy=new Set,vs={};function wr(e,t){ui(e,t),ui(e+"Capture",t)}function ui(e,t){for(vs[e]=t,e=0;e<t.length;e++)yy.add(t[e])}var Jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ec=Object.prototype.hasOwnProperty,ow=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bh={},$h={};function aw(e){return ec.call($h,e)?!0:ec.call(Bh,e)?!1:ow.test(e)?$h[e]=!0:(Bh[e]=!0,!1)}function lw(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function uw(e,t,n,r){if(t===null||typeof t>"u"||lw(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ze(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Re[e]=new ze(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Re[t]=new ze(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Re[e]=new ze(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Re[e]=new ze(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Re[e]=new ze(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Re[e]=new ze(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Re[e]=new ze(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Re[e]=new ze(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Re[e]=new ze(e,5,!1,e.toLowerCase(),null,!1,!1)});var Od=/[\-:]([a-z])/g;function jd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Od,jd);Re[t]=new ze(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Od,jd);Re[t]=new ze(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Od,jd);Re[t]=new ze(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Re[e]=new ze(e,1,!1,e.toLowerCase(),null,!1,!1)});Re.xlinkHref=new ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Re[e]=new ze(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fd(e,t,n,r){var i=Re.hasOwnProperty(t)?Re[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(uw(t,n,i,r)&&(n=null),r||i===null?aw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ln=sw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Co=Symbol.for("react.element"),Or=Symbol.for("react.portal"),jr=Symbol.for("react.fragment"),Vd=Symbol.for("react.strict_mode"),tc=Symbol.for("react.profiler"),vy=Symbol.for("react.provider"),_y=Symbol.for("react.context"),Bd=Symbol.for("react.forward_ref"),nc=Symbol.for("react.suspense"),rc=Symbol.for("react.suspense_list"),$d=Symbol.for("react.memo"),hn=Symbol.for("react.lazy"),xy=Symbol.for("react.offscreen"),Uh=Symbol.iterator;function Di(e){return e===null||typeof e!="object"?null:(e=Uh&&e[Uh]||e["@@iterator"],typeof e=="function"?e:null)}var ae=Object.assign,eu;function Qi(e){if(eu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);eu=t&&t[1]||""}return`
`+eu+e}var tu=!1;function nu(e,t){if(!e||tu)return"";tu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{tu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Qi(e):""}function cw(e){switch(e.tag){case 5:return Qi(e.type);case 16:return Qi("Lazy");case 13:return Qi("Suspense");case 19:return Qi("SuspenseList");case 0:case 2:case 15:return e=nu(e.type,!1),e;case 11:return e=nu(e.type.render,!1),e;case 1:return e=nu(e.type,!0),e;default:return""}}function ic(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case jr:return"Fragment";case Or:return"Portal";case tc:return"Profiler";case Vd:return"StrictMode";case nc:return"Suspense";case rc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _y:return(e.displayName||"Context")+".Consumer";case vy:return(e._context.displayName||"Context")+".Provider";case Bd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $d:return t=e.displayName||null,t!==null?t:ic(e.type)||"Memo";case hn:t=e._payload,e=e._init;try{return ic(e(t))}catch{}}return null}function dw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ic(t);case 8:return t===Vd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function On(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fw(e){var t=wy(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Eo(e){e._valueTracker||(e._valueTracker=fw(e))}function Sy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=wy(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ma(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function sc(e,t){var n=t.checked;return ae({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function zh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=On(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Cy(e,t){t=t.checked,t!=null&&Fd(e,"checked",t,!1)}function oc(e,t){Cy(e,t);var n=On(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ac(e,t.type,n):t.hasOwnProperty("defaultValue")&&ac(e,t.type,On(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Wh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ac(e,t,n){(t!=="number"||ma(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var qi=Array.isArray;function ei(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+On(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function lc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(k(91));return ae({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Hh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(k(92));if(qi(n)){if(1<n.length)throw Error(k(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:On(n)}}function Ey(e,t){var n=On(t.value),r=On(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Gh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ty(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ty(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var To,Py=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(To=To||document.createElement("div"),To.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=To.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _s(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var es={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hw=["Webkit","ms","Moz","O"];Object.keys(es).forEach(function(e){hw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),es[t]=es[e]})});function ky(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||es.hasOwnProperty(e)&&es[e]?(""+t).trim():t+"px"}function Ny(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ky(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var pw=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cc(e,t){if(t){if(pw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(k(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(k(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(k(61))}if(t.style!=null&&typeof t.style!="object")throw Error(k(62))}}function dc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fc=null;function Ud(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hc=null,ti=null,ni=null;function Kh(e){if(e=to(e)){if(typeof hc!="function")throw Error(k(280));var t=e.stateNode;t&&(t=yl(t),hc(e.stateNode,e.type,t))}}function by(e){ti?ni?ni.push(e):ni=[e]:ti=e}function Iy(){if(ti){var e=ti,t=ni;if(ni=ti=null,Kh(e),t)for(e=0;e<t.length;e++)Kh(t[e])}}function Ry(e,t){return e(t)}function Ay(){}var ru=!1;function Dy(e,t,n){if(ru)return e(t,n);ru=!0;try{return Ry(e,t,n)}finally{ru=!1,(ti!==null||ni!==null)&&(Ay(),Iy())}}function xs(e,t){var n=e.stateNode;if(n===null)return null;var r=yl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(k(231,t,typeof n));return n}var pc=!1;if(Jt)try{var Mi={};Object.defineProperty(Mi,"passive",{get:function(){pc=!0}}),window.addEventListener("test",Mi,Mi),window.removeEventListener("test",Mi,Mi)}catch{pc=!1}function mw(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ts=!1,ga=null,ya=!1,mc=null,gw={onError:function(e){ts=!0,ga=e}};function yw(e,t,n,r,i,s,o,a,l){ts=!1,ga=null,mw.apply(gw,arguments)}function vw(e,t,n,r,i,s,o,a,l){if(yw.apply(this,arguments),ts){if(ts){var u=ga;ts=!1,ga=null}else throw Error(k(198));ya||(ya=!0,mc=u)}}function Sr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function My(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yh(e){if(Sr(e)!==e)throw Error(k(188))}function _w(e){var t=e.alternate;if(!t){if(t=Sr(e),t===null)throw Error(k(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Yh(i),e;if(s===r)return Yh(i),t;s=s.sibling}throw Error(k(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(k(189))}}if(n.alternate!==r)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?e:t}function Ly(e){return e=_w(e),e!==null?Oy(e):null}function Oy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Oy(e);if(t!==null)return t;e=e.sibling}return null}var jy=nt.unstable_scheduleCallback,Qh=nt.unstable_cancelCallback,xw=nt.unstable_shouldYield,ww=nt.unstable_requestPaint,he=nt.unstable_now,Sw=nt.unstable_getCurrentPriorityLevel,zd=nt.unstable_ImmediatePriority,Fy=nt.unstable_UserBlockingPriority,va=nt.unstable_NormalPriority,Cw=nt.unstable_LowPriority,Vy=nt.unstable_IdlePriority,hl=null,Lt=null;function Ew(e){if(Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(hl,e,void 0,(e.current.flags&128)===128)}catch{}}var St=Math.clz32?Math.clz32:kw,Tw=Math.log,Pw=Math.LN2;function kw(e){return e>>>=0,e===0?32:31-(Tw(e)/Pw|0)|0}var Po=64,ko=4194304;function Xi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _a(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Xi(a):(s&=o,s!==0&&(r=Xi(s)))}else o=n&~i,o!==0?r=Xi(o):s!==0&&(r=Xi(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-St(t),i=1<<n,r|=e[n],t&=~i;return r}function Nw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bw(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-St(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Nw(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function gc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function By(){var e=Po;return Po<<=1,!(Po&4194240)&&(Po=64),e}function iu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Js(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-St(t),e[t]=n}function Iw(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-St(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Wd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-St(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var G=0;function $y(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Uy,Hd,zy,Wy,Hy,yc=!1,No=[],Sn=null,Cn=null,En=null,ws=new Map,Ss=new Map,gn=[],Rw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qh(e,t){switch(e){case"focusin":case"focusout":Sn=null;break;case"dragenter":case"dragleave":Cn=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":ws.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ss.delete(t.pointerId)}}function Li(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=to(t),t!==null&&Hd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Aw(e,t,n,r,i){switch(t){case"focusin":return Sn=Li(Sn,e,t,n,r,i),!0;case"dragenter":return Cn=Li(Cn,e,t,n,r,i),!0;case"mouseover":return En=Li(En,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return ws.set(s,Li(ws.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ss.set(s,Li(Ss.get(s)||null,e,t,n,r,i)),!0}return!1}function Gy(e){var t=sr(e.target);if(t!==null){var n=Sr(t);if(n!==null){if(t=n.tag,t===13){if(t=My(n),t!==null){e.blockedOn=t,Hy(e.priority,function(){zy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=vc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);fc=r,n.target.dispatchEvent(r),fc=null}else return t=to(n),t!==null&&Hd(t),e.blockedOn=n,!1;t.shift()}return!0}function Xh(e,t,n){qo(e)&&n.delete(t)}function Dw(){yc=!1,Sn!==null&&qo(Sn)&&(Sn=null),Cn!==null&&qo(Cn)&&(Cn=null),En!==null&&qo(En)&&(En=null),ws.forEach(Xh),Ss.forEach(Xh)}function Oi(e,t){e.blockedOn===t&&(e.blockedOn=null,yc||(yc=!0,nt.unstable_scheduleCallback(nt.unstable_NormalPriority,Dw)))}function Cs(e){function t(i){return Oi(i,e)}if(0<No.length){Oi(No[0],e);for(var n=1;n<No.length;n++){var r=No[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Sn!==null&&Oi(Sn,e),Cn!==null&&Oi(Cn,e),En!==null&&Oi(En,e),ws.forEach(t),Ss.forEach(t),n=0;n<gn.length;n++)r=gn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<gn.length&&(n=gn[0],n.blockedOn===null);)Gy(n),n.blockedOn===null&&gn.shift()}var ri=ln.ReactCurrentBatchConfig,xa=!0;function Mw(e,t,n,r){var i=G,s=ri.transition;ri.transition=null;try{G=1,Gd(e,t,n,r)}finally{G=i,ri.transition=s}}function Lw(e,t,n,r){var i=G,s=ri.transition;ri.transition=null;try{G=4,Gd(e,t,n,r)}finally{G=i,ri.transition=s}}function Gd(e,t,n,r){if(xa){var i=vc(e,t,n,r);if(i===null)pu(e,t,r,wa,n),qh(e,r);else if(Aw(i,e,t,n,r))r.stopPropagation();else if(qh(e,r),t&4&&-1<Rw.indexOf(e)){for(;i!==null;){var s=to(i);if(s!==null&&Uy(s),s=vc(e,t,n,r),s===null&&pu(e,t,r,wa,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else pu(e,t,r,null,n)}}var wa=null;function vc(e,t,n,r){if(wa=null,e=Ud(r),e=sr(e),e!==null)if(t=Sr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=My(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return wa=e,null}function Ky(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sw()){case zd:return 1;case Fy:return 4;case va:case Cw:return 16;case Vy:return 536870912;default:return 16}default:return 16}}var _n=null,Kd=null,Xo=null;function Yy(){if(Xo)return Xo;var e,t=Kd,n=t.length,r,i="value"in _n?_n.value:_n.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Xo=i.slice(e,1<r?1-r:void 0)}function Zo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bo(){return!0}function Zh(){return!1}function st(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?bo:Zh,this.isPropagationStopped=Zh,this}return ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bo)},persist:function(){},isPersistent:bo}),t}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yd=st(Ti),eo=ae({},Ti,{view:0,detail:0}),Ow=st(eo),su,ou,ji,pl=ae({},eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ji&&(ji&&e.type==="mousemove"?(su=e.screenX-ji.screenX,ou=e.screenY-ji.screenY):ou=su=0,ji=e),su)},movementY:function(e){return"movementY"in e?e.movementY:ou}}),Jh=st(pl),jw=ae({},pl,{dataTransfer:0}),Fw=st(jw),Vw=ae({},eo,{relatedTarget:0}),au=st(Vw),Bw=ae({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),$w=st(Bw),Uw=ae({},Ti,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zw=st(Uw),Ww=ae({},Ti,{data:0}),ep=st(Ww),Hw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Kw[e])?!!t[e]:!1}function Qd(){return Yw}var Qw=ae({},eo,{key:function(e){if(e.key){var t=Hw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qd,charCode:function(e){return e.type==="keypress"?Zo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qw=st(Qw),Xw=ae({},pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tp=st(Xw),Zw=ae({},eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qd}),Jw=st(Zw),eS=ae({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),tS=st(eS),nS=ae({},pl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rS=st(nS),iS=[9,13,27,32],qd=Jt&&"CompositionEvent"in window,ns=null;Jt&&"documentMode"in document&&(ns=document.documentMode);var sS=Jt&&"TextEvent"in window&&!ns,Qy=Jt&&(!qd||ns&&8<ns&&11>=ns),np=" ",rp=!1;function qy(e,t){switch(e){case"keyup":return iS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fr=!1;function oS(e,t){switch(e){case"compositionend":return Xy(t);case"keypress":return t.which!==32?null:(rp=!0,np);case"textInput":return e=t.data,e===np&&rp?null:e;default:return null}}function aS(e,t){if(Fr)return e==="compositionend"||!qd&&qy(e,t)?(e=Yy(),Xo=Kd=_n=null,Fr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qy&&t.locale!=="ko"?null:t.data;default:return null}}var lS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ip(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!lS[e.type]:t==="textarea"}function Zy(e,t,n,r){by(r),t=Sa(t,"onChange"),0<t.length&&(n=new Yd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var rs=null,Es=null;function uS(e){uv(e,0)}function ml(e){var t=$r(e);if(Sy(t))return e}function cS(e,t){if(e==="change")return t}var Jy=!1;if(Jt){var lu;if(Jt){var uu="oninput"in document;if(!uu){var sp=document.createElement("div");sp.setAttribute("oninput","return;"),uu=typeof sp.oninput=="function"}lu=uu}else lu=!1;Jy=lu&&(!document.documentMode||9<document.documentMode)}function op(){rs&&(rs.detachEvent("onpropertychange",ev),Es=rs=null)}function ev(e){if(e.propertyName==="value"&&ml(Es)){var t=[];Zy(t,Es,e,Ud(e)),Dy(uS,t)}}function dS(e,t,n){e==="focusin"?(op(),rs=t,Es=n,rs.attachEvent("onpropertychange",ev)):e==="focusout"&&op()}function fS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ml(Es)}function hS(e,t){if(e==="click")return ml(t)}function pS(e,t){if(e==="input"||e==="change")return ml(t)}function mS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pt=typeof Object.is=="function"?Object.is:mS;function Ts(e,t){if(Pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ec.call(t,i)||!Pt(e[i],t[i]))return!1}return!0}function ap(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lp(e,t){var n=ap(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ap(n)}}function tv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?tv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nv(){for(var e=window,t=ma();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ma(e.document)}return t}function Xd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gS(e){var t=nv(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&tv(n.ownerDocument.documentElement,n)){if(r!==null&&Xd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=lp(n,s);var o=lp(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yS=Jt&&"documentMode"in document&&11>=document.documentMode,Vr=null,_c=null,is=null,xc=!1;function up(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xc||Vr==null||Vr!==ma(r)||(r=Vr,"selectionStart"in r&&Xd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),is&&Ts(is,r)||(is=r,r=Sa(_c,"onSelect"),0<r.length&&(t=new Yd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Vr)))}function Io(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Br={animationend:Io("Animation","AnimationEnd"),animationiteration:Io("Animation","AnimationIteration"),animationstart:Io("Animation","AnimationStart"),transitionend:Io("Transition","TransitionEnd")},cu={},rv={};Jt&&(rv=document.createElement("div").style,"AnimationEvent"in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),"TransitionEvent"in window||delete Br.transitionend.transition);function gl(e){if(cu[e])return cu[e];if(!Br[e])return e;var t=Br[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in rv)return cu[e]=t[n];return e}var iv=gl("animationend"),sv=gl("animationiteration"),ov=gl("animationstart"),av=gl("transitionend"),lv=new Map,cp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wn(e,t){lv.set(e,t),wr(t,[e])}for(var du=0;du<cp.length;du++){var fu=cp[du],vS=fu.toLowerCase(),_S=fu[0].toUpperCase()+fu.slice(1);Wn(vS,"on"+_S)}Wn(iv,"onAnimationEnd");Wn(sv,"onAnimationIteration");Wn(ov,"onAnimationStart");Wn("dblclick","onDoubleClick");Wn("focusin","onFocus");Wn("focusout","onBlur");Wn(av,"onTransitionEnd");ui("onMouseEnter",["mouseout","mouseover"]);ui("onMouseLeave",["mouseout","mouseover"]);ui("onPointerEnter",["pointerout","pointerover"]);ui("onPointerLeave",["pointerout","pointerover"]);wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wr("onBeforeInput",["compositionend","keypress","textInput","paste"]);wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zi));function dp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,vw(r,t,void 0,e),e.currentTarget=null}function uv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;dp(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;dp(i,a,u),s=l}}}if(ya)throw e=mc,ya=!1,mc=null,e}function J(e,t){var n=t[Tc];n===void 0&&(n=t[Tc]=new Set);var r=e+"__bubble";n.has(r)||(cv(t,e,2,!1),n.add(r))}function hu(e,t,n){var r=0;t&&(r|=4),cv(n,e,r,t)}var Ro="_reactListening"+Math.random().toString(36).slice(2);function Ps(e){if(!e[Ro]){e[Ro]=!0,yy.forEach(function(n){n!=="selectionchange"&&(xS.has(n)||hu(n,!1,e),hu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ro]||(t[Ro]=!0,hu("selectionchange",!1,t))}}function cv(e,t,n,r){switch(Ky(t)){case 1:var i=Mw;break;case 4:i=Lw;break;default:i=Gd}n=i.bind(null,t,n,e),i=void 0,!pc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function pu(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=sr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Dy(function(){var u=s,c=Ud(n),d=[];e:{var f=lv.get(e);if(f!==void 0){var h=Yd,y=e;switch(e){case"keypress":if(Zo(n)===0)break e;case"keydown":case"keyup":h=qw;break;case"focusin":y="focus",h=au;break;case"focusout":y="blur",h=au;break;case"beforeblur":case"afterblur":h=au;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Jh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Fw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Jw;break;case iv:case sv:case ov:h=$w;break;case av:h=tS;break;case"scroll":h=Ow;break;case"wheel":h=rS;break;case"copy":case"cut":case"paste":h=zw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=tp}var x=(t&4)!==0,w=!x&&e==="scroll",_=x?f!==null?f+"Capture":null:f;x=[];for(var p=u,m;p!==null;){m=p;var S=m.stateNode;if(m.tag===5&&S!==null&&(m=S,_!==null&&(S=xs(p,_),S!=null&&x.push(ks(p,S,m)))),w)break;p=p.return}0<x.length&&(f=new h(f,y,null,n,c),d.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&n!==fc&&(y=n.relatedTarget||n.fromElement)&&(sr(y)||y[en]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(y=n.relatedTarget||n.toElement,h=u,y=y?sr(y):null,y!==null&&(w=Sr(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(h=null,y=u),h!==y)){if(x=Jh,S="onMouseLeave",_="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(x=tp,S="onPointerLeave",_="onPointerEnter",p="pointer"),w=h==null?f:$r(h),m=y==null?f:$r(y),f=new x(S,p+"leave",h,n,c),f.target=w,f.relatedTarget=m,S=null,sr(c)===u&&(x=new x(_,p+"enter",y,n,c),x.target=m,x.relatedTarget=w,S=x),w=S,h&&y)t:{for(x=h,_=y,p=0,m=x;m;m=Rr(m))p++;for(m=0,S=_;S;S=Rr(S))m++;for(;0<p-m;)x=Rr(x),p--;for(;0<m-p;)_=Rr(_),m--;for(;p--;){if(x===_||_!==null&&x===_.alternate)break t;x=Rr(x),_=Rr(_)}x=null}else x=null;h!==null&&fp(d,f,h,x,!1),y!==null&&w!==null&&fp(d,w,y,x,!0)}}e:{if(f=u?$r(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var C=cS;else if(ip(f))if(Jy)C=pS;else{C=fS;var N=dS}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=hS);if(C&&(C=C(e,u))){Zy(d,C,n,c);break e}N&&N(e,f,u),e==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&ac(f,"number",f.value)}switch(N=u?$r(u):window,e){case"focusin":(ip(N)||N.contentEditable==="true")&&(Vr=N,_c=u,is=null);break;case"focusout":is=_c=Vr=null;break;case"mousedown":xc=!0;break;case"contextmenu":case"mouseup":case"dragend":xc=!1,up(d,n,c);break;case"selectionchange":if(yS)break;case"keydown":case"keyup":up(d,n,c)}var P;if(qd)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Fr?qy(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Qy&&n.locale!=="ko"&&(Fr||E!=="onCompositionStart"?E==="onCompositionEnd"&&Fr&&(P=Yy()):(_n=c,Kd="value"in _n?_n.value:_n.textContent,Fr=!0)),N=Sa(u,E),0<N.length&&(E=new ep(E,e,null,n,c),d.push({event:E,listeners:N}),P?E.data=P:(P=Xy(n),P!==null&&(E.data=P)))),(P=sS?oS(e,n):aS(e,n))&&(u=Sa(u,"onBeforeInput"),0<u.length&&(c=new ep("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=P))}uv(d,t)})}function ks(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Sa(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=xs(e,n),s!=null&&r.unshift(ks(e,s,i)),s=xs(e,t),s!=null&&r.push(ks(e,s,i))),e=e.return}return r}function Rr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function fp(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=xs(n,s),l!=null&&o.unshift(ks(n,l,a))):i||(l=xs(n,s),l!=null&&o.push(ks(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var wS=/\r\n?/g,SS=/\u0000|\uFFFD/g;function hp(e){return(typeof e=="string"?e:""+e).replace(wS,`
`).replace(SS,"")}function Ao(e,t,n){if(t=hp(t),hp(e)!==t&&n)throw Error(k(425))}function Ca(){}var wc=null,Sc=null;function Cc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ec=typeof setTimeout=="function"?setTimeout:void 0,CS=typeof clearTimeout=="function"?clearTimeout:void 0,pp=typeof Promise=="function"?Promise:void 0,ES=typeof queueMicrotask=="function"?queueMicrotask:typeof pp<"u"?function(e){return pp.resolve(null).then(e).catch(TS)}:Ec;function TS(e){setTimeout(function(){throw e})}function mu(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Cs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Cs(t)}function Tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Pi=Math.random().toString(36).slice(2),Mt="__reactFiber$"+Pi,Ns="__reactProps$"+Pi,en="__reactContainer$"+Pi,Tc="__reactEvents$"+Pi,PS="__reactListeners$"+Pi,kS="__reactHandles$"+Pi;function sr(e){var t=e[Mt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[en]||n[Mt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=mp(e);e!==null;){if(n=e[Mt])return n;e=mp(e)}return t}e=n,n=e.parentNode}return null}function to(e){return e=e[Mt]||e[en],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $r(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(k(33))}function yl(e){return e[Ns]||null}var Pc=[],Ur=-1;function Hn(e){return{current:e}}function ee(e){0>Ur||(e.current=Pc[Ur],Pc[Ur]=null,Ur--)}function X(e,t){Ur++,Pc[Ur]=e.current,e.current=t}var jn={},Oe=Hn(jn),Ye=Hn(!1),hr=jn;function ci(e,t){var n=e.type.contextTypes;if(!n)return jn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Qe(e){return e=e.childContextTypes,e!=null}function Ea(){ee(Ye),ee(Oe)}function gp(e,t,n){if(Oe.current!==jn)throw Error(k(168));X(Oe,t),X(Ye,n)}function dv(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(k(108,dw(e)||"Unknown",i));return ae({},n,r)}function Ta(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jn,hr=Oe.current,X(Oe,e),X(Ye,Ye.current),!0}function yp(e,t,n){var r=e.stateNode;if(!r)throw Error(k(169));n?(e=dv(e,t,hr),r.__reactInternalMemoizedMergedChildContext=e,ee(Ye),ee(Oe),X(Oe,e)):ee(Ye),X(Ye,n)}var zt=null,vl=!1,gu=!1;function fv(e){zt===null?zt=[e]:zt.push(e)}function NS(e){vl=!0,fv(e)}function Gn(){if(!gu&&zt!==null){gu=!0;var e=0,t=G;try{var n=zt;for(G=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}zt=null,vl=!1}catch(i){throw zt!==null&&(zt=zt.slice(e+1)),jy(zd,Gn),i}finally{G=t,gu=!1}}return null}var zr=[],Wr=0,Pa=null,ka=0,lt=[],ut=0,pr=null,Wt=1,Ht="";function Jn(e,t){zr[Wr++]=ka,zr[Wr++]=Pa,Pa=e,ka=t}function hv(e,t,n){lt[ut++]=Wt,lt[ut++]=Ht,lt[ut++]=pr,pr=e;var r=Wt;e=Ht;var i=32-St(r)-1;r&=~(1<<i),n+=1;var s=32-St(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Wt=1<<32-St(t)+i|n<<i|r,Ht=s+e}else Wt=1<<s|n<<i|r,Ht=e}function Zd(e){e.return!==null&&(Jn(e,1),hv(e,1,0))}function Jd(e){for(;e===Pa;)Pa=zr[--Wr],zr[Wr]=null,ka=zr[--Wr],zr[Wr]=null;for(;e===pr;)pr=lt[--ut],lt[ut]=null,Ht=lt[--ut],lt[ut]=null,Wt=lt[--ut],lt[ut]=null}var tt=null,et=null,ne=!1,_t=null;function pv(e,t){var n=ct(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function vp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tt=e,et=Tn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tt=e,et=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=pr!==null?{id:Wt,overflow:Ht}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ct(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,tt=e,et=null,!0):!1;default:return!1}}function kc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Nc(e){if(ne){var t=et;if(t){var n=t;if(!vp(e,t)){if(kc(e))throw Error(k(418));t=Tn(n.nextSibling);var r=tt;t&&vp(e,t)?pv(r,n):(e.flags=e.flags&-4097|2,ne=!1,tt=e)}}else{if(kc(e))throw Error(k(418));e.flags=e.flags&-4097|2,ne=!1,tt=e}}}function _p(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tt=e}function Do(e){if(e!==tt)return!1;if(!ne)return _p(e),ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Cc(e.type,e.memoizedProps)),t&&(t=et)){if(kc(e))throw mv(),Error(k(418));for(;t;)pv(e,t),t=Tn(t.nextSibling)}if(_p(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){et=Tn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}et=null}}else et=tt?Tn(e.stateNode.nextSibling):null;return!0}function mv(){for(var e=et;e;)e=Tn(e.nextSibling)}function di(){et=tt=null,ne=!1}function ef(e){_t===null?_t=[e]:_t.push(e)}var bS=ln.ReactCurrentBatchConfig;function Fi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(k(309));var r=n.stateNode}if(!r)throw Error(k(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(k(284));if(!n._owner)throw Error(k(290,e))}return e}function Mo(e,t){throw e=Object.prototype.toString.call(t),Error(k(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xp(e){var t=e._init;return t(e._payload)}function gv(e){function t(_,p){if(e){var m=_.deletions;m===null?(_.deletions=[p],_.flags|=16):m.push(p)}}function n(_,p){if(!e)return null;for(;p!==null;)t(_,p),p=p.sibling;return null}function r(_,p){for(_=new Map;p!==null;)p.key!==null?_.set(p.key,p):_.set(p.index,p),p=p.sibling;return _}function i(_,p){return _=bn(_,p),_.index=0,_.sibling=null,_}function s(_,p,m){return _.index=m,e?(m=_.alternate,m!==null?(m=m.index,m<p?(_.flags|=2,p):m):(_.flags|=2,p)):(_.flags|=1048576,p)}function o(_){return e&&_.alternate===null&&(_.flags|=2),_}function a(_,p,m,S){return p===null||p.tag!==6?(p=Cu(m,_.mode,S),p.return=_,p):(p=i(p,m),p.return=_,p)}function l(_,p,m,S){var C=m.type;return C===jr?c(_,p,m.props.children,S,m.key):p!==null&&(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===hn&&xp(C)===p.type)?(S=i(p,m.props),S.ref=Fi(_,p,m),S.return=_,S):(S=sa(m.type,m.key,m.props,null,_.mode,S),S.ref=Fi(_,p,m),S.return=_,S)}function u(_,p,m,S){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=Eu(m,_.mode,S),p.return=_,p):(p=i(p,m.children||[]),p.return=_,p)}function c(_,p,m,S,C){return p===null||p.tag!==7?(p=dr(m,_.mode,S,C),p.return=_,p):(p=i(p,m),p.return=_,p)}function d(_,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Cu(""+p,_.mode,m),p.return=_,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Co:return m=sa(p.type,p.key,p.props,null,_.mode,m),m.ref=Fi(_,null,p),m.return=_,m;case Or:return p=Eu(p,_.mode,m),p.return=_,p;case hn:var S=p._init;return d(_,S(p._payload),m)}if(qi(p)||Di(p))return p=dr(p,_.mode,m,null),p.return=_,p;Mo(_,p)}return null}function f(_,p,m,S){var C=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return C!==null?null:a(_,p,""+m,S);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Co:return m.key===C?l(_,p,m,S):null;case Or:return m.key===C?u(_,p,m,S):null;case hn:return C=m._init,f(_,p,C(m._payload),S)}if(qi(m)||Di(m))return C!==null?null:c(_,p,m,S,null);Mo(_,m)}return null}function h(_,p,m,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return _=_.get(m)||null,a(p,_,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Co:return _=_.get(S.key===null?m:S.key)||null,l(p,_,S,C);case Or:return _=_.get(S.key===null?m:S.key)||null,u(p,_,S,C);case hn:var N=S._init;return h(_,p,m,N(S._payload),C)}if(qi(S)||Di(S))return _=_.get(m)||null,c(p,_,S,C,null);Mo(p,S)}return null}function y(_,p,m,S){for(var C=null,N=null,P=p,E=p=0,D=null;P!==null&&E<m.length;E++){P.index>E?(D=P,P=null):D=P.sibling;var T=f(_,P,m[E],S);if(T===null){P===null&&(P=D);break}e&&P&&T.alternate===null&&t(_,P),p=s(T,p,E),N===null?C=T:N.sibling=T,N=T,P=D}if(E===m.length)return n(_,P),ne&&Jn(_,E),C;if(P===null){for(;E<m.length;E++)P=d(_,m[E],S),P!==null&&(p=s(P,p,E),N===null?C=P:N.sibling=P,N=P);return ne&&Jn(_,E),C}for(P=r(_,P);E<m.length;E++)D=h(P,_,E,m[E],S),D!==null&&(e&&D.alternate!==null&&P.delete(D.key===null?E:D.key),p=s(D,p,E),N===null?C=D:N.sibling=D,N=D);return e&&P.forEach(function(F){return t(_,F)}),ne&&Jn(_,E),C}function x(_,p,m,S){var C=Di(m);if(typeof C!="function")throw Error(k(150));if(m=C.call(m),m==null)throw Error(k(151));for(var N=C=null,P=p,E=p=0,D=null,T=m.next();P!==null&&!T.done;E++,T=m.next()){P.index>E?(D=P,P=null):D=P.sibling;var F=f(_,P,T.value,S);if(F===null){P===null&&(P=D);break}e&&P&&F.alternate===null&&t(_,P),p=s(F,p,E),N===null?C=F:N.sibling=F,N=F,P=D}if(T.done)return n(_,P),ne&&Jn(_,E),C;if(P===null){for(;!T.done;E++,T=m.next())T=d(_,T.value,S),T!==null&&(p=s(T,p,E),N===null?C=T:N.sibling=T,N=T);return ne&&Jn(_,E),C}for(P=r(_,P);!T.done;E++,T=m.next())T=h(P,_,E,T.value,S),T!==null&&(e&&T.alternate!==null&&P.delete(T.key===null?E:T.key),p=s(T,p,E),N===null?C=T:N.sibling=T,N=T);return e&&P.forEach(function(ke){return t(_,ke)}),ne&&Jn(_,E),C}function w(_,p,m,S){if(typeof m=="object"&&m!==null&&m.type===jr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Co:e:{for(var C=m.key,N=p;N!==null;){if(N.key===C){if(C=m.type,C===jr){if(N.tag===7){n(_,N.sibling),p=i(N,m.props.children),p.return=_,_=p;break e}}else if(N.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===hn&&xp(C)===N.type){n(_,N.sibling),p=i(N,m.props),p.ref=Fi(_,N,m),p.return=_,_=p;break e}n(_,N);break}else t(_,N);N=N.sibling}m.type===jr?(p=dr(m.props.children,_.mode,S,m.key),p.return=_,_=p):(S=sa(m.type,m.key,m.props,null,_.mode,S),S.ref=Fi(_,p,m),S.return=_,_=S)}return o(_);case Or:e:{for(N=m.key;p!==null;){if(p.key===N)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){n(_,p.sibling),p=i(p,m.children||[]),p.return=_,_=p;break e}else{n(_,p);break}else t(_,p);p=p.sibling}p=Eu(m,_.mode,S),p.return=_,_=p}return o(_);case hn:return N=m._init,w(_,p,N(m._payload),S)}if(qi(m))return y(_,p,m,S);if(Di(m))return x(_,p,m,S);Mo(_,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(n(_,p.sibling),p=i(p,m),p.return=_,_=p):(n(_,p),p=Cu(m,_.mode,S),p.return=_,_=p),o(_)):n(_,p)}return w}var fi=gv(!0),yv=gv(!1),Na=Hn(null),ba=null,Hr=null,tf=null;function nf(){tf=Hr=ba=null}function rf(e){var t=Na.current;ee(Na),e._currentValue=t}function bc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ii(e,t){ba=e,tf=Hr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ge=!0),e.firstContext=null)}function ht(e){var t=e._currentValue;if(tf!==e)if(e={context:e,memoizedValue:t,next:null},Hr===null){if(ba===null)throw Error(k(308));Hr=e,ba.dependencies={lanes:0,firstContext:e}}else Hr=Hr.next=e;return t}var or=null;function sf(e){or===null?or=[e]:or.push(e)}function vv(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,sf(t)):(n.next=i.next,i.next=n),t.interleaved=n,tn(e,r)}function tn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var pn=!1;function of(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _v(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,W&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,tn(e,n)}return i=r.interleaved,i===null?(t.next=t,sf(r)):(t.next=i.next,i.next=t),r.interleaved=t,tn(e,n)}function Jo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Wd(e,n)}}function wp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ia(e,t,n,r){var i=e.updateQueue;pn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,h=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,x=a;switch(f=t,h=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){d=y.call(h,d,f);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,f=typeof y=="function"?y.call(h,d,f):y,f==null)break e;d=ae({},d,f);break e;case 2:pn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);gr|=o,e.lanes=o,e.memoizedState=d}}function Sp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(k(191,i));i.call(r)}}}var no={},Ot=Hn(no),bs=Hn(no),Is=Hn(no);function ar(e){if(e===no)throw Error(k(174));return e}function af(e,t){switch(X(Is,t),X(bs,e),X(Ot,no),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:uc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=uc(t,e)}ee(Ot),X(Ot,t)}function hi(){ee(Ot),ee(bs),ee(Is)}function xv(e){ar(Is.current);var t=ar(Ot.current),n=uc(t,e.type);t!==n&&(X(bs,e),X(Ot,n))}function lf(e){bs.current===e&&(ee(Ot),ee(bs))}var re=Hn(0);function Ra(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yu=[];function uf(){for(var e=0;e<yu.length;e++)yu[e]._workInProgressVersionPrimary=null;yu.length=0}var ea=ln.ReactCurrentDispatcher,vu=ln.ReactCurrentBatchConfig,mr=0,se=null,ve=null,Ee=null,Aa=!1,ss=!1,Rs=0,IS=0;function De(){throw Error(k(321))}function cf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Pt(e[n],t[n]))return!1;return!0}function df(e,t,n,r,i,s){if(mr=s,se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ea.current=e===null||e.memoizedState===null?MS:LS,e=n(r,i),ss){s=0;do{if(ss=!1,Rs=0,25<=s)throw Error(k(301));s+=1,Ee=ve=null,t.updateQueue=null,ea.current=OS,e=n(r,i)}while(ss)}if(ea.current=Da,t=ve!==null&&ve.next!==null,mr=0,Ee=ve=se=null,Aa=!1,t)throw Error(k(300));return e}function ff(){var e=Rs!==0;return Rs=0,e}function At(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?se.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function pt(){if(ve===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=ve.next;var t=Ee===null?se.memoizedState:Ee.next;if(t!==null)Ee=t,ve=e;else{if(e===null)throw Error(k(310));ve=e,e={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},Ee===null?se.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function As(e,t){return typeof t=="function"?t(e):t}function _u(e){var t=pt(),n=t.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=e;var r=ve,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((mr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,se.lanes|=c,gr|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Pt(r,t.memoizedState)||(Ge=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,se.lanes|=s,gr|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xu(e){var t=pt(),n=t.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Pt(s,t.memoizedState)||(Ge=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function wv(){}function Sv(e,t){var n=se,r=pt(),i=t(),s=!Pt(r.memoizedState,i);if(s&&(r.memoizedState=i,Ge=!0),r=r.queue,hf(Tv.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Ee!==null&&Ee.memoizedState.tag&1){if(n.flags|=2048,Ds(9,Ev.bind(null,n,r,i,t),void 0,null),Pe===null)throw Error(k(349));mr&30||Cv(n,t,i)}return i}function Cv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ev(e,t,n,r){t.value=n,t.getSnapshot=r,Pv(t)&&kv(e)}function Tv(e,t,n){return n(function(){Pv(t)&&kv(e)})}function Pv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Pt(e,n)}catch{return!0}}function kv(e){var t=tn(e,1);t!==null&&Ct(t,e,1,-1)}function Cp(e){var t=At();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:e},t.queue=e,e=e.dispatch=DS.bind(null,se,e),[t.memoizedState,e]}function Ds(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Nv(){return pt().memoizedState}function ta(e,t,n,r){var i=At();se.flags|=e,i.memoizedState=Ds(1|t,n,void 0,r===void 0?null:r)}function _l(e,t,n,r){var i=pt();r=r===void 0?null:r;var s=void 0;if(ve!==null){var o=ve.memoizedState;if(s=o.destroy,r!==null&&cf(r,o.deps)){i.memoizedState=Ds(t,n,s,r);return}}se.flags|=e,i.memoizedState=Ds(1|t,n,s,r)}function Ep(e,t){return ta(8390656,8,e,t)}function hf(e,t){return _l(2048,8,e,t)}function bv(e,t){return _l(4,2,e,t)}function Iv(e,t){return _l(4,4,e,t)}function Rv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Av(e,t,n){return n=n!=null?n.concat([e]):null,_l(4,4,Rv.bind(null,t,e),n)}function pf(){}function Dv(e,t){var n=pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Mv(e,t){var n=pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Lv(e,t,n){return mr&21?(Pt(n,t)||(n=By(),se.lanes|=n,gr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ge=!0),e.memoizedState=n)}function RS(e,t){var n=G;G=n!==0&&4>n?n:4,e(!0);var r=vu.transition;vu.transition={};try{e(!1),t()}finally{G=n,vu.transition=r}}function Ov(){return pt().memoizedState}function AS(e,t,n){var r=Nn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},jv(e))Fv(t,n);else if(n=vv(e,t,n,r),n!==null){var i=Be();Ct(n,e,r,i),Vv(n,t,r)}}function DS(e,t,n){var r=Nn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(jv(e))Fv(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Pt(a,o)){var l=t.interleaved;l===null?(i.next=i,sf(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=vv(e,t,i,r),n!==null&&(i=Be(),Ct(n,e,r,i),Vv(n,t,r))}}function jv(e){var t=e.alternate;return e===se||t!==null&&t===se}function Fv(e,t){ss=Aa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Vv(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Wd(e,n)}}var Da={readContext:ht,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useInsertionEffect:De,useLayoutEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useMutableSource:De,useSyncExternalStore:De,useId:De,unstable_isNewReconciler:!1},MS={readContext:ht,useCallback:function(e,t){return At().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:Ep,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ta(4194308,4,Rv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ta(4194308,4,e,t)},useInsertionEffect:function(e,t){return ta(4,2,e,t)},useMemo:function(e,t){var n=At();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=At();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=AS.bind(null,se,e),[r.memoizedState,e]},useRef:function(e){var t=At();return e={current:e},t.memoizedState=e},useState:Cp,useDebugValue:pf,useDeferredValue:function(e){return At().memoizedState=e},useTransition:function(){var e=Cp(!1),t=e[0];return e=RS.bind(null,e[1]),At().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=se,i=At();if(ne){if(n===void 0)throw Error(k(407));n=n()}else{if(n=t(),Pe===null)throw Error(k(349));mr&30||Cv(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Ep(Tv.bind(null,r,s,e),[e]),r.flags|=2048,Ds(9,Ev.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=At(),t=Pe.identifierPrefix;if(ne){var n=Ht,r=Wt;n=(r&~(1<<32-St(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Rs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=IS++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},LS={readContext:ht,useCallback:Dv,useContext:ht,useEffect:hf,useImperativeHandle:Av,useInsertionEffect:bv,useLayoutEffect:Iv,useMemo:Mv,useReducer:_u,useRef:Nv,useState:function(){return _u(As)},useDebugValue:pf,useDeferredValue:function(e){var t=pt();return Lv(t,ve.memoizedState,e)},useTransition:function(){var e=_u(As)[0],t=pt().memoizedState;return[e,t]},useMutableSource:wv,useSyncExternalStore:Sv,useId:Ov,unstable_isNewReconciler:!1},OS={readContext:ht,useCallback:Dv,useContext:ht,useEffect:hf,useImperativeHandle:Av,useInsertionEffect:bv,useLayoutEffect:Iv,useMemo:Mv,useReducer:xu,useRef:Nv,useState:function(){return xu(As)},useDebugValue:pf,useDeferredValue:function(e){var t=pt();return ve===null?t.memoizedState=e:Lv(t,ve.memoizedState,e)},useTransition:function(){var e=xu(As)[0],t=pt().memoizedState;return[e,t]},useMutableSource:wv,useSyncExternalStore:Sv,useId:Ov,unstable_isNewReconciler:!1};function yt(e,t){if(e&&e.defaultProps){t=ae({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ic(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ae({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var xl={isMounted:function(e){return(e=e._reactInternals)?Sr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Be(),i=Nn(e),s=Yt(r,i);s.payload=t,n!=null&&(s.callback=n),t=Pn(e,s,i),t!==null&&(Ct(t,e,i,r),Jo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Be(),i=Nn(e),s=Yt(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Pn(e,s,i),t!==null&&(Ct(t,e,i,r),Jo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Be(),r=Nn(e),i=Yt(n,r);i.tag=2,t!=null&&(i.callback=t),t=Pn(e,i,r),t!==null&&(Ct(t,e,r,n),Jo(t,e,r))}};function Tp(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Ts(n,r)||!Ts(i,s):!0}function Bv(e,t,n){var r=!1,i=jn,s=t.contextType;return typeof s=="object"&&s!==null?s=ht(s):(i=Qe(t)?hr:Oe.current,r=t.contextTypes,s=(r=r!=null)?ci(e,i):jn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=xl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Pp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&xl.enqueueReplaceState(t,t.state,null)}function Rc(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},of(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=ht(s):(s=Qe(t)?hr:Oe.current,i.context=ci(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Ic(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&xl.enqueueReplaceState(i,i.state,null),Ia(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function pi(e,t){try{var n="",r=t;do n+=cw(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function wu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ac(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var jS=typeof WeakMap=="function"?WeakMap:Map;function $v(e,t,n){n=Yt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){La||(La=!0,Uc=r),Ac(e,t)},n}function Uv(e,t,n){n=Yt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Ac(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ac(e,t),typeof r!="function"&&(kn===null?kn=new Set([this]):kn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function kp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new jS;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=XS.bind(null,e,t,n),t.then(e,e))}function Np(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function bp(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Yt(-1,1),t.tag=2,Pn(n,t,1))),n.lanes|=1),e)}var FS=ln.ReactCurrentOwner,Ge=!1;function Fe(e,t,n,r){t.child=e===null?yv(t,null,n,r):fi(t,e.child,n,r)}function Ip(e,t,n,r,i){n=n.render;var s=t.ref;return ii(t,i),r=df(e,t,n,r,s,i),n=ff(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,nn(e,t,i)):(ne&&n&&Zd(t),t.flags|=1,Fe(e,t,r,i),t.child)}function Rp(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Sf(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,zv(e,t,s,r,i)):(e=sa(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ts,n(o,r)&&e.ref===t.ref)return nn(e,t,i)}return t.flags|=1,e=bn(s,r),e.ref=t.ref,e.return=t,t.child=e}function zv(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Ts(s,r)&&e.ref===t.ref)if(Ge=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Ge=!0);else return t.lanes=e.lanes,nn(e,t,i)}return Dc(e,t,n,r,i)}function Wv(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},X(Kr,Je),Je|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,X(Kr,Je),Je|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,X(Kr,Je),Je|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,X(Kr,Je),Je|=r;return Fe(e,t,i,n),t.child}function Hv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Dc(e,t,n,r,i){var s=Qe(n)?hr:Oe.current;return s=ci(t,s),ii(t,i),n=df(e,t,n,r,s,i),r=ff(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,nn(e,t,i)):(ne&&r&&Zd(t),t.flags|=1,Fe(e,t,n,i),t.child)}function Ap(e,t,n,r,i){if(Qe(n)){var s=!0;Ta(t)}else s=!1;if(ii(t,i),t.stateNode===null)na(e,t),Bv(t,n,r),Rc(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ht(u):(u=Qe(n)?hr:Oe.current,u=ci(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Pp(t,o,r,u),pn=!1;var f=t.memoizedState;o.state=f,Ia(t,r,o,i),l=t.memoizedState,a!==r||f!==l||Ye.current||pn?(typeof c=="function"&&(Ic(t,n,c,r),l=t.memoizedState),(a=pn||Tp(t,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,_v(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:yt(t.type,a),o.props=u,d=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ht(l):(l=Qe(n)?hr:Oe.current,l=ci(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Pp(t,o,r,l),pn=!1,f=t.memoizedState,o.state=f,Ia(t,r,o,i);var y=t.memoizedState;a!==d||f!==y||Ye.current||pn?(typeof h=="function"&&(Ic(t,n,h,r),y=t.memoizedState),(u=pn||Tp(t,n,u,r,f,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Mc(e,t,n,r,s,i)}function Mc(e,t,n,r,i,s){Hv(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&yp(t,n,!1),nn(e,t,s);r=t.stateNode,FS.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=fi(t,e.child,null,s),t.child=fi(t,null,a,s)):Fe(e,t,a,s),t.memoizedState=r.state,i&&yp(t,n,!0),t.child}function Gv(e){var t=e.stateNode;t.pendingContext?gp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&gp(e,t.context,!1),af(e,t.containerInfo)}function Dp(e,t,n,r,i){return di(),ef(i),t.flags|=256,Fe(e,t,n,r),t.child}var Lc={dehydrated:null,treeContext:null,retryLane:0};function Oc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Kv(e,t,n){var r=t.pendingProps,i=re.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),X(re,i&1),e===null)return Nc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Cl(o,r,0,null),e=dr(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Oc(n),t.memoizedState=Lc,e):mf(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return VS(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=bn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=bn(a,s):(s=dr(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Oc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Lc,r}return s=e.child,e=s.sibling,r=bn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function mf(e,t){return t=Cl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Lo(e,t,n,r){return r!==null&&ef(r),fi(t,e.child,null,n),e=mf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function VS(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=wu(Error(k(422))),Lo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Cl({mode:"visible",children:r.children},i,0,null),s=dr(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&fi(t,e.child,null,o),t.child.memoizedState=Oc(o),t.memoizedState=Lc,s);if(!(t.mode&1))return Lo(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(k(419)),r=wu(s,r,void 0),Lo(e,t,o,r)}if(a=(o&e.childLanes)!==0,Ge||a){if(r=Pe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,tn(e,i),Ct(r,e,i,-1))}return wf(),r=wu(Error(k(421))),Lo(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=ZS.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,et=Tn(i.nextSibling),tt=t,ne=!0,_t=null,e!==null&&(lt[ut++]=Wt,lt[ut++]=Ht,lt[ut++]=pr,Wt=e.id,Ht=e.overflow,pr=t),t=mf(t,r.children),t.flags|=4096,t)}function Mp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),bc(e.return,t,n)}function Su(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Yv(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Fe(e,t,r.children,n),r=re.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mp(e,n,t);else if(e.tag===19)Mp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(X(re,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ra(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Su(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ra(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Su(t,!0,n,null,s);break;case"together":Su(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function na(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function nn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),gr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(k(153));if(t.child!==null){for(e=t.child,n=bn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=bn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function BS(e,t,n){switch(t.tag){case 3:Gv(t),di();break;case 5:xv(t);break;case 1:Qe(t.type)&&Ta(t);break;case 4:af(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;X(Na,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(X(re,re.current&1),t.flags|=128,null):n&t.child.childLanes?Kv(e,t,n):(X(re,re.current&1),e=nn(e,t,n),e!==null?e.sibling:null);X(re,re.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Yv(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),X(re,re.current),r)break;return null;case 22:case 23:return t.lanes=0,Wv(e,t,n)}return nn(e,t,n)}var Qv,jc,qv,Xv;Qv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jc=function(){};qv=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ar(Ot.current);var s=null;switch(n){case"input":i=sc(e,i),r=sc(e,r),s=[];break;case"select":i=ae({},i,{value:void 0}),r=ae({},r,{value:void 0}),s=[];break;case"textarea":i=lc(e,i),r=lc(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ca)}cc(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(vs.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(vs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&J("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Xv=function(e,t,n,r){n!==r&&(t.flags|=4)};function Vi(e,t){if(!ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Me(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $S(e,t,n){var r=t.pendingProps;switch(Jd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(t),null;case 1:return Qe(t.type)&&Ea(),Me(t),null;case 3:return r=t.stateNode,hi(),ee(Ye),ee(Oe),uf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Do(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_t!==null&&(Hc(_t),_t=null))),jc(e,t),Me(t),null;case 5:lf(t);var i=ar(Is.current);if(n=t.type,e!==null&&t.stateNode!=null)qv(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(k(166));return Me(t),null}if(e=ar(Ot.current),Do(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Mt]=t,r[Ns]=s,e=(t.mode&1)!==0,n){case"dialog":J("cancel",r),J("close",r);break;case"iframe":case"object":case"embed":J("load",r);break;case"video":case"audio":for(i=0;i<Zi.length;i++)J(Zi[i],r);break;case"source":J("error",r);break;case"img":case"image":case"link":J("error",r),J("load",r);break;case"details":J("toggle",r);break;case"input":zh(r,s),J("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},J("invalid",r);break;case"textarea":Hh(r,s),J("invalid",r)}cc(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ao(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ao(r.textContent,a,e),i=["children",""+a]):vs.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&J("scroll",r)}switch(n){case"input":Eo(r),Wh(r,s,!0);break;case"textarea":Eo(r),Gh(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ca)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ty(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Mt]=t,e[Ns]=r,Qv(e,t,!1,!1),t.stateNode=e;e:{switch(o=dc(n,r),n){case"dialog":J("cancel",e),J("close",e),i=r;break;case"iframe":case"object":case"embed":J("load",e),i=r;break;case"video":case"audio":for(i=0;i<Zi.length;i++)J(Zi[i],e);i=r;break;case"source":J("error",e),i=r;break;case"img":case"image":case"link":J("error",e),J("load",e),i=r;break;case"details":J("toggle",e),i=r;break;case"input":zh(e,r),i=sc(e,r),J("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ae({},r,{value:void 0}),J("invalid",e);break;case"textarea":Hh(e,r),i=lc(e,r),J("invalid",e);break;default:i=r}cc(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Ny(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Py(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&_s(e,l):typeof l=="number"&&_s(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(vs.hasOwnProperty(s)?l!=null&&s==="onScroll"&&J("scroll",e):l!=null&&Fd(e,s,l,o))}switch(n){case"input":Eo(e),Wh(e,r,!1);break;case"textarea":Eo(e),Gh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+On(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?ei(e,!!r.multiple,s,!1):r.defaultValue!=null&&ei(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ca)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Me(t),null;case 6:if(e&&t.stateNode!=null)Xv(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(k(166));if(n=ar(Is.current),ar(Ot.current),Do(t)){if(r=t.stateNode,n=t.memoizedProps,r[Mt]=t,(s=r.nodeValue!==n)&&(e=tt,e!==null))switch(e.tag){case 3:Ao(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ao(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mt]=t,t.stateNode=r}return Me(t),null;case 13:if(ee(re),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ne&&et!==null&&t.mode&1&&!(t.flags&128))mv(),di(),t.flags|=98560,s=!1;else if(s=Do(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(k(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(k(317));s[Mt]=t}else di(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Me(t),s=!1}else _t!==null&&(Hc(_t),_t=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||re.current&1?we===0&&(we=3):wf())),t.updateQueue!==null&&(t.flags|=4),Me(t),null);case 4:return hi(),jc(e,t),e===null&&Ps(t.stateNode.containerInfo),Me(t),null;case 10:return rf(t.type._context),Me(t),null;case 17:return Qe(t.type)&&Ea(),Me(t),null;case 19:if(ee(re),s=t.memoizedState,s===null)return Me(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Vi(s,!1);else{if(we!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ra(e),o!==null){for(t.flags|=128,Vi(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return X(re,re.current&1|2),t.child}e=e.sibling}s.tail!==null&&he()>mi&&(t.flags|=128,r=!0,Vi(s,!1),t.lanes=4194304)}else{if(!r)if(e=Ra(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Vi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ne)return Me(t),null}else 2*he()-s.renderingStartTime>mi&&n!==1073741824&&(t.flags|=128,r=!0,Vi(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=he(),t.sibling=null,n=re.current,X(re,r?n&1|2:n&1),t):(Me(t),null);case 22:case 23:return xf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Je&1073741824&&(Me(t),t.subtreeFlags&6&&(t.flags|=8192)):Me(t),null;case 24:return null;case 25:return null}throw Error(k(156,t.tag))}function US(e,t){switch(Jd(t),t.tag){case 1:return Qe(t.type)&&Ea(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hi(),ee(Ye),ee(Oe),uf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return lf(t),null;case 13:if(ee(re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(k(340));di()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(re),null;case 4:return hi(),null;case 10:return rf(t.type._context),null;case 22:case 23:return xf(),null;case 24:return null;default:return null}}var Oo=!1,Le=!1,zS=typeof WeakSet=="function"?WeakSet:Set,A=null;function Gr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){le(e,t,r)}else n.current=null}function Fc(e,t,n){try{n()}catch(r){le(e,t,r)}}var Lp=!1;function WS(e,t){if(wc=xa,e=nv(),Xd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sc={focusedElem:e,selectionRange:n},xa=!1,A=t;A!==null;)if(t=A,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,A=e;else for(;A!==null;){t=A;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,w=y.memoizedState,_=t.stateNode,p=_.getSnapshotBeforeUpdate(t.elementType===t.type?x:yt(t.type,x),w);_.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(S){le(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,A=e;break}A=t.return}return y=Lp,Lp=!1,y}function os(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Fc(t,n,s)}i=i.next}while(i!==r)}}function wl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Vc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Zv(e){var t=e.alternate;t!==null&&(e.alternate=null,Zv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mt],delete t[Ns],delete t[Tc],delete t[PS],delete t[kS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Jv(e){return e.tag===5||e.tag===3||e.tag===4}function Op(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Jv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ca));else if(r!==4&&(e=e.child,e!==null))for(Bc(e,t,n),e=e.sibling;e!==null;)Bc(e,t,n),e=e.sibling}function $c(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for($c(e,t,n),e=e.sibling;e!==null;)$c(e,t,n),e=e.sibling}var Ne=null,vt=!1;function dn(e,t,n){for(n=n.child;n!==null;)e0(e,t,n),n=n.sibling}function e0(e,t,n){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(hl,n)}catch{}switch(n.tag){case 5:Le||Gr(n,t);case 6:var r=Ne,i=vt;Ne=null,dn(e,t,n),Ne=r,vt=i,Ne!==null&&(vt?(e=Ne,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ne.removeChild(n.stateNode));break;case 18:Ne!==null&&(vt?(e=Ne,n=n.stateNode,e.nodeType===8?mu(e.parentNode,n):e.nodeType===1&&mu(e,n),Cs(e)):mu(Ne,n.stateNode));break;case 4:r=Ne,i=vt,Ne=n.stateNode.containerInfo,vt=!0,dn(e,t,n),Ne=r,vt=i;break;case 0:case 11:case 14:case 15:if(!Le&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Fc(n,t,o),i=i.next}while(i!==r)}dn(e,t,n);break;case 1:if(!Le&&(Gr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){le(n,t,a)}dn(e,t,n);break;case 21:dn(e,t,n);break;case 22:n.mode&1?(Le=(r=Le)||n.memoizedState!==null,dn(e,t,n),Le=r):dn(e,t,n);break;default:dn(e,t,n)}}function jp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new zS),t.forEach(function(r){var i=JS.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function gt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ne=a.stateNode,vt=!1;break e;case 3:Ne=a.stateNode.containerInfo,vt=!0;break e;case 4:Ne=a.stateNode.containerInfo,vt=!0;break e}a=a.return}if(Ne===null)throw Error(k(160));e0(s,o,i),Ne=null,vt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){le(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)t0(t,e),t=t.sibling}function t0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gt(t,e),bt(e),r&4){try{os(3,e,e.return),wl(3,e)}catch(x){le(e,e.return,x)}try{os(5,e,e.return)}catch(x){le(e,e.return,x)}}break;case 1:gt(t,e),bt(e),r&512&&n!==null&&Gr(n,n.return);break;case 5:if(gt(t,e),bt(e),r&512&&n!==null&&Gr(n,n.return),e.flags&32){var i=e.stateNode;try{_s(i,"")}catch(x){le(e,e.return,x)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Cy(i,s),dc(a,o);var u=dc(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?Ny(i,d):c==="dangerouslySetInnerHTML"?Py(i,d):c==="children"?_s(i,d):Fd(i,c,d,u)}switch(a){case"input":oc(i,s);break;case"textarea":Ey(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?ei(i,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?ei(i,!!s.multiple,s.defaultValue,!0):ei(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ns]=s}catch(x){le(e,e.return,x)}}break;case 6:if(gt(t,e),bt(e),r&4){if(e.stateNode===null)throw Error(k(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(x){le(e,e.return,x)}}break;case 3:if(gt(t,e),bt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cs(t.containerInfo)}catch(x){le(e,e.return,x)}break;case 4:gt(t,e),bt(e);break;case 13:gt(t,e),bt(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(vf=he())),r&4&&jp(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Le=(u=Le)||c,gt(t,e),Le=u):gt(t,e),bt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(A=e,c=e.child;c!==null;){for(d=A=c;A!==null;){switch(f=A,h=f.child,f.tag){case 0:case 11:case 14:case 15:os(4,f,f.return);break;case 1:Gr(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(x){le(r,n,x)}}break;case 5:Gr(f,f.return);break;case 22:if(f.memoizedState!==null){Vp(d);continue}}h!==null?(h.return=f,A=h):Vp(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ky("display",o))}catch(x){le(e,e.return,x)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(x){le(e,e.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gt(t,e),bt(e),r&4&&jp(e);break;case 21:break;default:gt(t,e),bt(e)}}function bt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Jv(n)){var r=n;break e}n=n.return}throw Error(k(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_s(i,""),r.flags&=-33);var s=Op(e);$c(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Op(e);Bc(e,a,o);break;default:throw Error(k(161))}}catch(l){le(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function HS(e,t,n){A=e,n0(e)}function n0(e,t,n){for(var r=(e.mode&1)!==0;A!==null;){var i=A,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Oo;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Le;a=Oo;var u=Le;if(Oo=o,(Le=l)&&!u)for(A=i;A!==null;)o=A,l=o.child,o.tag===22&&o.memoizedState!==null?Bp(i):l!==null?(l.return=o,A=l):Bp(i);for(;s!==null;)A=s,n0(s),s=s.sibling;A=i,Oo=a,Le=u}Fp(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,A=s):Fp(e)}}function Fp(e){for(;A!==null;){var t=A;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Le||wl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Le)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:yt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Sp(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Sp(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Cs(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}Le||t.flags&512&&Vc(t)}catch(f){le(t,t.return,f)}}if(t===e){A=null;break}if(n=t.sibling,n!==null){n.return=t.return,A=n;break}A=t.return}}function Vp(e){for(;A!==null;){var t=A;if(t===e){A=null;break}var n=t.sibling;if(n!==null){n.return=t.return,A=n;break}A=t.return}}function Bp(e){for(;A!==null;){var t=A;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{wl(4,t)}catch(l){le(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){le(t,i,l)}}var s=t.return;try{Vc(t)}catch(l){le(t,s,l)}break;case 5:var o=t.return;try{Vc(t)}catch(l){le(t,o,l)}}}catch(l){le(t,t.return,l)}if(t===e){A=null;break}var a=t.sibling;if(a!==null){a.return=t.return,A=a;break}A=t.return}}var GS=Math.ceil,Ma=ln.ReactCurrentDispatcher,gf=ln.ReactCurrentOwner,ft=ln.ReactCurrentBatchConfig,W=0,Pe=null,ye=null,Ie=0,Je=0,Kr=Hn(0),we=0,Ms=null,gr=0,Sl=0,yf=0,as=null,He=null,vf=0,mi=1/0,Ut=null,La=!1,Uc=null,kn=null,jo=!1,xn=null,Oa=0,ls=0,zc=null,ra=-1,ia=0;function Be(){return W&6?he():ra!==-1?ra:ra=he()}function Nn(e){return e.mode&1?W&2&&Ie!==0?Ie&-Ie:bS.transition!==null?(ia===0&&(ia=By()),ia):(e=G,e!==0||(e=window.event,e=e===void 0?16:Ky(e.type)),e):1}function Ct(e,t,n,r){if(50<ls)throw ls=0,zc=null,Error(k(185));Js(e,n,r),(!(W&2)||e!==Pe)&&(e===Pe&&(!(W&2)&&(Sl|=n),we===4&&yn(e,Ie)),qe(e,r),n===1&&W===0&&!(t.mode&1)&&(mi=he()+500,vl&&Gn()))}function qe(e,t){var n=e.callbackNode;bw(e,t);var r=_a(e,e===Pe?Ie:0);if(r===0)n!==null&&Qh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Qh(n),t===1)e.tag===0?NS($p.bind(null,e)):fv($p.bind(null,e)),ES(function(){!(W&6)&&Gn()}),n=null;else{switch($y(r)){case 1:n=zd;break;case 4:n=Fy;break;case 16:n=va;break;case 536870912:n=Vy;break;default:n=va}n=c0(n,r0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function r0(e,t){if(ra=-1,ia=0,W&6)throw Error(k(327));var n=e.callbackNode;if(si()&&e.callbackNode!==n)return null;var r=_a(e,e===Pe?Ie:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ja(e,r);else{t=r;var i=W;W|=2;var s=s0();(Pe!==e||Ie!==t)&&(Ut=null,mi=he()+500,cr(e,t));do try{QS();break}catch(a){i0(e,a)}while(!0);nf(),Ma.current=s,W=i,ye!==null?t=0:(Pe=null,Ie=0,t=we)}if(t!==0){if(t===2&&(i=gc(e),i!==0&&(r=i,t=Wc(e,i))),t===1)throw n=Ms,cr(e,0),yn(e,r),qe(e,he()),n;if(t===6)yn(e,r);else{if(i=e.current.alternate,!(r&30)&&!KS(i)&&(t=ja(e,r),t===2&&(s=gc(e),s!==0&&(r=s,t=Wc(e,s))),t===1))throw n=Ms,cr(e,0),yn(e,r),qe(e,he()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(k(345));case 2:er(e,He,Ut);break;case 3:if(yn(e,r),(r&130023424)===r&&(t=vf+500-he(),10<t)){if(_a(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Be(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ec(er.bind(null,e,He,Ut),t);break}er(e,He,Ut);break;case 4:if(yn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-St(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=he()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*GS(r/1960))-r,10<r){e.timeoutHandle=Ec(er.bind(null,e,He,Ut),r);break}er(e,He,Ut);break;case 5:er(e,He,Ut);break;default:throw Error(k(329))}}}return qe(e,he()),e.callbackNode===n?r0.bind(null,e):null}function Wc(e,t){var n=as;return e.current.memoizedState.isDehydrated&&(cr(e,t).flags|=256),e=ja(e,t),e!==2&&(t=He,He=n,t!==null&&Hc(t)),e}function Hc(e){He===null?He=e:He.push.apply(He,e)}function KS(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Pt(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yn(e,t){for(t&=~yf,t&=~Sl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-St(t),r=1<<n;e[n]=-1,t&=~r}}function $p(e){if(W&6)throw Error(k(327));si();var t=_a(e,0);if(!(t&1))return qe(e,he()),null;var n=ja(e,t);if(e.tag!==0&&n===2){var r=gc(e);r!==0&&(t=r,n=Wc(e,r))}if(n===1)throw n=Ms,cr(e,0),yn(e,t),qe(e,he()),n;if(n===6)throw Error(k(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,er(e,He,Ut),qe(e,he()),null}function _f(e,t){var n=W;W|=1;try{return e(t)}finally{W=n,W===0&&(mi=he()+500,vl&&Gn())}}function yr(e){xn!==null&&xn.tag===0&&!(W&6)&&si();var t=W;W|=1;var n=ft.transition,r=G;try{if(ft.transition=null,G=1,e)return e()}finally{G=r,ft.transition=n,W=t,!(W&6)&&Gn()}}function xf(){Je=Kr.current,ee(Kr)}function cr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,CS(n)),ye!==null)for(n=ye.return;n!==null;){var r=n;switch(Jd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ea();break;case 3:hi(),ee(Ye),ee(Oe),uf();break;case 5:lf(r);break;case 4:hi();break;case 13:ee(re);break;case 19:ee(re);break;case 10:rf(r.type._context);break;case 22:case 23:xf()}n=n.return}if(Pe=e,ye=e=bn(e.current,null),Ie=Je=t,we=0,Ms=null,yf=Sl=gr=0,He=as=null,or!==null){for(t=0;t<or.length;t++)if(n=or[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}or=null}return e}function i0(e,t){do{var n=ye;try{if(nf(),ea.current=Da,Aa){for(var r=se.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Aa=!1}if(mr=0,Ee=ve=se=null,ss=!1,Rs=0,gf.current=null,n===null||n.return===null){we=1,Ms=t,ye=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Ie,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Np(o);if(h!==null){h.flags&=-257,bp(h,o,a,s,t),h.mode&1&&kp(s,u,t),t=h,l=u;var y=t.updateQueue;if(y===null){var x=new Set;x.add(l),t.updateQueue=x}else y.add(l);break e}else{if(!(t&1)){kp(s,u,t),wf();break e}l=Error(k(426))}}else if(ne&&a.mode&1){var w=Np(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),bp(w,o,a,s,t),ef(pi(l,a));break e}}s=l=pi(l,a),we!==4&&(we=2),as===null?as=[s]:as.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var _=$v(s,l,t);wp(s,_);break e;case 1:a=l;var p=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(kn===null||!kn.has(m)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=Uv(s,a,t);wp(s,S);break e}}s=s.return}while(s!==null)}a0(n)}catch(C){t=C,ye===n&&n!==null&&(ye=n=n.return);continue}break}while(!0)}function s0(){var e=Ma.current;return Ma.current=Da,e===null?Da:e}function wf(){(we===0||we===3||we===2)&&(we=4),Pe===null||!(gr&268435455)&&!(Sl&268435455)||yn(Pe,Ie)}function ja(e,t){var n=W;W|=2;var r=s0();(Pe!==e||Ie!==t)&&(Ut=null,cr(e,t));do try{YS();break}catch(i){i0(e,i)}while(!0);if(nf(),W=n,Ma.current=r,ye!==null)throw Error(k(261));return Pe=null,Ie=0,we}function YS(){for(;ye!==null;)o0(ye)}function QS(){for(;ye!==null&&!xw();)o0(ye)}function o0(e){var t=u0(e.alternate,e,Je);e.memoizedProps=e.pendingProps,t===null?a0(e):ye=t,gf.current=null}function a0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=US(n,t),n!==null){n.flags&=32767,ye=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{we=6,ye=null;return}}else if(n=$S(n,t,Je),n!==null){ye=n;return}if(t=t.sibling,t!==null){ye=t;return}ye=t=e}while(t!==null);we===0&&(we=5)}function er(e,t,n){var r=G,i=ft.transition;try{ft.transition=null,G=1,qS(e,t,n,r)}finally{ft.transition=i,G=r}return null}function qS(e,t,n,r){do si();while(xn!==null);if(W&6)throw Error(k(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(k(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Iw(e,s),e===Pe&&(ye=Pe=null,Ie=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||jo||(jo=!0,c0(va,function(){return si(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ft.transition,ft.transition=null;var o=G;G=1;var a=W;W|=4,gf.current=null,WS(e,n),t0(n,e),gS(Sc),xa=!!wc,Sc=wc=null,e.current=n,HS(n),ww(),W=a,G=o,ft.transition=s}else e.current=n;if(jo&&(jo=!1,xn=e,Oa=i),s=e.pendingLanes,s===0&&(kn=null),Ew(n.stateNode),qe(e,he()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(La)throw La=!1,e=Uc,Uc=null,e;return Oa&1&&e.tag!==0&&si(),s=e.pendingLanes,s&1?e===zc?ls++:(ls=0,zc=e):ls=0,Gn(),null}function si(){if(xn!==null){var e=$y(Oa),t=ft.transition,n=G;try{if(ft.transition=null,G=16>e?16:e,xn===null)var r=!1;else{if(e=xn,xn=null,Oa=0,W&6)throw Error(k(331));var i=W;for(W|=4,A=e.current;A!==null;){var s=A,o=s.child;if(A.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(A=u;A!==null;){var c=A;switch(c.tag){case 0:case 11:case 15:os(8,c,s)}var d=c.child;if(d!==null)d.return=c,A=d;else for(;A!==null;){c=A;var f=c.sibling,h=c.return;if(Zv(c),c===u){A=null;break}if(f!==null){f.return=h,A=f;break}A=h}}}var y=s.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}A=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,A=o;else e:for(;A!==null;){if(s=A,s.flags&2048)switch(s.tag){case 0:case 11:case 15:os(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,A=_;break e}A=s.return}}var p=e.current;for(A=p;A!==null;){o=A;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,A=m;else e:for(o=p;A!==null;){if(a=A,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:wl(9,a)}}catch(C){le(a,a.return,C)}if(a===o){A=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,A=S;break e}A=a.return}}if(W=i,Gn(),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(hl,e)}catch{}r=!0}return r}finally{G=n,ft.transition=t}}return!1}function Up(e,t,n){t=pi(n,t),t=$v(e,t,1),e=Pn(e,t,1),t=Be(),e!==null&&(Js(e,1,t),qe(e,t))}function le(e,t,n){if(e.tag===3)Up(e,e,n);else for(;t!==null;){if(t.tag===3){Up(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(kn===null||!kn.has(r))){e=pi(n,e),e=Uv(t,e,1),t=Pn(t,e,1),e=Be(),t!==null&&(Js(t,1,e),qe(t,e));break}}t=t.return}}function XS(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Be(),e.pingedLanes|=e.suspendedLanes&n,Pe===e&&(Ie&n)===n&&(we===4||we===3&&(Ie&130023424)===Ie&&500>he()-vf?cr(e,0):yf|=n),qe(e,t)}function l0(e,t){t===0&&(e.mode&1?(t=ko,ko<<=1,!(ko&130023424)&&(ko=4194304)):t=1);var n=Be();e=tn(e,t),e!==null&&(Js(e,t,n),qe(e,n))}function ZS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),l0(e,n)}function JS(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(k(314))}r!==null&&r.delete(t),l0(e,n)}var u0;u0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ye.current)Ge=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ge=!1,BS(e,t,n);Ge=!!(e.flags&131072)}else Ge=!1,ne&&t.flags&1048576&&hv(t,ka,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;na(e,t),e=t.pendingProps;var i=ci(t,Oe.current);ii(t,n),i=df(null,t,r,e,i,n);var s=ff();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qe(r)?(s=!0,Ta(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,of(t),i.updater=xl,t.stateNode=i,i._reactInternals=t,Rc(t,r,e,n),t=Mc(null,t,r,!0,s,n)):(t.tag=0,ne&&s&&Zd(t),Fe(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(na(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=tC(r),e=yt(r,e),i){case 0:t=Dc(null,t,r,e,n);break e;case 1:t=Ap(null,t,r,e,n);break e;case 11:t=Ip(null,t,r,e,n);break e;case 14:t=Rp(null,t,r,yt(r.type,e),n);break e}throw Error(k(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yt(r,i),Dc(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yt(r,i),Ap(e,t,r,i,n);case 3:e:{if(Gv(t),e===null)throw Error(k(387));r=t.pendingProps,s=t.memoizedState,i=s.element,_v(e,t),Ia(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=pi(Error(k(423)),t),t=Dp(e,t,r,n,i);break e}else if(r!==i){i=pi(Error(k(424)),t),t=Dp(e,t,r,n,i);break e}else for(et=Tn(t.stateNode.containerInfo.firstChild),tt=t,ne=!0,_t=null,n=yv(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(di(),r===i){t=nn(e,t,n);break e}Fe(e,t,r,n)}t=t.child}return t;case 5:return xv(t),e===null&&Nc(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Cc(r,i)?o=null:s!==null&&Cc(r,s)&&(t.flags|=32),Hv(e,t),Fe(e,t,o,n),t.child;case 6:return e===null&&Nc(t),null;case 13:return Kv(e,t,n);case 4:return af(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=fi(t,null,r,n):Fe(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yt(r,i),Ip(e,t,r,i,n);case 7:return Fe(e,t,t.pendingProps,n),t.child;case 8:return Fe(e,t,t.pendingProps.children,n),t.child;case 12:return Fe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,X(Na,r._currentValue),r._currentValue=o,s!==null)if(Pt(s.value,o)){if(s.children===i.children&&!Ye.current){t=nn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Yt(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),bc(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(k(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),bc(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Fe(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ii(t,n),i=ht(i),r=r(i),t.flags|=1,Fe(e,t,r,n),t.child;case 14:return r=t.type,i=yt(r,t.pendingProps),i=yt(r.type,i),Rp(e,t,r,i,n);case 15:return zv(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yt(r,i),na(e,t),t.tag=1,Qe(r)?(e=!0,Ta(t)):e=!1,ii(t,n),Bv(t,r,i),Rc(t,r,i,n),Mc(null,t,r,!0,e,n);case 19:return Yv(e,t,n);case 22:return Wv(e,t,n)}throw Error(k(156,t.tag))};function c0(e,t){return jy(e,t)}function eC(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ct(e,t,n,r){return new eC(e,t,n,r)}function Sf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tC(e){if(typeof e=="function")return Sf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Bd)return 11;if(e===$d)return 14}return 2}function bn(e,t){var n=e.alternate;return n===null?(n=ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function sa(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Sf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case jr:return dr(n.children,i,s,t);case Vd:o=8,i|=8;break;case tc:return e=ct(12,n,t,i|2),e.elementType=tc,e.lanes=s,e;case nc:return e=ct(13,n,t,i),e.elementType=nc,e.lanes=s,e;case rc:return e=ct(19,n,t,i),e.elementType=rc,e.lanes=s,e;case xy:return Cl(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case vy:o=10;break e;case _y:o=9;break e;case Bd:o=11;break e;case $d:o=14;break e;case hn:o=16,r=null;break e}throw Error(k(130,e==null?e:typeof e,""))}return t=ct(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function dr(e,t,n,r){return e=ct(7,e,r,t),e.lanes=n,e}function Cl(e,t,n,r){return e=ct(22,e,r,t),e.elementType=xy,e.lanes=n,e.stateNode={isHidden:!1},e}function Cu(e,t,n){return e=ct(6,e,null,t),e.lanes=n,e}function Eu(e,t,n){return t=ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function nC(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=iu(0),this.expirationTimes=iu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=iu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Cf(e,t,n,r,i,s,o,a,l){return e=new nC(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ct(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},of(s),e}function rC(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Or,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function d0(e){if(!e)return jn;e=e._reactInternals;e:{if(Sr(e)!==e||e.tag!==1)throw Error(k(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(k(171))}if(e.tag===1){var n=e.type;if(Qe(n))return dv(e,n,t)}return t}function f0(e,t,n,r,i,s,o,a,l){return e=Cf(n,r,!0,e,i,s,o,a,l),e.context=d0(null),n=e.current,r=Be(),i=Nn(n),s=Yt(r,i),s.callback=t??null,Pn(n,s,i),e.current.lanes=i,Js(e,i,r),qe(e,r),e}function El(e,t,n,r){var i=t.current,s=Be(),o=Nn(i);return n=d0(n),t.context===null?t.context=n:t.pendingContext=n,t=Yt(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Pn(i,t,o),e!==null&&(Ct(e,i,o,s),Jo(e,i,o)),o}function Fa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ef(e,t){zp(e,t),(e=e.alternate)&&zp(e,t)}function iC(){return null}var h0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Tf(e){this._internalRoot=e}Tl.prototype.render=Tf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(k(409));El(e,t,null,null)};Tl.prototype.unmount=Tf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yr(function(){El(null,e,null,null)}),t[en]=null}};function Tl(e){this._internalRoot=e}Tl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Wy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gn.length&&t!==0&&t<gn[n].priority;n++);gn.splice(n,0,e),n===0&&Gy(e)}};function Pf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Pl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Wp(){}function sC(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Fa(o);s.call(u)}}var o=f0(t,r,e,0,null,!1,!1,"",Wp);return e._reactRootContainer=o,e[en]=o.current,Ps(e.nodeType===8?e.parentNode:e),yr(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Fa(l);a.call(u)}}var l=Cf(e,0,!1,null,null,!1,!1,"",Wp);return e._reactRootContainer=l,e[en]=l.current,Ps(e.nodeType===8?e.parentNode:e),yr(function(){El(t,l,n,r)}),l}function kl(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Fa(o);a.call(l)}}El(t,o,e,i)}else o=sC(n,t,e,i,r);return Fa(o)}Uy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Xi(t.pendingLanes);n!==0&&(Wd(t,n|1),qe(t,he()),!(W&6)&&(mi=he()+500,Gn()))}break;case 13:yr(function(){var r=tn(e,1);if(r!==null){var i=Be();Ct(r,e,1,i)}}),Ef(e,1)}};Hd=function(e){if(e.tag===13){var t=tn(e,134217728);if(t!==null){var n=Be();Ct(t,e,134217728,n)}Ef(e,134217728)}};zy=function(e){if(e.tag===13){var t=Nn(e),n=tn(e,t);if(n!==null){var r=Be();Ct(n,e,t,r)}Ef(e,t)}};Wy=function(){return G};Hy=function(e,t){var n=G;try{return G=e,t()}finally{G=n}};hc=function(e,t,n){switch(t){case"input":if(oc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=yl(r);if(!i)throw Error(k(90));Sy(r),oc(r,i)}}}break;case"textarea":Ey(e,n);break;case"select":t=n.value,t!=null&&ei(e,!!n.multiple,t,!1)}};Ry=_f;Ay=yr;var oC={usingClientEntryPoint:!1,Events:[to,$r,yl,by,Iy,_f]},Bi={findFiberByHostInstance:sr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aC={bundleType:Bi.bundleType,version:Bi.version,rendererPackageName:Bi.rendererPackageName,rendererConfig:Bi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ln.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ly(e),e===null?null:e.stateNode},findFiberByHostInstance:Bi.findFiberByHostInstance||iC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fo.isDisabled&&Fo.supportsFiber)try{hl=Fo.inject(aC),Lt=Fo}catch{}}it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oC;it.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pf(t))throw Error(k(200));return rC(e,t,null,n)};it.createRoot=function(e,t){if(!Pf(e))throw Error(k(299));var n=!1,r="",i=h0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Cf(e,1,!1,null,null,n,!1,r,i),e[en]=t.current,Ps(e.nodeType===8?e.parentNode:e),new Tf(t)};it.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(k(188)):(e=Object.keys(e).join(","),Error(k(268,e)));return e=Ly(t),e=e===null?null:e.stateNode,e};it.flushSync=function(e){return yr(e)};it.hydrate=function(e,t,n){if(!Pl(t))throw Error(k(200));return kl(null,e,t,!0,n)};it.hydrateRoot=function(e,t,n){if(!Pf(e))throw Error(k(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=h0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=f0(t,null,e,1,n??null,i,!1,s,o),e[en]=t.current,Ps(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Tl(t)};it.render=function(e,t,n){if(!Pl(t))throw Error(k(200));return kl(null,e,t,!1,n)};it.unmountComponentAtNode=function(e){if(!Pl(e))throw Error(k(40));return e._reactRootContainer?(yr(function(){kl(null,null,e,!1,function(){e._reactRootContainer=null,e[en]=null})}),!0):!1};it.unstable_batchedUpdates=_f;it.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Pl(n))throw Error(k(200));if(e==null||e._reactInternals===void 0)throw Error(k(38));return kl(e,t,n,!1,r)};it.version="18.3.1-next-f1338f8080-20240426";function p0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p0)}catch(e){console.error(e)}}p0(),py.exports=it;var lC=py.exports,Hp=lC;Ju.createRoot=Hp.createRoot,Ju.hydrateRoot=Hp.hydrateRoot;const m0=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Nl=v.createContext({}),bl=v.createContext(null),Il=typeof document<"u",kf=Il?v.useLayoutEffect:v.useEffect,g0=v.createContext({strict:!1});function uC(e,t,n,r){const{visualElement:i}=v.useContext(Nl),s=v.useContext(g0),o=v.useContext(bl),a=v.useContext(m0).reducedMotion,l=v.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;v.useInsertionEffect(()=>{u&&u.update(n,o)});const c=v.useRef(!!window.HandoffAppearAnimations);return kf(()=>{u&&(u.render(),c.current&&u.animationState&&u.animationState.animateChanges())}),v.useEffect(()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,c.current=!1)}),u}function Yr(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function cC(e,t,n){return v.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Yr(n)&&(n.current=r))},[t])}function Ls(e){return typeof e=="string"||Array.isArray(e)}function Rl(e){return typeof e=="object"&&typeof e.start=="function"}const Nf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],bf=["initial",...Nf];function Al(e){return Rl(e.animate)||bf.some(t=>Ls(e[t]))}function y0(e){return!!(Al(e)||e.variants)}function dC(e,t){if(Al(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Ls(n)?n:void 0,animate:Ls(r)?r:void 0}}return e.inherit!==!1?t:{}}function fC(e){const{initial:t,animate:n}=dC(e,v.useContext(Nl));return v.useMemo(()=>({initial:t,animate:n}),[Gp(t),Gp(n)])}function Gp(e){return Array.isArray(e)?e.join(" "):e}const Kp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Os={};for(const e in Kp)Os[e]={isEnabled:t=>Kp[e].some(n=>!!t[n])};function hC(e){for(const t in e)Os[t]={...Os[t],...e[t]}}const If=v.createContext({}),v0=v.createContext({}),pC=Symbol.for("motionComponentSymbol");function mC({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&hC(e);function s(a,l){let u;const c={...v.useContext(m0),...a,layoutId:gC(a)},{isStatic:d}=c,f=fC(a),h=r(a,d);if(!d&&Il){f.visualElement=uC(i,h,c,t);const y=v.useContext(v0),x=v.useContext(g0).strict;f.visualElement&&(u=f.visualElement.loadFeatures(c,x,e,y))}return v.createElement(Nl.Provider,{value:f},u&&f.visualElement?v.createElement(u,{visualElement:f.visualElement,...c}):null,n(i,a,cC(h,f.visualElement,l),h,d,f.visualElement))}const o=v.forwardRef(s);return o[pC]=i,o}function gC({layoutId:e}){const t=v.useContext(If).id;return t&&e!==void 0?t+"-"+e:e}function yC(e){function t(r,i={}){return mC(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const vC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Rf(e){return typeof e!="string"||e.includes("-")?!1:!!(vC.indexOf(e)>-1||/[A-Z]/.test(e))}const Va={};function _C(e){Object.assign(Va,e)}const ro=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Cr=new Set(ro);function _0(e,{layout:t,layoutId:n}){return Cr.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Va[e]||e==="opacity")}const Xe=e=>!!(e&&e.getVelocity),xC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},wC=ro.length;function SC(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<wC;o++){const a=ro[o];if(e[a]!==void 0){const l=xC[a]||a;s+=`${l}(${e[a]}) `}}return t&&!e.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(e,r?"":s):n&&r&&(s="none"),s}const x0=e=>t=>typeof t=="string"&&t.startsWith(e),w0=x0("--"),Gc=x0("var(--"),CC=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,EC=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Fn=(e,t,n)=>Math.min(Math.max(n,e),t),Er={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},us={...Er,transform:e=>Fn(0,1,e)},Vo={...Er,default:1},cs=e=>Math.round(e*1e5)/1e5,Dl=/(-)?([\d]*\.?[\d])+/g,S0=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,TC=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function io(e){return typeof e=="string"}const so=e=>({test:t=>io(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),fn=so("deg"),jt=so("%"),M=so("px"),PC=so("vh"),kC=so("vw"),Yp={...jt,parse:e=>jt.parse(e)/100,transform:e=>jt.transform(e*100)},Qp={...Er,transform:Math.round},C0={borderWidth:M,borderTopWidth:M,borderRightWidth:M,borderBottomWidth:M,borderLeftWidth:M,borderRadius:M,radius:M,borderTopLeftRadius:M,borderTopRightRadius:M,borderBottomRightRadius:M,borderBottomLeftRadius:M,width:M,maxWidth:M,height:M,maxHeight:M,size:M,top:M,right:M,bottom:M,left:M,padding:M,paddingTop:M,paddingRight:M,paddingBottom:M,paddingLeft:M,margin:M,marginTop:M,marginRight:M,marginBottom:M,marginLeft:M,rotate:fn,rotateX:fn,rotateY:fn,rotateZ:fn,scale:Vo,scaleX:Vo,scaleY:Vo,scaleZ:Vo,skew:fn,skewX:fn,skewY:fn,distance:M,translateX:M,translateY:M,translateZ:M,x:M,y:M,z:M,perspective:M,transformPerspective:M,opacity:us,originX:Yp,originY:Yp,originZ:M,zIndex:Qp,fillOpacity:us,strokeOpacity:us,numOctaves:Qp};function Af(e,t,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=e;let l=!1,u=!1,c=!0;for(const d in t){const f=t[d];if(w0(d)){s[d]=f;continue}const h=C0[d],y=EC(f,h);if(Cr.has(d)){if(l=!0,o[d]=y,!c)continue;f!==(h.default||0)&&(c=!1)}else d.startsWith("origin")?(u=!0,a[d]=y):i[d]=y}if(t.transform||(l||r?i.transform=SC(e.transform,n,c,r):i.transform&&(i.transform="none")),u){const{originX:d="50%",originY:f="50%",originZ:h=0}=a;i.transformOrigin=`${d} ${f} ${h}`}}const Df=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function E0(e,t,n){for(const r in t)!Xe(t[r])&&!_0(r,n)&&(e[r]=t[r])}function NC({transformTemplate:e},t,n){return v.useMemo(()=>{const r=Df();return Af(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function bC(e,t,n){const r=e.style||{},i={};return E0(i,r,e),Object.assign(i,NC(e,t,n)),e.transformValues?e.transformValues(i):i}function IC(e,t,n){const r={},i=bC(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const RC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Ba(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||RC.has(e)}let T0=e=>!Ba(e);function AC(e){e&&(T0=t=>t.startsWith("on")?!Ba(t):e(t))}try{AC(require("@emotion/is-prop-valid").default)}catch{}function DC(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(T0(i)||n===!0&&Ba(i)||!t&&!Ba(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function qp(e,t,n){return typeof e=="string"?e:M.transform(t+n*e)}function MC(e,t,n){const r=qp(t,e.x,e.width),i=qp(n,e.y,e.height);return`${r} ${i}`}const LC={offset:"stroke-dashoffset",array:"stroke-dasharray"},OC={offset:"strokeDashoffset",array:"strokeDasharray"};function jC(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?LC:OC;e[s.offset]=M.transform(-r);const o=M.transform(t),a=M.transform(n);e[s.array]=`${o} ${a}`}function Mf(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,d,f){if(Af(e,u,c,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:y,dimensions:x}=e;h.transform&&(x&&(y.transform=h.transform),delete h.transform),x&&(i!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=MC(x,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),o!==void 0&&jC(h,o,a,l,!1)}const P0=()=>({...Df(),attrs:{}}),Lf=e=>typeof e=="string"&&e.toLowerCase()==="svg";function FC(e,t,n,r){const i=v.useMemo(()=>{const s=P0();return Mf(s,t,{enableHardwareAcceleration:!1},Lf(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};E0(s,e.style,e),i.style={...s,...i.style}}return i}function VC(e=!1){return(n,r,i,{latestValues:s},o)=>{const l=(Rf(n)?FC:IC)(r,s,o,n),c={...DC(r,typeof n=="string",e),...l,ref:i},{children:d}=r,f=v.useMemo(()=>Xe(d)?d.get():d,[d]);return v.createElement(n,{...c,children:f})}}const Of=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function k0(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const N0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function b0(e,t,n,r){k0(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(N0.has(i)?i:Of(i),t.attrs[i])}function jf(e,t){const{style:n}=e,r={};for(const i in n)(Xe(n[i])||t.style&&Xe(t.style[i])||_0(i,e))&&(r[i]=n[i]);return r}function I0(e,t){const n=jf(e,t);for(const r in e)if(Xe(e[r])||Xe(t[r])){const i=ro.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function Ff(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function R0(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const $a=e=>Array.isArray(e),BC=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),$C=e=>$a(e)?e[e.length-1]||0:e;function oa(e){const t=Xe(e)?e.get():e;return BC(t)?t.toValue():t}function UC({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,s){const o={latestValues:zC(r,i,s,e),renderState:t()};return n&&(o.mount=a=>n(r,a,o)),o}const A0=e=>(t,n)=>{const r=v.useContext(Nl),i=v.useContext(bl),s=()=>UC(e,t,r,i);return n?s():R0(s)};function zC(e,t,n,r){const i={},s=r(e,{});for(const f in s)i[f]=oa(s[f]);let{initial:o,animate:a}=e;const l=Al(e),u=y0(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const d=c?a:o;return d&&typeof d!="boolean"&&!Rl(d)&&(Array.isArray(d)?d:[d]).forEach(h=>{const y=Ff(e,h);if(!y)return;const{transitionEnd:x,transition:w,..._}=y;for(const p in _){let m=_[p];if(Array.isArray(m)){const S=c?m.length-1:0;m=m[S]}m!==null&&(i[p]=m)}for(const p in x)i[p]=x[p]}),i}const pe=e=>e;class Xp{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function WC(e){let t=new Xp,n=new Xp,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const d=c&&i,f=d?t:n;return u&&o.add(l),f.add(l)&&d&&i&&(r=t.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const c=t.order[u];c(l),o.has(c)&&(a.schedule(c),e())}i=!1,s&&(s=!1,a.process(l))}};return a}const Bo=["prepare","read","update","preRender","render","postRender"],HC=40;function GC(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=Bo.reduce((d,f)=>(d[f]=WC(()=>n=!0),d),{}),o=d=>s[d].process(i),a=()=>{const d=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(d-i.timestamp,HC),1),i.timestamp=d,i.isProcessing=!0,Bo.forEach(o),i.isProcessing=!1,n&&t&&(r=!1,e(a))},l=()=>{n=!0,r=!0,i.isProcessing||e(a)};return{schedule:Bo.reduce((d,f)=>{const h=s[f];return d[f]=(y,x=!1,w=!1)=>(n||l(),h.schedule(y,x,w)),d},{}),cancel:d=>Bo.forEach(f=>s[f].cancel(d)),state:i,steps:s}}const{schedule:Z,cancel:rn,state:Se,steps:Tu}=GC(typeof requestAnimationFrame<"u"?requestAnimationFrame:pe,!0),KC={useVisualState:A0({scrapeMotionValuesFromProps:I0,createRenderState:P0,onMount:(e,t,{renderState:n,latestValues:r})=>{Z.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Z.render(()=>{Mf(n,r,{enableHardwareAcceleration:!1},Lf(t.tagName),e.transformTemplate),b0(t,n)})}})},YC={useVisualState:A0({scrapeMotionValuesFromProps:jf,createRenderState:Df})};function QC(e,{forwardMotionProps:t=!1},n,r){return{...Rf(e)?KC:YC,preloadedFeatures:n,useRender:VC(t),createVisualElement:r,Component:e}}function Gt(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const D0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Ml(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const qC=e=>t=>D0(t)&&e(t,Ml(t));function Qt(e,t,n,r){return Gt(e,t,qC(n),r)}const XC=(e,t)=>n=>t(e(n)),In=(...e)=>e.reduce(XC);function M0(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Zp=M0("dragHorizontal"),Jp=M0("dragVertical");function L0(e){let t=!1;if(e==="y")t=Jp();else if(e==="x")t=Zp();else{const n=Zp(),r=Jp();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function O0(){const e=L0(!0);return e?(e(),!1):!0}class Kn{constructor(t){this.isMounted=!1,this.node=t}update(){}}function em(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||O0())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&Z.update(()=>a[r](s,o))};return Qt(e.current,n,i,{passive:!e.getProps()[r]})}class ZC extends Kn{mount(){this.unmount=In(em(this.node,!0),em(this.node,!1))}unmount(){}}class JC extends Kn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=In(Gt(this.node.current,"focus",()=>this.onFocus()),Gt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const j0=(e,t)=>t?e===t?!0:j0(e,t.parentElement):!1;function Pu(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Ml(n))}class eE extends Kn{constructor(){super(...arguments),this.removeStartListeners=pe,this.removeEndListeners=pe,this.removeAccessibleListeners=pe,this.startPointerPress=(t,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=Qt(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c}=this.node.getProps();Z.update(()=>{j0(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Qt(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=In(s,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Pu("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&Z.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=Gt(this.node.current,"keyup",o),Pu("down",(a,l)=>{this.startPress(a,l)})},n=Gt(this.node.current,"keydown",t),r=()=>{this.isPressing&&Pu("cancel",(s,o)=>this.cancelPress(s,o))},i=Gt(this.node.current,"blur",r);this.removeAccessibleListeners=In(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Z.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!O0()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Z.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Qt(this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Gt(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=In(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Kc=new WeakMap,ku=new WeakMap,tE=e=>{const t=Kc.get(e.target);t&&t(e)},nE=e=>{e.forEach(tE)};function rE({root:e,...t}){const n=e||document;ku.has(n)||ku.set(n,{});const r=ku.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(nE,{root:e,...t})),r[i]}function iE(e,t,n){const r=rE(t);return Kc.set(e,n),r.observe(e),()=>{Kc.delete(e),r.unobserve(e)}}const sE={some:0,all:1};class oE extends Kn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:sE[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),f=u?c:d;f&&f(l)};return iE(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(aE(t,n))&&this.startObserver()}unmount(){}}function aE({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const lE={inView:{Feature:oE},tap:{Feature:eE},focus:{Feature:JC},hover:{Feature:ZC}};function F0(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function uE(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function cE(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Ll(e,t,n){const r=e.getProps();return Ff(r,t,n!==void 0?n:r.custom,uE(e),cE(e))}const dE="framerAppearId",fE="data-"+Of(dE);let Vf=pe;const fr=e=>e*1e3,qt=e=>e/1e3,hE={current:!1},V0=e=>Array.isArray(e)&&typeof e[0]=="number";function B0(e){return!!(!e||typeof e=="string"&&$0[e]||V0(e)||Array.isArray(e)&&e.every(B0))}const Ji=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,$0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ji([0,.65,.55,1]),circOut:Ji([.55,0,1,.45]),backIn:Ji([.31,.01,.66,-.59]),backOut:Ji([.33,1.53,.69,.99])};function U0(e){if(e)return V0(e)?Ji(e):Array.isArray(e)?e.map(U0):$0[e]}function pE(e,t,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[t]:n};l&&(u.offset=l);const c=U0(a);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function mE(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const z0=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,gE=1e-7,yE=12;function vE(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=z0(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>gE&&++a<yE);return o}function oo(e,t,n,r){if(e===t&&n===r)return pe;const i=s=>vE(s,0,1,e,n);return s=>s===0||s===1?s:z0(i(s),t,r)}const _E=oo(.42,0,1,1),xE=oo(0,0,.58,1),W0=oo(.42,0,.58,1),wE=e=>Array.isArray(e)&&typeof e[0]!="number",H0=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,G0=e=>t=>1-e(1-t),K0=e=>1-Math.sin(Math.acos(e)),Bf=G0(K0),SE=H0(Bf),Y0=oo(.33,1.53,.69,.99),$f=G0(Y0),CE=H0($f),EE=e=>(e*=2)<1?.5*$f(e):.5*(2-Math.pow(2,-10*(e-1))),TE={linear:pe,easeIn:_E,easeInOut:W0,easeOut:xE,circIn:K0,circInOut:SE,circOut:Bf,backIn:$f,backInOut:CE,backOut:Y0,anticipate:EE},tm=e=>{if(Array.isArray(e)){Vf(e.length===4);const[t,n,r,i]=e;return oo(t,n,r,i)}else if(typeof e=="string")return TE[e];return e},Uf=(e,t)=>n=>!!(io(n)&&TC.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Q0=(e,t,n)=>r=>{if(!io(r))return r;const[i,s,o,a]=r.match(Dl);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},PE=e=>Fn(0,255,e),Nu={...Er,transform:e=>Math.round(PE(e))},lr={test:Uf("rgb","red"),parse:Q0("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Nu.transform(e)+", "+Nu.transform(t)+", "+Nu.transform(n)+", "+cs(us.transform(r))+")"};function kE(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Yc={test:Uf("#"),parse:kE,transform:lr.transform},Qr={test:Uf("hsl","hue"),parse:Q0("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+jt.transform(cs(t))+", "+jt.transform(cs(n))+", "+cs(us.transform(r))+")"},je={test:e=>lr.test(e)||Yc.test(e)||Qr.test(e),parse:e=>lr.test(e)?lr.parse(e):Qr.test(e)?Qr.parse(e):Yc.parse(e),transform:e=>io(e)?e:e.hasOwnProperty("red")?lr.transform(e):Qr.transform(e)},ie=(e,t,n)=>-n*e+n*t+e;function bu(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function NE({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=bu(l,a,e+1/3),s=bu(l,a,e),o=bu(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const Iu=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},bE=[Yc,lr,Qr],IE=e=>bE.find(t=>t.test(e));function nm(e){const t=IE(e);let n=t.parse(e);return t===Qr&&(n=NE(n)),n}const q0=(e,t)=>{const n=nm(e),r=nm(t),i={...n};return s=>(i.red=Iu(n.red,r.red,s),i.green=Iu(n.green,r.green,s),i.blue=Iu(n.blue,r.blue,s),i.alpha=ie(n.alpha,r.alpha,s),lr.transform(i))};function RE(e){var t,n;return isNaN(e)&&io(e)&&(((t=e.match(Dl))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(S0))===null||n===void 0?void 0:n.length)||0)>0}const X0={regex:CC,countKey:"Vars",token:"${v}",parse:pe},Z0={regex:S0,countKey:"Colors",token:"${c}",parse:je.parse},J0={regex:Dl,countKey:"Numbers",token:"${n}",parse:Er.parse};function Ru(e,{regex:t,countKey:n,token:r,parse:i}){const s=e.tokenised.match(t);s&&(e["num"+n]=s.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...s.map(i)))}function Ua(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Ru(n,X0),Ru(n,Z0),Ru(n,J0),n}function e_(e){return Ua(e).values}function t_(e){const{values:t,numColors:n,numVars:r,tokenised:i}=Ua(e),s=t.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(X0.token,o[l]):l<r+n?a=a.replace(Z0.token,je.transform(o[l])):a=a.replace(J0.token,cs(o[l]));return a}}const AE=e=>typeof e=="number"?0:e;function DE(e){const t=e_(e);return t_(e)(t.map(AE))}const Vn={test:RE,parse:e_,createTransformer:t_,getAnimatableNone:DE},n_=(e,t)=>n=>`${n>0?t:e}`;function r_(e,t){return typeof e=="number"?n=>ie(e,t,n):je.test(e)?q0(e,t):e.startsWith("var(")?n_(e,t):s_(e,t)}const i_=(e,t)=>{const n=[...e],r=n.length,i=e.map((s,o)=>r_(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},ME=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=r_(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},s_=(e,t)=>{const n=Vn.createTransformer(t),r=Ua(e),i=Ua(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?In(i_(r.values,i.values),n):n_(e,t)},js=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},rm=(e,t)=>n=>ie(e,t,n);function LE(e){return typeof e=="number"?rm:typeof e=="string"?je.test(e)?q0:s_:Array.isArray(e)?i_:typeof e=="object"?ME:rm}function OE(e,t,n){const r=[],i=n||LE(e[0]),s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||pe:t;a=In(l,a)}r.push(a)}return r}function o_(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(Vf(s===t.length),s===1)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=OE(t,r,i),a=o.length,l=u=>{let c=0;if(a>1)for(;c<e.length-2&&!(u<e[c+1]);c++);const d=js(e[c],e[c+1],u);return o[c](d)};return n?u=>l(Fn(e[0],e[s-1],u)):l}function jE(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=js(0,t,r);e.push(ie(n,1,i))}}function FE(e){const t=[0];return jE(t,e.length-1),t}function VE(e,t){return e.map(n=>n*t)}function BE(e,t){return e.map(()=>t||W0).splice(0,e.length-1)}function za({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=wE(r)?r.map(tm):tm(r),s={done:!1,value:t[0]},o=VE(n&&n.length===t.length?n:FE(t),e),a=o_(o,t,{ease:Array.isArray(i)?i:BE(t,i)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}function a_(e,t){return t?e*(1e3/t):0}const $E=5;function l_(e,t,n){const r=Math.max(t-$E,0);return a_(n-e(r),t-r)}const im=.001,UE=.01,zE=10,WE=.05,HE=1;function GE({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,s,o=1-t;o=Fn(WE,HE,o),e=Fn(UE,zE,qt(e)),o<1?(i=u=>{const c=u*o,d=c*e,f=c-n,h=Qc(u,o),y=Math.exp(-d);return im-f/h*y},s=u=>{const d=u*o*e,f=d*n+n,h=Math.pow(o,2)*Math.pow(u,2)*e,y=Math.exp(-d),x=Qc(Math.pow(u,2),o);return(-i(u)+im>0?-1:1)*((f-h)*y)/x}):(i=u=>{const c=Math.exp(-u*e),d=(u-n)*e+1;return-.001+c*d},s=u=>{const c=Math.exp(-u*e),d=(n-u)*(e*e);return c*d});const a=5/e,l=YE(i,s,a);if(e=fr(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const KE=12;function YE(e,t,n){let r=n;for(let i=1;i<KE;i++)r=r-e(r)/t(r);return r}function Qc(e,t){return e*Math.sqrt(1-t*t)}const QE=["duration","bounce"],qE=["stiffness","damping","mass"];function sm(e,t){return t.some(n=>e[n]!==void 0)}function XE(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!sm(e,qE)&&sm(e,QE)){const n=GE(e);t={...t,...n,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}function u_({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],s=e[e.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,velocity:c,duration:d,isResolvedFromDuration:f}=XE(r),h=c?-qt(c):0,y=l/(2*Math.sqrt(a*u)),x=s-i,w=qt(Math.sqrt(a/u)),_=Math.abs(x)<5;n||(n=_?.01:2),t||(t=_?.005:.5);let p;if(y<1){const m=Qc(w,y);p=S=>{const C=Math.exp(-y*w*S);return s-C*((h+y*w*x)/m*Math.sin(m*S)+x*Math.cos(m*S))}}else if(y===1)p=m=>s-Math.exp(-w*m)*(x+(h+w*x)*m);else{const m=w*Math.sqrt(y*y-1);p=S=>{const C=Math.exp(-y*w*S),N=Math.min(m*S,300);return s-C*((h+y*w*x)*Math.sinh(N)+m*x*Math.cosh(N))/m}}return{calculatedDuration:f&&d||null,next:m=>{const S=p(m);if(f)o.done=m>=d;else{let C=h;m!==0&&(y<1?C=l_(p,m,S):C=0);const N=Math.abs(C)<=n,P=Math.abs(s-S)<=t;o.done=N&&P}return o.value=o.done?s:S,o}}}function om({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const d=e[0],f={done:!1,value:d},h=E=>a!==void 0&&E<a||l!==void 0&&E>l,y=E=>a===void 0?l:l===void 0||Math.abs(a-E)<Math.abs(l-E)?a:l;let x=n*t;const w=d+x,_=o===void 0?w:o(w);_!==w&&(x=_-d);const p=E=>-x*Math.exp(-E/r),m=E=>_+p(E),S=E=>{const D=p(E),T=m(E);f.done=Math.abs(D)<=u,f.value=f.done?_:T};let C,N;const P=E=>{h(f.value)&&(C=E,N=u_({keyframes:[f.value,y(f.value)],velocity:l_(m,E,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return P(0),{calculatedDuration:null,next:E=>{let D=!1;return!N&&C===void 0&&(D=!0,S(E),P(E)),C!==void 0&&E>C?N.next(E-C):(!D&&S(E),f)}}}const ZE=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Z.update(t,!0),stop:()=>rn(t),now:()=>Se.isProcessing?Se.timestamp:performance.now()}},am=2e4;function lm(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<am;)t+=n,r=e.next(t);return t>=am?1/0:t}const JE={decay:om,inertia:om,tween:za,keyframes:za,spring:u_};function Wa({autoplay:e=!0,delay:t=0,driver:n=ZE,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:d,...f}){let h=1,y=!1,x,w;const _=()=>{w=new Promise(O=>{x=O})};_();let p;const m=JE[i]||za;let S;m!==za&&typeof r[0]!="number"&&(S=o_([0,100],r,{clamp:!1}),r=[0,100]);const C=m({...f,keyframes:r});let N;a==="mirror"&&(N=m({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let P="idle",E=null,D=null,T=null;C.calculatedDuration===null&&s&&(C.calculatedDuration=lm(C));const{calculatedDuration:F}=C;let ke=1/0,We=1/0;F!==null&&(ke=F+o,We=ke*(s+1)-o);let de=0;const fe=O=>{if(D===null)return;h>0&&(D=Math.min(D,O)),h<0&&(D=Math.min(O-We/h,D)),E!==null?de=E:de=Math.round(O-D)*h;const te=de-t*(h>=0?1:-1),Qn=h>=0?te<0:te>We;de=Math.max(te,0),P==="finished"&&E===null&&(de=We);let Nt=de,Ir=C;if(s){const Zl=de/ke;let wo=Math.floor(Zl),Xn=Zl%1;!Xn&&Zl>=1&&(Xn=1),Xn===1&&wo--,wo=Math.min(wo,s+1);const Lh=!!(wo%2);Lh&&(a==="reverse"?(Xn=1-Xn,o&&(Xn-=o/ke)):a==="mirror"&&(Ir=N));let Oh=Fn(0,1,Xn);de>We&&(Oh=a==="reverse"&&Lh?1:0),Nt=Oh*ke}const Ze=Qn?{done:!1,value:r[0]}:Ir.next(Nt);S&&(Ze.value=S(Ze.value));let{done:qn}=Ze;!Qn&&F!==null&&(qn=h>=0?de>=We:de<=0);const Lx=E===null&&(P==="finished"||P==="running"&&qn);return d&&d(Ze.value),Lx&&R(),Ze},ot=()=>{p&&p.stop(),p=void 0},kt=()=>{P="idle",ot(),x(),_(),D=T=null},R=()=>{P="finished",c&&c(),ot(),x()},j=()=>{if(y)return;p||(p=n(fe));const O=p.now();l&&l(),E!==null?D=O-E:(!D||P==="finished")&&(D=O),P==="finished"&&_(),T=D,E=null,P="running",p.start()};e&&j();const V={then(O,te){return w.then(O,te)},get time(){return qt(de)},set time(O){O=fr(O),de=O,E!==null||!p||h===0?E=O:D=p.now()-O/h},get duration(){const O=C.calculatedDuration===null?lm(C):C.calculatedDuration;return qt(O)},get speed(){return h},set speed(O){O===h||!p||(h=O,V.time=qt(de))},get state(){return P},play:j,pause:()=>{P="paused",E=de},stop:()=>{y=!0,P!=="idle"&&(P="idle",u&&u(),kt())},cancel:()=>{T!==null&&fe(T),kt()},complete:()=>{P="finished"},sample:O=>(D=0,fe(O))};return V}function eT(e){let t;return()=>(t===void 0&&(t=e()),t)}const tT=eT(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),nT=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),$o=10,rT=2e4,iT=(e,t)=>t.type==="spring"||e==="backgroundColor"||!B0(t.ease);function sT(e,t,{onUpdate:n,onComplete:r,...i}){if(!(tT()&&nT.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l;const u=()=>{l=new Promise(p=>{a=p})};u();let{keyframes:c,duration:d=300,ease:f,times:h}=i;if(iT(t,i)){const p=Wa({...i,repeat:0,delay:0});let m={done:!1,value:c[0]};const S=[];let C=0;for(;!m.done&&C<rT;)m=p.sample(C),S.push(m.value),C+=$o;h=void 0,c=S,d=C-$o,f="linear"}const y=pE(e.owner.current,t,c,{...i,duration:d,ease:f,times:h});i.syncStart&&(y.startTime=Se.isProcessing?Se.timestamp:document.timeline?document.timeline.currentTime:performance.now());const x=()=>y.cancel(),w=()=>{Z.update(x),a(),u()};return y.onfinish=()=>{e.set(mE(c,i)),r&&r(),w()},{then(p,m){return l.then(p,m)},attachTimeline(p){return y.timeline=p,y.onfinish=null,pe},get time(){return qt(y.currentTime||0)},set time(p){y.currentTime=fr(p)},get speed(){return y.playbackRate},set speed(p){y.playbackRate=p},get duration(){return qt(d)},play:()=>{o||(y.play(),rn(x))},pause:()=>y.pause(),stop:()=>{if(o=!0,y.playState==="idle")return;const{currentTime:p}=y;if(p){const m=Wa({...i,autoplay:!1});e.setWithVelocity(m.sample(p-$o).value,m.sample(p).value,$o)}w()},complete:()=>y.finish(),cancel:w}}function oT({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:pe,pause:pe,stop:pe,then:s=>(s(),Promise.resolve()),cancel:pe,complete:pe});return t?Wa({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const aT={type:"spring",stiffness:500,damping:25,restSpeed:10},lT=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),uT={type:"keyframes",duration:.8},cT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},dT=(e,{keyframes:t})=>t.length>2?uT:Cr.has(e)?e.startsWith("scale")?lT(t[1]):aT:cT,qc=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Vn.test(t)||t==="0")&&!t.startsWith("url(")),fT=new Set(["brightness","contrast","saturate","opacity"]);function hT(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Dl)||[];if(!r)return e;const i=n.replace(r,"");let s=fT.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const pT=/([a-z-]*)\(.*?\)/g,Xc={...Vn,getAnimatableNone:e=>{const t=e.match(pT);return t?t.map(hT).join(" "):e}},mT={...C0,color:je,backgroundColor:je,outlineColor:je,fill:je,stroke:je,borderColor:je,borderTopColor:je,borderRightColor:je,borderBottomColor:je,borderLeftColor:je,filter:Xc,WebkitFilter:Xc},zf=e=>mT[e];function c_(e,t){let n=zf(e);return n!==Xc&&(n=Vn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const d_=e=>/^0[^.\s]+$/.test(e);function gT(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||d_(e)}function yT(e,t,n,r){const i=qc(t,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:e.get();let a;const l=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?o:s[u-1]),gT(s[u])&&l.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(a=s[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++){const c=l[u];s[c]=c_(t,a)}return s}function vT({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function f_(e,t){return e[t]||e.default||e}const Wf=(e,t,n,r={})=>i=>{const s=f_(r,e)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-fr(o);const l=yT(t,e,n,s),u=l[0],c=l[l.length-1],d=qc(e,u),f=qc(e,c);let h={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:y=>{t.set(y),s.onUpdate&&s.onUpdate(y)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(vT(s)||(h={...h,...dT(e,h)}),h.duration&&(h.duration=fr(h.duration)),h.repeatDelay&&(h.repeatDelay=fr(h.repeatDelay)),!d||!f||hE.current||s.type===!1)return oT(h);if(t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const y=sT(t,e,h);if(y)return y}return Wa(h)};function Ha(e){return!!(Xe(e)&&e.add)}const h_=e=>/^\-?\d*\.?\d+$/.test(e);function Hf(e,t){e.indexOf(t)===-1&&e.push(t)}function Gf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Kf{constructor(){this.subscriptions=[]}add(t){return Hf(this.subscriptions,t),()=>Gf(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _T=e=>!isNaN(parseFloat(e));class xT{constructor(t,n={}){this.version="10.16.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Se;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Z.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Z.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=_T(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Kf);const r=this.events[t].add(n);return t==="change"?()=>{r(),Z.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?a_(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gi(e,t){return new xT(e,t)}const p_=e=>t=>t.test(e),wT={test:e=>e==="auto",parse:e=>e},m_=[Er,M,jt,fn,kC,PC,wT],$i=e=>m_.find(p_(e)),ST=[...m_,je,Vn],CT=e=>ST.find(p_(e));function ET(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,gi(n))}function TT(e,t){const n=Ll(e,t);let{transitionEnd:r={},transition:i={},...s}=n?e.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=$C(s[o]);ET(e,o,a)}}function PT(e,t,n){var r,i;const s=Object.keys(t).filter(a=>!e.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=t[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(i=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&i!==void 0?i:t[l]),c!=null&&(typeof c=="string"&&(h_(c)||d_(c))?c=parseFloat(c):!CT(c)&&Vn.test(u)&&(c=c_(l,u)),e.addValue(l,gi(c,{owner:e})),n[l]===void 0&&(n[l]=c),c!==null&&e.setBaseTarget(l,c))}}function kT(e,t){return t?(t[e]||t.default||t).from:void 0}function NT(e,t,n){const r={};for(const i in e){const s=kT(i,t);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function bT({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function g_(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(s=r);const u=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const d in a){const f=e.getValue(d),h=a[d];if(!f||h===void 0||c&&bT(c,d))continue;const y={delay:n,elapsed:0,...s};if(window.HandoffAppearAnimations&&!f.hasAnimated){const w=e.getProps()[fE];w&&(y.elapsed=window.HandoffAppearAnimations(w,d,f,Z),y.syncStart=!0)}f.start(Wf(d,f,h,e.shouldReduceMotion&&Cr.has(d)?{type:!1}:y));const x=f.animation;Ha(l)&&(l.add(d),x.then(()=>l.remove(d))),u.push(x)}return o&&Promise.all(u).then(()=>{o&&TT(e,o)}),u}function Zc(e,t,n={}){const r=Ll(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(g_(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:d}=i;return IT(e,t,u+l,c,d,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function IT(e,t,n=0,r=0,i=1,s){const o=[],a=(e.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(RT).forEach((u,c)=>{u.notify("AnimationStart",t),o.push(Zc(u,t,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function RT(e,t){return e.sortNodePosition(t)}function AT(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>Zc(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=Zc(e,t,n);else{const i=typeof t=="function"?Ll(e,t,n.custom):t;r=Promise.all(g_(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const DT=[...Nf].reverse(),MT=Nf.length;function LT(e){return t=>Promise.all(t.map(({animation:n,options:r})=>AT(e,n,r)))}function OT(e){let t=LT(e);const n=FT();let r=!0;const i=(l,u)=>{const c=Ll(e,u);if(c){const{transition:d,transitionEnd:f,...h}=c;l={...l,...h,...f}}return l};function s(l){t=l(e)}function o(l,u){const c=e.getProps(),d=e.getVariantContext(!0)||{},f=[],h=new Set;let y={},x=1/0;for(let _=0;_<MT;_++){const p=DT[_],m=n[p],S=c[p]!==void 0?c[p]:d[p],C=Ls(S),N=p===u?m.isActive:null;N===!1&&(x=_);let P=S===d[p]&&S!==c[p]&&C;if(P&&r&&e.manuallyAnimateOnMount&&(P=!1),m.protectedKeys={...y},!m.isActive&&N===null||!S&&!m.prevProp||Rl(S)||typeof S=="boolean")continue;const E=jT(m.prevProp,S);let D=E||p===u&&m.isActive&&!P&&C||_>x&&C;const T=Array.isArray(S)?S:[S];let F=T.reduce(i,{});N===!1&&(F={});const{prevResolvedValues:ke={}}=m,We={...ke,...F},de=fe=>{D=!0,h.delete(fe),m.needsAnimating[fe]=!0};for(const fe in We){const ot=F[fe],kt=ke[fe];y.hasOwnProperty(fe)||(ot!==kt?$a(ot)&&$a(kt)?!F0(ot,kt)||E?de(fe):m.protectedKeys[fe]=!0:ot!==void 0?de(fe):h.add(fe):ot!==void 0&&h.has(fe)?de(fe):m.protectedKeys[fe]=!0)}m.prevProp=S,m.prevResolvedValues=F,m.isActive&&(y={...y,...F}),r&&e.blockInitialAnimation&&(D=!1),D&&!P&&f.push(...T.map(fe=>({animation:fe,options:{type:p,...l}})))}if(h.size){const _={};h.forEach(p=>{const m=e.getBaseTarget(p);m!==void 0&&(_[p]=m)}),f.push({animation:_})}let w=!!f.length;return r&&c.initial===!1&&!e.manuallyAnimateOnMount&&(w=!1),r=!1,w?t(f):Promise.resolve()}function a(l,u,c){var d;if(n[l].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(h=>{var y;return(y=h.animationState)===null||y===void 0?void 0:y.setActive(l,u)}),n[l].isActive=u;const f=o(c,l);for(const h in n)n[h].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function jT(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!F0(t,e):!1}function Zn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function FT(){return{animate:Zn(!0),whileInView:Zn(),whileHover:Zn(),whileTap:Zn(),whileDrag:Zn(),whileFocus:Zn(),exit:Zn()}}class VT extends Kn{constructor(t){super(t),t.animationState||(t.animationState=OT(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Rl(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let BT=0;class $T extends Kn{constructor(){super(...arguments),this.id=BT++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const UT={animation:{Feature:VT},exit:{Feature:$T}},um=(e,t)=>Math.abs(e-t);function zT(e,t){const n=um(e.x,t.x),r=um(e.y,t.y);return Math.sqrt(n**2+r**2)}class y_{constructor(t,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=Du(this.lastMoveEventInfo,this.history),c=this.startEvent!==null,d=zT(u.offset,{x:0,y:0})>=3;if(!c&&!d)return;const{point:f}=u,{timestamp:h}=Se;this.history.push({...f,timestamp:h});const{onStart:y,onMove:x}=this.handlers;c||(y&&y(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,u)},this.handlePointerMove=(u,c)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=Au(c,this.transformPagePoint),Z.update(this.updatePoint,!0)},this.handlePointerUp=(u,c)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:d,onSessionEnd:f}=this.handlers,h=Du(u.type==="pointercancel"?this.lastMoveEventInfo:Au(c,this.transformPagePoint),this.history);this.startEvent&&d&&d(u,h),f&&f(u,h)},!D0(t))return;this.handlers=n,this.transformPagePoint=r;const i=Ml(t),s=Au(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=Se;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=n;l&&l(t,Du(s,this.history)),this.removeListeners=In(Qt(window,"pointermove",this.handlePointerMove),Qt(window,"pointerup",this.handlePointerUp),Qt(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),rn(this.updatePoint)}}function Au(e,t){return t?{point:t(e.point)}:e}function cm(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Du({point:e},t){return{point:e,delta:cm(e,v_(t)),offset:cm(e,WT(t)),velocity:HT(t,.1)}}function WT(e){return e[0]}function v_(e){return e[e.length-1]}function HT(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=v_(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>fr(t)));)n--;if(!r)return{x:0,y:0};const s=qt(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function rt(e){return e.max-e.min}function Jc(e,t=0,n=.01){return Math.abs(e-t)<=n}function dm(e,t,n,r=.5){e.origin=r,e.originPoint=ie(t.min,t.max,e.origin),e.scale=rt(n)/rt(t),(Jc(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=ie(n.min,n.max,e.origin)-e.originPoint,(Jc(e.translate)||isNaN(e.translate))&&(e.translate=0)}function ds(e,t,n,r){dm(e.x,t.x,n.x,r?r.originX:void 0),dm(e.y,t.y,n.y,r?r.originY:void 0)}function fm(e,t,n){e.min=n.min+t.min,e.max=e.min+rt(t)}function GT(e,t,n){fm(e.x,t.x,n.x),fm(e.y,t.y,n.y)}function hm(e,t,n){e.min=t.min-n.min,e.max=e.min+rt(t)}function fs(e,t,n){hm(e.x,t.x,n.x),hm(e.y,t.y,n.y)}function KT(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ie(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ie(n,e,r.max):Math.min(e,n)),e}function pm(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function YT(e,{top:t,left:n,bottom:r,right:i}){return{x:pm(e.x,n,i),y:pm(e.y,t,r)}}function mm(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function QT(e,t){return{x:mm(e.x,t.x),y:mm(e.y,t.y)}}function qT(e,t){let n=.5;const r=rt(e),i=rt(t);return i>r?n=js(t.min,t.max-r,e.min):r>i&&(n=js(e.min,e.max-i,t.min)),Fn(0,1,n)}function XT(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const ed=.35;function ZT(e=ed){return e===!1?e=0:e===!0&&(e=ed),{x:gm(e,"left","right"),y:gm(e,"top","bottom")}}function gm(e,t,n){return{min:ym(e,t),max:ym(e,n)}}function ym(e,t){return typeof e=="number"?e:e[t]||0}const vm=()=>({translate:0,scale:1,origin:0,originPoint:0}),qr=()=>({x:vm(),y:vm()}),_m=()=>({min:0,max:0}),ge=()=>({x:_m(),y:_m()});function Dt(e){return[e("x"),e("y")]}function __({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function JT({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function eP(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Mu(e){return e===void 0||e===1}function td({scale:e,scaleX:t,scaleY:n}){return!Mu(e)||!Mu(t)||!Mu(n)}function tr(e){return td(e)||x_(e)||e.z||e.rotate||e.rotateX||e.rotateY}function x_(e){return xm(e.x)||xm(e.y)}function xm(e){return e&&e!=="0%"}function Ga(e,t,n){const r=e-n,i=t*r;return n+i}function wm(e,t,n,r,i){return i!==void 0&&(e=Ga(e,i,r)),Ga(e,n,r)+t}function nd(e,t=0,n=1,r,i){e.min=wm(e.min,t,n,r,i),e.max=wm(e.max,t,n,r,i)}function w_(e,{x:t,y:n}){nd(e.x,t.translate,t.scale,t.originPoint),nd(e.y,n.translate,n.scale,n.originPoint)}function tP(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Xr(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,w_(e,o)),r&&tr(s.latestValues)&&Xr(e,s.latestValues))}t.x=Sm(t.x),t.y=Sm(t.y)}function Sm(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function mn(e,t){e.min=e.min+t,e.max=e.max+t}function Cm(e,t,[n,r,i]){const s=t[i]!==void 0?t[i]:.5,o=ie(e.min,e.max,s);nd(e,t[n],t[r],o,t.scale)}const nP=["x","scaleX","originX"],rP=["y","scaleY","originY"];function Xr(e,t){Cm(e.x,t,nP),Cm(e.y,t,rP)}function S_(e,t){return __(eP(e.getBoundingClientRect(),t))}function iP(e,t,n){const r=S_(e,n),{scroll:i}=t;return i&&(mn(r.x,i.offset.x),mn(r.y,i.offset.y)),r}const sP=new WeakMap;class oP{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ge(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=l=>{this.stopAnimation(),n&&this.snapToCursor(Ml(l,"page").point)},s=(l,u)=>{const{drag:c,dragPropagation:d,onDragStart:f}=this.getProps();if(c&&!d&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=L0(c),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Dt(y=>{let x=this.getAxisMotionValue(y).get()||0;if(jt.test(x)){const{projection:w}=this.visualElement;if(w&&w.layout){const _=w.layout.layoutBox[y];_&&(x=rt(_)*(parseFloat(x)/100))}}this.originPoint[y]=x}),f&&Z.update(()=>f(l,u),!1,!0);const{animationState:h}=this.visualElement;h&&h.setActive("whileDrag",!0)},o=(l,u)=>{const{dragPropagation:c,dragDirectionLock:d,onDirectionLock:f,onDrag:h}=this.getProps();if(!c&&!this.openGlobalLock)return;const{offset:y}=u;if(d&&this.currentDirection===null){this.currentDirection=aP(y),this.currentDirection!==null&&f&&f(this.currentDirection);return}this.updateAxis("x",u.point,y),this.updateAxis("y",u.point,y),this.visualElement.render(),h&&h(l,u)},a=(l,u)=>this.stop(l,u);this.panSession=new y_(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Z.update(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Uo(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=KT(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;t&&Yr(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=YT(r.layoutBox,t):this.constraints=!1,this.elastic=ZT(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Dt(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=XT(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Yr(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=iP(r,i.root,this.visualElement.getTransformPagePoint());let o=QT(i.layout.layoutBox,s);if(n){const a=n(JT(o));this.hasMutatedConstraints=!!a,a&&(o=__(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Dt(c=>{if(!Uo(c,n,this.currentDirection))return;let d=l&&l[c]||{};o&&(d={min:0,max:0});const f=i?200:1e6,h=i?40:1e7,y={type:"inertia",velocity:r?t[c]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(c,y)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(Wf(t,r,0,n))}stopAnimation(){Dt(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Dt(n=>{const{drag:r}=this.getProps();if(!Uo(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-ie(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Yr(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Dt(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=qT({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Dt(o=>{if(!Uo(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(ie(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;sP.set(this.visualElement,this);const t=this.visualElement.current,n=Qt(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Yr(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=Gt(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Dt(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=ed,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Uo(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function aP(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class lP extends Kn{constructor(t){super(t),this.removeGroupControls=pe,this.removeListeners=pe,this.controls=new oP(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||pe}unmount(){this.removeGroupControls(),this.removeListeners()}}const Em=e=>(t,n)=>{e&&Z.update(()=>e(t,n))};class uP extends Kn{constructor(){super(...arguments),this.removePointerDownListener=pe}onPointerDown(t){this.session=new y_(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Em(t),onStart:Em(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Z.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Qt(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function cP(){const e=v.useContext(bl);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=v.useId();return v.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const aa={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Tm(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ui={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(M.test(e))e=parseFloat(e);else return e;const n=Tm(e,t.target.x),r=Tm(e,t.target.y);return`${n}% ${r}%`}},dP={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Vn.parse(e);if(i.length>5)return r;const s=Vn.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const u=ie(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class fP extends Ld.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;_C(hP),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),aa.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Z.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function C_(e){const[t,n]=cP(),r=v.useContext(If);return Ld.createElement(fP,{...e,layoutGroup:r,switchLayoutGroup:v.useContext(v0),isPresent:t,safeToRemove:n})}const hP={borderRadius:{...Ui,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ui,borderTopRightRadius:Ui,borderBottomLeftRadius:Ui,borderBottomRightRadius:Ui,boxShadow:dP},E_=["TopLeft","TopRight","BottomLeft","BottomRight"],pP=E_.length,Pm=e=>typeof e=="string"?parseFloat(e):e,km=e=>typeof e=="number"||M.test(e);function mP(e,t,n,r,i,s){i?(e.opacity=ie(0,n.opacity!==void 0?n.opacity:1,gP(r)),e.opacityExit=ie(t.opacity!==void 0?t.opacity:1,0,yP(r))):s&&(e.opacity=ie(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<pP;o++){const a=`border${E_[o]}Radius`;let l=Nm(t,a),u=Nm(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||km(l)===km(u)?(e[a]=Math.max(ie(Pm(l),Pm(u),r),0),(jt.test(u)||jt.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=ie(t.rotate||0,n.rotate||0,r))}function Nm(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const gP=T_(0,.5,Bf),yP=T_(.5,.95,pe);function T_(e,t,n){return r=>r<e?0:r>t?1:n(js(e,t,r))}function bm(e,t){e.min=t.min,e.max=t.max}function at(e,t){bm(e.x,t.x),bm(e.y,t.y)}function Im(e,t,n,r,i){return e-=t,e=Ga(e,1/n,r),i!==void 0&&(e=Ga(e,1/i,r)),e}function vP(e,t=0,n=1,r=.5,i,s=e,o=e){if(jt.test(t)&&(t=parseFloat(t),t=ie(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=ie(s.min,s.max,r);e===s&&(a-=t),e.min=Im(e.min,t,n,a,i),e.max=Im(e.max,t,n,a,i)}function Rm(e,t,[n,r,i],s,o){vP(e,t[n],t[r],t[i],t.scale,s,o)}const _P=["x","scaleX","originX"],xP=["y","scaleY","originY"];function Am(e,t,n,r){Rm(e.x,t,_P,n?n.x:void 0,r?r.x:void 0),Rm(e.y,t,xP,n?n.y:void 0,r?r.y:void 0)}function Dm(e){return e.translate===0&&e.scale===1}function P_(e){return Dm(e.x)&&Dm(e.y)}function wP(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function k_(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Mm(e){return rt(e.x)/rt(e.y)}class SP{constructor(){this.members=[]}add(t){Hf(this.members,t),t.scheduleRender()}remove(t){if(Gf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Lm(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const o=e.x.scale*t.x,a=e.y.scale*t.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const CP=(e,t)=>e.depth-t.depth;class EP{constructor(){this.children=[],this.isDirty=!1}add(t){Hf(this.children,t),this.isDirty=!0}remove(t){Gf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(CP),this.isDirty=!1,this.children.forEach(t)}}function TP(e,t){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(rn(r),e(s-t))};return Z.read(r,!0),()=>rn(r)}function PP(e){window.MotionDebug&&window.MotionDebug.record(e)}function kP(e){return e instanceof SVGElement&&e.tagName!=="svg"}function NP(e,t,n){const r=Xe(e)?e:gi(e);return r.start(Wf("",r,t,n)),r.animation}const Om=["","X","Y","Z"],jm=1e3;let bP=0;const nr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function N_({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t==null?void 0:t()){this.id=bP++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{nr.totalNodes=nr.resolvedTargetDeltas=nr.recalculatedProjection=0,this.nodes.forEach(AP),this.nodes.forEach(jP),this.nodes.forEach(FP),this.nodes.forEach(DP),PP(nr)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new EP)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Kf),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=kP(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let d;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=TP(f,250),aa.hasAnimatedSinceResize&&(aa.hasAnimatedSinceResize=!1,this.nodes.forEach(Vm))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:h,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||c.getDefaultTransition()||zP,{onLayoutAnimationStart:w,onLayoutAnimationComplete:_}=c.getProps(),p=!this.targetLayout||!k_(this.targetLayout,y)||h,m=!f&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||m||f&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,m);const S={...f_(x,"layout"),onPlay:w,onComplete:_};(c.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else f||Vm(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,rn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(VP),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Fm);return}this.isUpdating||this.nodes.forEach(LP),this.isUpdating=!1,this.nodes.forEach(OP),this.nodes.forEach(IP),this.nodes.forEach(RP),this.clearAllSnapshots();const a=performance.now();Se.delta=Fn(0,1e3/60,a-Se.timestamp),Se.timestamp=a,Se.isProcessing=!0,Tu.update.process(Se),Tu.preRender.process(Se),Tu.render.process(Se),Se.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(MP),this.sharedNodes.forEach(BP)}scheduleUpdateProjection(){Z.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Z.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!P_(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||tr(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),WP(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return ge();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(mn(a.x,l.offset.x),mn(a.y,l.offset.y)),a}removeElementScroll(o){const a=ge();at(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:d}=u;if(u!==this.root&&c&&d.layoutScroll){if(c.isRoot){at(a,o);const{scroll:f}=this.root;f&&(mn(a.x,-f.offset.x),mn(a.y,-f.offset.y))}mn(a.x,c.offset.x),mn(a.y,c.offset.y)}}return a}applyTransform(o,a=!1){const l=ge();at(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Xr(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),tr(c.latestValues)&&Xr(l,c.latestValues)}return tr(this.latestValues)&&Xr(l,this.latestValues),l}removeTransform(o){const a=ge();at(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!tr(u.latestValues))continue;td(u.latestValues)&&u.updateSnapshot();const c=ge(),d=u.measurePageBox();at(c,d),Am(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return tr(this.latestValues)&&Am(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Se.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Se.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ge(),this.relativeTargetOrigin=ge(),fs(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),at(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ge(),this.targetWithTransforms=ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),GT(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):at(this.target,this.layout.layoutBox),w_(this.target,this.targetDelta)):at(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ge(),this.relativeTargetOrigin=ge(),fs(this.relativeTargetOrigin,this.target,h.target),at(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}nr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||td(this.parent.latestValues)||x_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Se.timestamp&&(u=!1),u)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;at(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;tP(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:y}=a;if(!y){this.projectionTransform&&(this.projectionDelta=qr(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=qr(),this.projectionDeltaWithTransform=qr());const x=this.projectionTransform;ds(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=Lm(this.projectionDelta,this.treeScale),(this.projectionTransform!==x||this.treeScale.x!==f||this.treeScale.y!==h)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),nr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=qr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=ge(),h=l?l.source:void 0,y=this.layout?this.layout.source:void 0,x=h!==y,w=this.getStack(),_=!w||w.members.length<=1,p=!!(x&&!_&&this.options.crossfade===!0&&!this.path.some(UP));this.animationProgress=0;let m;this.mixTargetDelta=S=>{const C=S/1e3;Bm(d.x,o.x,C),Bm(d.y,o.y,C),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fs(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$P(this.relativeTarget,this.relativeTargetOrigin,f,C),m&&wP(this.relativeTarget,m)&&(this.isProjectionDirty=!1),m||(m=ge()),at(m,this.relativeTarget)),x&&(this.animationValues=c,mP(c,u,this.latestValues,C,p,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(rn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Z.update(()=>{aa.hasAnimatedSinceResize=!0,this.currentAnimation=NP(0,jm,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(jm),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&b_(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||ge();const d=rt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=rt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}at(a,l),Xr(a,c),ds(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new SP),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<Om.length;c++){const d="rotate"+Om[c];l[d]&&(u[d]=l[d],o.setStaticValue(d,0))}o.render();for(const c in u)o.setStaticValue(c,u[c]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=oa(o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=oa(o.pointerEvents)||""),this.hasProjected&&!tr(this.latestValues)&&(x.transform=c?c({},""):"none",this.hasProjected=!1),x}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=Lm(this.projectionDeltaWithTransform,this.treeScale,f),c&&(u.transform=c(f,u.transform));const{x:h,y}=this.projectionDelta;u.transformOrigin=`${h.origin*100}% ${y.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const x in Va){if(f[x]===void 0)continue;const{correct:w,applyTo:_}=Va[x],p=u.transform==="none"?f[x]:w(f[x],d);if(_){const m=_.length;for(let S=0;S<m;S++)u[_[S]]=p}else u[x]=p}return this.options.layoutId&&(u.pointerEvents=d===this?oa(o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Fm),this.root.sharedNodes.clear()}}}function IP(e){e.updateLayout()}function RP(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=n.source!==e.layout.source;s==="size"?Dt(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],h=rt(f);f.min=r[d].min,f.max=f.min+h}):b_(s,n.layoutBox,r)&&Dt(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],h=rt(r[d]);f.max=f.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+h)});const a=qr();ds(a,r,n.layoutBox);const l=qr();o?ds(l,e.applyTransform(i,!0),n.measuredBox):ds(l,r,n.layoutBox);const u=!P_(a);let c=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:h}=d;if(f&&h){const y=ge();fs(y,n.layoutBox,f.layoutBox);const x=ge();fs(x,r,h.layoutBox),k_(y,x)||(c=!0),d.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=y,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function AP(e){nr.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function DP(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function MP(e){e.clearSnapshot()}function Fm(e){e.clearMeasurements()}function LP(e){e.isLayoutDirty=!1}function OP(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Vm(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function jP(e){e.resolveTargetDelta()}function FP(e){e.calcProjection()}function VP(e){e.resetRotation()}function BP(e){e.removeLeadSnapshot()}function Bm(e,t,n){e.translate=ie(t.translate,0,n),e.scale=ie(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function $m(e,t,n,r){e.min=ie(t.min,n.min,r),e.max=ie(t.max,n.max,r)}function $P(e,t,n,r){$m(e.x,t.x,n.x,r),$m(e.y,t.y,n.y,r)}function UP(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const zP={duration:.45,ease:[.4,0,.1,1]},Um=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),zm=Um("applewebkit/")&&!Um("chrome/")?Math.round:pe;function Wm(e){e.min=zm(e.min),e.max=zm(e.max)}function WP(e){Wm(e.x),Wm(e.y)}function b_(e,t,n){return e==="position"||e==="preserve-aspect"&&!Jc(Mm(t),Mm(n),.2)}const HP=N_({attachResizeListener:(e,t)=>Gt(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Lu={current:void 0},I_=N_({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Lu.current){const e=new HP({});e.mount(window),e.setOptions({layoutScroll:!0}),Lu.current=e}return Lu.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),GP={pan:{Feature:uP},drag:{Feature:lP,ProjectionNode:I_,MeasureLayout:C_}},KP=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function YP(e){const t=KP.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function rd(e,t,n=1){const[r,i]=YP(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return h_(o)?parseFloat(o):o}else return Gc(i)?rd(i,t,n+1):i}function QP(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const s=i.get();if(!Gc(s))return;const o=rd(s,r);o&&i.set(o)});for(const i in t){const s=t[i];if(!Gc(s))continue;const o=rd(s,r);o&&(t[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:t,transitionEnd:n}}const qP=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),R_=e=>qP.has(e),XP=e=>Object.keys(e).some(R_),Hm=e=>e===Er||e===M,Gm=(e,t)=>parseFloat(e.split(", ")[t]),Km=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return Gm(i[1],t);{const s=r.match(/^matrix\((.+)\)$/);return s?Gm(s[1],e):0}},ZP=new Set(["x","y","z"]),JP=ro.filter(e=>!ZP.has(e));function ek(e){const t=[];return JP.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const yi={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Km(4,13),y:Km(5,14)};yi.translateX=yi.x;yi.translateY=yi.y;const tk=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{a[u]=yi[u](r,s)}),t.render();const l=t.measureViewportBox();return n.forEach(u=>{const c=t.getValue(u);c&&c.jump(a[u]),e[u]=yi[u](l,s)}),e},nk=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(R_);let s=[],o=!1;const a=[];if(i.forEach(l=>{const u=e.getValue(l);if(!e.hasValue(l))return;let c=n[l],d=$i(c);const f=t[l];let h;if($a(f)){const y=f.length,x=f[0]===null?1:0;c=f[x],d=$i(c);for(let w=x;w<y&&f[w]!==null;w++)h?Vf($i(f[w])===h):h=$i(f[w])}else h=$i(f);if(d!==h)if(Hm(d)&&Hm(h)){const y=u.get();typeof y=="string"&&u.set(parseFloat(y)),typeof f=="string"?t[l]=parseFloat(f):Array.isArray(f)&&h===M&&(t[l]=f.map(parseFloat))}else d!=null&&d.transform&&(h!=null&&h.transform)&&(c===0||f===0)?c===0?u.set(h.transform(c)):t[l]=d.transform(f):(o||(s=ek(e),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:t[l],u.jump(f))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=tk(t,e,a);return s.length&&s.forEach(([c,d])=>{e.getValue(c).set(d)}),e.render(),Il&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function rk(e,t,n,r){return XP(t)?nk(e,t,n,r):{target:t,transitionEnd:r}}const ik=(e,t,n,r)=>{const i=QP(e,t,r);return t=i.target,r=i.transitionEnd,rk(e,t,n,r)},id={current:null},A_={current:!1};function sk(){if(A_.current=!0,!!Il)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>id.current=e.matches;e.addListener(t),t()}else id.current=!1}function ok(e,t,n){const{willChange:r}=t;for(const i in t){const s=t[i],o=n[i];if(Xe(s))e.addValue(i,s),Ha(r)&&r.add(i);else if(Xe(o))e.addValue(i,gi(s,{owner:e})),Ha(r)&&r.remove(i);else if(o!==s)if(e.hasValue(i)){const a=e.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=e.getStaticValue(i);e.addValue(i,gi(a!==void 0?a:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const Ym=new WeakMap,D_=Object.keys(Os),ak=D_.length,Qm=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],lk=bf.length;class uk{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Z.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Al(n),this.isVariantNode=y0(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const d in c){const f=c[d];a[d]!==void 0&&Xe(f)&&(f.set(a[d],!1),Ha(u)&&u.add(d))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,Ym.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),A_.current||sk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:id.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ym.delete(this.current),this.projection&&this.projection.unmount(),rn(this.notifyUpdate),rn(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Cr.has(t),i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Z.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),s()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,s){let o,a;for(let l=0;l<ak;l++){const u=D_[l],{isEnabled:c,Feature:d,ProjectionNode:f,MeasureLayout:h}=Os[u];f&&(o=f),c(n)&&(!this.features[u]&&d&&(this.features[u]=new d(this)),h&&(a=h))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:h}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||d&&Yr(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:f,layoutRoot:h})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ge()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Qm.length;r++){const i=Qm[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=t["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=ok(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<lk;r++){const i=bf[r],s=this.props[i];(Ls(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=gi(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=Ff(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Xe(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Kf),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class M_ extends uk{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},s){let o=NT(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){PT(this,r,o);const a=ik(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function ck(e){return window.getComputedStyle(e)}class dk extends M_{readValueFromInstance(t,n){if(Cr.has(n)){const r=zf(n);return r&&r.default||0}else{const r=ck(t),i=(w0(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return S_(t,n)}build(t,n,r,i){Af(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return jf(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Xe(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){k0(t,n,r,i)}}class fk extends M_{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Cr.has(n)){const r=zf(n);return r&&r.default||0}return n=N0.has(n)?n:Of(n),t.getAttribute(n)}measureInstanceViewportBox(){return ge()}scrapeMotionValuesFromProps(t,n){return I0(t,n)}build(t,n,r,i){Mf(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){b0(t,n,r,i)}mount(t){this.isSVGTag=Lf(t.tagName),super.mount(t)}}const hk=(e,t)=>Rf(e)?new fk(t,{enableHardwareAcceleration:!1}):new dk(t,{enableHardwareAcceleration:!0}),pk={layout:{ProjectionNode:I_,MeasureLayout:C_}},mk={...UT,...lE,...GP,...pk},I=yC((e,t)=>QC(e,t,mk,hk));function L_(){const e=v.useRef(!1);return kf(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function gk(){const e=L_(),[t,n]=v.useState(0),r=v.useCallback(()=>{e.current&&n(t+1)},[t]);return[v.useCallback(()=>Z.postRender(r),[r]),t]}class yk extends v.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function vk({children:e,isPresent:t}){const n=v.useId(),r=v.useRef(null),i=v.useRef({width:0,height:0,top:0,left:0});return v.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(t||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),v.createElement(yk,{isPresent:t,childRef:r,sizeRef:i},v.cloneElement(e,{ref:r}))}const Ou=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=R0(_k),l=v.useId(),u=v.useMemo(()=>({id:l,initial:t,isPresent:n,custom:i,onExitComplete:c=>{a.set(c,!0);for(const d of a.values())if(!d)return;r&&r()},register:c=>(a.set(c,!1),()=>a.delete(c))}),s?void 0:[n]);return v.useMemo(()=>{a.forEach((c,d)=>a.set(d,!1))},[n]),v.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(e=v.createElement(vk,{isPresent:n},e)),v.createElement(bl.Provider,{value:u},e)};function _k(){return new Map}function xk(e){return v.useEffect(()=>()=>e(),[])}const Lr=e=>e.key||"";function wk(e,t){e.forEach(n=>{const r=Lr(n);t.set(r,n)})}function Sk(e){const t=[];return v.Children.forEach(e,n=>{v.isValidElement(n)&&t.push(n)}),t}const Rn=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=v.useContext(If).forceRender||gk()[0],l=L_(),u=Sk(e);let c=u;const d=v.useRef(new Map).current,f=v.useRef(c),h=v.useRef(new Map).current,y=v.useRef(!0);if(kf(()=>{y.current=!1,wk(u,h),f.current=c}),xk(()=>{y.current=!0,h.clear(),d.clear()}),y.current)return v.createElement(v.Fragment,null,c.map(p=>v.createElement(Ou,{key:Lr(p),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},p)));c=[...c];const x=f.current.map(Lr),w=u.map(Lr),_=x.length;for(let p=0;p<_;p++){const m=x[p];w.indexOf(m)===-1&&!d.has(m)&&d.set(m,void 0)}return o==="wait"&&d.size&&(c=[]),d.forEach((p,m)=>{if(w.indexOf(m)!==-1)return;const S=h.get(m);if(!S)return;const C=x.indexOf(m);let N=p;if(!N){const P=()=>{h.delete(m),d.delete(m);const E=f.current.findIndex(D=>D.key===m);if(f.current.splice(E,1),!d.size){if(f.current=u,l.current===!1)return;a(),r&&r()}};N=v.createElement(Ou,{key:Lr(S),isPresent:!1,onExitComplete:P,custom:t,presenceAffectsLayout:s,mode:o},S),d.set(m,N)}c.splice(C,0,N)}),c=c.map(p=>{const m=p.key;return d.has(m)?p:v.createElement(Ou,{key:Lr(p),isPresent:!0,presenceAffectsLayout:s,mode:o},p)}),v.createElement(v.Fragment,null,d.size?c:c.map(p=>v.cloneElement(p)))};let Ck={data:""},Ek=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Ck,Tk=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Pk=/\/\*[^]*?\*\/|  +/g,qm=/\n+/g,vn=(e,t)=>{let n="",r="",i="";for(let s in e){let o=e[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?vn(o,s):s+"{"+vn(o,s[1]=="k"?"":t)+"}":typeof o=="object"?r+=vn(o,t?t.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=vn.p?vn.p(s,o):s+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+r},$t={},O_=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+O_(e[n]);return t}return e},kk=(e,t,n,r,i)=>{let s=O_(e),o=$t[s]||($t[s]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(s));if(!$t[o]){let l=s!==e?e:(u=>{let c,d,f=[{}];for(;c=Tk.exec(u.replace(Pk,""));)c[4]?f.shift():c[3]?(d=c[3].replace(qm," ").trim(),f.unshift(f[0][d]=f[0][d]||{})):f[0][c[1]]=c[2].replace(qm," ").trim();return f[0]})(e);$t[o]=vn(i?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&$t.g?$t.g:null;return n&&($t.g=$t[o]),((l,u,c,d)=>{d?u.data=u.data.replace(d,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})($t[o],t,r,a),o},Nk=(e,t,n)=>e.reduce((r,i,s)=>{let o=t[s];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":vn(a,""):a===!1?"":a}return r+i+(o??"")},"");function Ol(e){let t=this||{},n=e.call?e(t.p):e;return kk(n.unshift?n.raw?Nk(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,Ek(t.target),t.g,t.o,t.k)}let j_,sd,od;Ol.bind({g:1});let sn=Ol.bind({k:1});function bk(e,t,n,r){vn.p=t,j_=e,sd=n,od=r}function Yn(e,t){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;n.p=Object.assign({theme:sd&&sd()},a),n.o=/ *go\d+/.test(l),a.className=Ol.apply(n,r)+(l?" "+l:"");let u=e;return e[0]&&(u=a.as||e,delete a.as),od&&u[0]&&od(a),j_(u,a)}return i}}var Ik=e=>typeof e=="function",Ka=(e,t)=>Ik(e)?e(t):e,Rk=(()=>{let e=0;return()=>(++e).toString()})(),F_=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Ak=20,la=new Map,Dk=1e3,Xm=e=>{if(la.has(e))return;let t=setTimeout(()=>{la.delete(e),Tr({type:4,toastId:e})},Dk);la.set(e,t)},Mk=e=>{let t=la.get(e);t&&clearTimeout(t)},ad=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,Ak)};case 1:return t.toast.id&&Mk(t.toast.id),{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case 2:let{toast:n}=t;return e.toasts.find(s=>s.id===n.id)?ad(e,{type:1,toast:n}):ad(e,{type:0,toast:n});case 3:let{toastId:r}=t;return r?Xm(r):e.toasts.forEach(s=>{Xm(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===r||r===void 0?{...s,visible:!1}:s)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},ua=[],ca={toasts:[],pausedAt:void 0},Tr=e=>{ca=ad(ca,e),ua.forEach(t=>{t(ca)})},Lk={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Ok=(e={})=>{let[t,n]=v.useState(ca);v.useEffect(()=>(ua.push(n),()=>{let i=ua.indexOf(n);i>-1&&ua.splice(i,1)}),[t]);let r=t.toasts.map(i=>{var s,o;return{...e,...e[i.type],...i,duration:i.duration||((s=e[i.type])==null?void 0:s.duration)||(e==null?void 0:e.duration)||Lk[i.type],style:{...e.style,...(o=e[i.type])==null?void 0:o.style,...i.style}}});return{...t,toasts:r}},jk=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Rk()}),ao=e=>(t,n)=>{let r=jk(t,e,n);return Tr({type:2,toast:r}),r.id},me=(e,t)=>ao("blank")(e,t);me.error=ao("error");me.success=ao("success");me.loading=ao("loading");me.custom=ao("custom");me.dismiss=e=>{Tr({type:3,toastId:e})};me.remove=e=>Tr({type:4,toastId:e});me.promise=(e,t,n)=>{let r=me.loading(t.loading,{...n,...n==null?void 0:n.loading});return e.then(i=>(me.success(Ka(t.success,i),{id:r,...n,...n==null?void 0:n.success}),i)).catch(i=>{me.error(Ka(t.error,i),{id:r,...n,...n==null?void 0:n.error})}),e};var Fk=(e,t)=>{Tr({type:1,toast:{id:e,height:t}})},Vk=()=>{Tr({type:5,time:Date.now()})},Bk=e=>{let{toasts:t,pausedAt:n}=Ok(e);v.useEffect(()=>{if(n)return;let s=Date.now(),o=t.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(l<0){a.visible&&me.dismiss(a.id);return}return setTimeout(()=>me.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[t,n]);let r=v.useCallback(()=>{n&&Tr({type:6,time:Date.now()})},[n]),i=v.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:u}=o||{},c=t.filter(h=>(h.position||u)===(s.position||u)&&h.height),d=c.findIndex(h=>h.id===s.id),f=c.filter((h,y)=>y<d&&h.visible).length;return c.filter(h=>h.visible).slice(...a?[f+1]:[0,f]).reduce((h,y)=>h+(y.height||0)+l,0)},[t]);return{toasts:t,handlers:{updateHeight:Fk,startPause:Vk,endPause:r,calculateOffset:i}}},$k=sn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Uk=sn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,zk=sn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Wk=Yn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$k} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Uk} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${zk} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Hk=sn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Gk=Yn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Hk} 1s linear infinite;
`,Kk=sn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Yk=sn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Qk=Yn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Kk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Yk} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,qk=Yn("div")`
  position: absolute;
`,Xk=Yn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Zk=sn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Jk=Yn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Zk} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,e2=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?v.createElement(Jk,null,t):t:n==="blank"?null:v.createElement(Xk,null,v.createElement(Gk,{...r}),n!=="loading"&&v.createElement(qk,null,n==="error"?v.createElement(Wk,{...r}):v.createElement(Qk,{...r})))},t2=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,n2=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,r2="0%{opacity:0;} 100%{opacity:1;}",i2="0%{opacity:1;} 100%{opacity:0;}",s2=Yn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,o2=Yn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,a2=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=F_()?[r2,i2]:[t2(n),n2(n)];return{animation:t?`${sn(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${sn(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},l2=v.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?a2(e.position||t||"top-center",e.visible):{opacity:0},s=v.createElement(e2,{toast:e}),o=v.createElement(o2,{...e.ariaProps},Ka(e.message,e));return v.createElement(s2,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:s,message:o}):v.createElement(v.Fragment,null,s,o))});bk(v.createElement);var u2=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let s=v.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(e,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return v.createElement("div",{ref:s,className:t,style:n},i)},c2=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:F_()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},d2=Ol`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,zo=16,f2=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:l}=Bk(n);return v.createElement("div",{style:{position:"fixed",zIndex:9999,top:zo,left:zo,right:zo,bottom:zo,pointerEvents:"none",...s},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(u=>{let c=u.position||t,d=l.calculateOffset(u,{reverseOrder:e,gutter:r,defaultPosition:t}),f=c2(c,d);return v.createElement(u2,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?d2:"",style:f},u.type==="custom"?Ka(u.message,u):i?i(u):v.createElement(l2,{toast:u,position:c}))}))},Zm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b=function(e,t){if(!e)throw ki(t)},ki=function(e){return new Error("Firebase Database ("+V_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},h2=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},Yf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,h=u&63;l||(h=64,o||(f=64)),r.push(n[c],n[d],n[f],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(B_(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):h2(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new p2;const f=s<<2|a>>4;if(r.push(f),u!==64){const h=a<<4&240|u>>2;if(r.push(h),d!==64){const y=u<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class p2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $_=function(e){const t=B_(e);return Yf.encodeByteArray(t,!0)},Ya=function(e){return $_(e).replace(/\./g,"")},ld=function(e){try{return Yf.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(e){return U_(void 0,e)}function U_(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!g2(n)||(e[n]=U_(e[n],t[n]));return e}function g2(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=()=>y2().__FIREBASE_DEFAULTS__,_2=()=>{if(typeof process>"u"||typeof Zm>"u")return;const e=Zm.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},x2=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&ld(e[1]);return t&&JSON.parse(t)},z_=()=>{try{return v2()||_2()||x2()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},w2=e=>{var t,n;return(n=(t=z_())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},S2=e=>{const t=w2(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},W_=()=>{var e;return(e=z_())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ya(JSON.stringify(n)),Ya(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function H_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(E2())}function T2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function P2(){return V_.NODE_ADMIN===!0}function k2(){try{return typeof indexedDB=="object"}catch{return!1}}function N2(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2="FirebaseError";class uo extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=b2,Object.setPrototypeOf(this,uo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,G_.prototype.create)}}class G_{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?I2(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new uo(i,a,r)}}function I2(e,t){return e.replace(R2,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const R2=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(e){return JSON.parse(e)}function xe(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=Fs(ld(s[0])||""),n=Fs(ld(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},A2=function(e){const t=K_(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},D2=function(e){const t=K_(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function vi(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Jm(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Qa(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function ud(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(eg(s)&&eg(o)){if(!ud(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function eg(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const f=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[o]=t.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=t[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)t[r]=this.chain_[i]>>s&255,++r;return t}}function jl(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,b(r<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Fl=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(e){return e&&e._delegate?e._delegate:e}class Vs{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new lo;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(V2(t))try{this.getOrInitializeService({instanceIdentifier:rr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=rr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=rr){return this.instances.has(t)}getOptions(t=rr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:F2(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=rr){return this.component?this.component.multipleInstances?t:rr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function F2(e){return e===rr?void 0:e}function V2(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new j2(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Q||(Q={}));const $2={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},U2=Q.INFO,z2={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},W2=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=z2[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Y_{constructor(t){this.name=t,this._logLevel=U2,this._logHandler=W2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Q))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?$2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...t),this._logHandler(this,Q.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...t),this._logHandler(this,Q.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...t),this._logHandler(this,Q.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...t),this._logHandler(this,Q.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...t),this._logHandler(this,Q.ERROR,...t)}}const H2=(e,t)=>t.some(n=>e instanceof n);let tg,ng;function G2(){return tg||(tg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K2(){return ng||(ng=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q_=new WeakMap,cd=new WeakMap,q_=new WeakMap,ju=new WeakMap,Qf=new WeakMap;function Y2(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(An(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Q_.set(n,e)}).catch(()=>{}),Qf.set(t,e),t}function Q2(e){if(cd.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});cd.set(e,t)}let dd={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return cd.get(e);if(t==="objectStoreNames")return e.objectStoreNames||q_.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return An(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function q2(e){dd=e(dd)}function X2(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Fu(this),t,...n);return q_.set(r,t.sort?t.sort():[t]),An(r)}:K2().includes(e)?function(...t){return e.apply(Fu(this),t),An(Q_.get(this))}:function(...t){return An(e.apply(Fu(this),t))}}function Z2(e){return typeof e=="function"?X2(e):(e instanceof IDBTransaction&&Q2(e),H2(e,G2())?new Proxy(e,dd):e)}function An(e){if(e instanceof IDBRequest)return Y2(e);if(ju.has(e))return ju.get(e);const t=Z2(e);return t!==e&&(ju.set(e,t),Qf.set(t,e)),t}const Fu=e=>Qf.get(e);function J2(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=An(o);return r&&o.addEventListener("upgradeneeded",l=>{r(An(o.result),l.oldVersion,l.newVersion,An(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const eN=["get","getKey","getAll","getAllKeys","count"],tN=["put","add","delete","clear"],Vu=new Map;function rg(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Vu.get(t))return Vu.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=tN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||eN.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Vu.set(t,s),s}q2(e=>({...e,get:(t,n,r)=>rg(t,n)||e.get(t,n,r),has:(t,n)=>!!rg(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function rN(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const fd="@firebase/app",ig="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on=new Y_("@firebase/app"),iN="@firebase/app-compat",sN="@firebase/analytics-compat",oN="@firebase/analytics",aN="@firebase/app-check-compat",lN="@firebase/app-check",uN="@firebase/auth",cN="@firebase/auth-compat",dN="@firebase/database",fN="@firebase/data-connect",hN="@firebase/database-compat",pN="@firebase/functions",mN="@firebase/functions-compat",gN="@firebase/installations",yN="@firebase/installations-compat",vN="@firebase/messaging",_N="@firebase/messaging-compat",xN="@firebase/performance",wN="@firebase/performance-compat",SN="@firebase/remote-config",CN="@firebase/remote-config-compat",EN="@firebase/storage",TN="@firebase/storage-compat",PN="@firebase/firestore",kN="@firebase/vertexai",NN="@firebase/firestore-compat",bN="firebase",IN="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd="[DEFAULT]",RN={[fd]:"fire-core",[iN]:"fire-core-compat",[oN]:"fire-analytics",[sN]:"fire-analytics-compat",[lN]:"fire-app-check",[aN]:"fire-app-check-compat",[uN]:"fire-auth",[cN]:"fire-auth-compat",[dN]:"fire-rtdb",[fN]:"fire-data-connect",[hN]:"fire-rtdb-compat",[pN]:"fire-fn",[mN]:"fire-fn-compat",[gN]:"fire-iid",[yN]:"fire-iid-compat",[vN]:"fire-fcm",[_N]:"fire-fcm-compat",[xN]:"fire-perf",[wN]:"fire-perf-compat",[SN]:"fire-rc",[CN]:"fire-rc-compat",[EN]:"fire-gcs",[TN]:"fire-gcs-compat",[PN]:"fire-fst",[NN]:"fire-fst-compat",[kN]:"fire-vertex","fire-js":"fire-js",[bN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=new Map,AN=new Map,pd=new Map;function sg(e,t){try{e.container.addComponent(t)}catch(n){on.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Xa(e){const t=e.name;if(pd.has(t))return on.debug(`There were multiple attempts to register component ${t}.`),!1;pd.set(t,e);for(const n of qa.values())sg(n,e);for(const n of AN.values())sg(n,e);return!0}function DN(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function MN(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dn=new G_("app","Firebase",LN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Dn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=IN;function X_(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:hd,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Dn.create("bad-app-name",{appName:String(i)});if(n||(n=W_()),!n)throw Dn.create("no-options");const s=qa.get(i);if(s){if(ud(n,s.options)&&ud(r,s.config))return s;throw Dn.create("duplicate-app",{appName:i})}const o=new B2(i);for(const l of pd.values())o.addComponent(l);const a=new ON(n,r,o);return qa.set(i,a),a}function FN(e=hd){const t=qa.get(e);if(!t&&e===hd&&W_())return X_();if(!t)throw Dn.create("no-app",{appName:e});return t}function oi(e,t,n){var r;let i=(r=RN[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),on.warn(a.join(" "));return}Xa(new Vs(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN="firebase-heartbeat-database",BN=1,Bs="firebase-heartbeat-store";let Bu=null;function Z_(){return Bu||(Bu=J2(VN,BN,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Bs)}catch(n){console.warn(n)}}}}).catch(e=>{throw Dn.create("idb-open",{originalErrorMessage:e.message})})),Bu}async function $N(e){try{const n=(await Z_()).transaction(Bs),r=await n.objectStore(Bs).get(J_(e));return await n.done,r}catch(t){if(t instanceof uo)on.warn(t.message);else{const n=Dn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});on.warn(n.message)}}}async function og(e,t){try{const r=(await Z_()).transaction(Bs,"readwrite");await r.objectStore(Bs).put(t,J_(e)),await r.done}catch(n){if(n instanceof uo)on.warn(n.message);else{const r=Dn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});on.warn(r.message)}}}function J_(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=1024,zN=30;class WN{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new GN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ag();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>zN){const o=KN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){on.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ag(),{heartbeatsToSend:r,unsentEntries:i}=HN(this._heartbeatsCache.heartbeats),s=Ya(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return on.warn(n),""}}}function ag(){return new Date().toISOString().substring(0,10)}function HN(e,t=UN){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),lg(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),lg(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class GN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return k2()?N2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $N(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return og(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return og(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function lg(e){return Ya(JSON.stringify({version:2,heartbeats:e})).length}function KN(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(e){Xa(new Vs("platform-logger",t=>new nN(t),"PRIVATE")),Xa(new Vs("heartbeat",t=>new WN(t),"PRIVATE")),oi(fd,ig,e),oi(fd,ig,"esm2017"),oi("fire-js","")}YN("");var ug={};const cg="@firebase/database",dg="1.0.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e1="";function QN(e){e1=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),xe(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Fs(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Vt(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new qN(t)}}catch{}return new XN},ur=t1("localStorage"),ZN=t1("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=new Y_("@firebase/database"),JN=function(){let e=1;return function(){return e++}}(),n1=function(e){const t=O2(e),n=new L2;n.update(t);const r=n.digest();return Yf.encodeByteArray(r)},co=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=co.apply(null,r):typeof r=="object"?t+=xe(r):t+=r,t+=" "}return t};let hs=null,fg=!0;const eb=function(e,t){b(!0,"Can't turn on custom loggers persistently."),ai.logLevel=Q.VERBOSE,hs=ai.log.bind(ai)},be=function(...e){if(fg===!0&&(fg=!1,hs===null&&ZN.get("logging_enabled")===!0&&eb()),hs){const t=co.apply(null,e);hs(t)}},fo=function(e){return function(...t){be(e,...t)}},md=function(...e){const t="FIREBASE INTERNAL ERROR: "+co(...e);ai.error(t)},an=function(...e){const t=`FIREBASE FATAL ERROR: ${co(...e)}`;throw ai.error(t),new Error(t)},$e=function(...e){const t="FIREBASE WARNING: "+co(...e);ai.warn(t)},tb=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&$e("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},qf=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},nb=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},_i="[MIN_NAME]",vr="[MAX_NAME]",kr=function(e,t){if(e===t)return 0;if(e===_i||t===vr)return-1;if(t===_i||e===vr)return 1;{const n=hg(e),r=hg(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},rb=function(e,t){return e===t?0:e<t?-1:1},zi=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+xe(t))},Xf=function(e){if(typeof e!="object"||e===null)return xe(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=xe(t[r]),n+=":",n+=Xf(e[t[r]]);return n+="}",n},r1=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Ae(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const i1=function(e){b(!qf(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,s,o,a,l;e===0?(s=0,o=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=a+r,o=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(e/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=t;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(c.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},ib=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},sb=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function ob(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const ab=new RegExp("^-?(0*)\\d{1,10}$"),lb=-2147483648,ub=2147483647,hg=function(e){if(ab.test(e)){const t=Number(e);if(t>=lb&&t<=ub)return t}return null},Ni=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw $e("Exception was thrown by user callback.",n),t},Math.floor(0))}},cb=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ps=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,MN(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){$e(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(be("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',$e(t)}}class da{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}da.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf="5",s1="v",o1="s",a1="r",l1="f",u1=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,c1="ls",d1="p",gd="ac",f1="websocket",h1="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(t,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ur.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&ur.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function hb(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function m1(e,t,n){b(typeof t=="string","typeof type must == string"),b(typeof n=="object","typeof params must == object");let r;if(t===f1)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===h1)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);hb(e)&&(n.ns=e.namespace);const i=[];return Ae(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(){this.counters_={}}incrementCounter(t,n=1){Vt(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return m2(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u={},Uu={};function Jf(e){const t=e.toString();return $u[t]||($u[t]=new pb),$u[t]}function mb(e,t){const n=e.toString();return Uu[n]||(Uu[n]=t()),Uu[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ni(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="start",yb="close",vb="pLPCommand",_b="pRTLPCB",g1="id",y1="pw",v1="ser",xb="cb",wb="seg",Sb="ts",Cb="d",Eb="dframe",_1=1870,x1=30,Tb=_1-x1,Pb=25e3,kb=3e4;class Zr{constructor(t,n,r,i,s,o,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=fo(t),this.stats_=Jf(n),this.urlFn=l=>(this.appCheckToken&&(l[gd]=this.appCheckToken),m1(n,h1,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new gb(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(kb)),nb(()=>{if(this.isClosed_)return;this.scriptTagHolder=new eh((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===pg)this.id=a,this.password=l;else if(o===yb)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[pg]="t",r[v1]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[xb]=this.scriptTagHolder.uniqueCallbackIdentifier),r[s1]=Zf,this.transportSessionId&&(r[o1]=this.transportSessionId),this.lastSessionId&&(r[c1]=this.lastSessionId),this.applicationId&&(r[d1]=this.applicationId),this.appCheckToken&&(r[gd]=this.appCheckToken),typeof location<"u"&&location.hostname&&u1.test(location.hostname)&&(r[a1]=l1);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Zr.forceAllow_=!0}static forceDisallow(){Zr.forceDisallow_=!0}static isAvailable(){return Zr.forceAllow_?!0:!Zr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ib()&&!sb()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=xe(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=$_(n),i=r1(r,Tb);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Eb]="t",r[g1]=t,r[y1]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=xe(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class eh{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=JN(),window[vb+this.uniqueCallbackIdentifier]=t,window[_b+this.uniqueCallbackIdentifier]=n,this.myIFrame=eh.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){be("frame writing exception"),a.stack&&be(a.stack),be(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||be("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[g1]=this.myID,t[y1]=this.myPW,t[v1]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+x1+r.length<=_1;){const o=this.pendingSegs.shift();r=r+"&"+wb+i+"="+o.seg+"&"+Sb+i+"="+o.ts+"&"+Cb+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Pb)),s=()=>{clearTimeout(i),r()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{be("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=16384,bb=45e3;let Za=null;typeof MozWebSocket<"u"?Za=MozWebSocket:typeof WebSocket<"u"&&(Za=WebSocket);class xt{constructor(t,n,r,i,s,o,a){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=fo(this.connId),this.stats_=Jf(n),this.connURL=xt.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,s){const o={};return o[s1]=Zf,typeof location<"u"&&location.hostname&&u1.test(location.hostname)&&(o[a1]=l1),n&&(o[o1]=n),r&&(o[c1]=r),i&&(o[gd]=i),s&&(o[d1]=s),m1(t,f1,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ur.set("previous_websocket_failure",!0);try{let r;P2(),this.mySock=new Za(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){xt.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Za!==null&&!xt.forceDisallow_}static previouslyFailed(){return ur.isInMemoryStorage||ur.get("previous_websocket_failure")===!0}markConnectionHealthy(){ur.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Fs(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(b(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=xe(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=r1(n,Nb);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(bb))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}xt.responsesRequiredToBeHealthy=2;xt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{static get ALL_TRANSPORTS(){return[Zr,xt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const n=xt&&xt.isAvailable();let r=n&&!xt.previouslyFailed();if(t.webSocketOnly&&(n||$e("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[xt];else{const i=this.transports_=[];for(const s of $s.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);$s.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}$s.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=6e4,Rb=5e3,Ab=10*1024,Db=100*1024,zu="t",mg="d",Mb="s",gg="r",Lb="e",yg="o",vg="a",_g="n",xg="p",Ob="h";class jb{constructor(t,n,r,i,s,o,a,l,u,c){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=fo("c:"+this.id+":"),this.transportManager_=new $s(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=ps(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Db?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Ab?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(zu in t){const n=t[zu];n===vg?this.upgradeIfSecondaryHealthy_():n===gg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===yg&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=zi("t",t),r=zi("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:xg,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:vg,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:_g,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=zi("t",t),r=zi("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=zi(zu,t);if(mg in t){const r=t[mg];if(n===Ob){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===_g){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Mb?this.onConnectionShutdown_(r):n===gg?this.onReset_(r):n===Lb?md("Server Error: "+r):n===yg?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):md("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Zf!==r&&$e("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ps(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Ib))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ps(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Rb))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:xg,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ur.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(t){this.allowedEvents_=t,this.listeners_={},b(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(t){b(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends S1{static getInstance(){return new Ja}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!H_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return b(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg=32,Sg=768;class K{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function H(){return new K("")}function B(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Bn(e){return e.pieces_.length-e.pieceNum_}function q(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new K(e.pieces_,t)}function th(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Fb(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Us(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function C1(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new K(t,0)}function ue(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof K)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new K(n,0)}function U(e){return e.pieceNum_>=e.pieces_.length}function Ve(e,t){const n=B(e),r=B(t);if(n===null)return t;if(n===r)return Ve(q(e),q(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Vb(e,t){const n=Us(e,0),r=Us(t,0);for(let i=0;i<n.length&&i<r.length;i++){const s=kr(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function nh(e,t){if(Bn(e)!==Bn(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function dt(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Bn(e)>Bn(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Bb{constructor(t,n){this.errorPrefix_=n,this.parts_=Us(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Fl(this.parts_[r]);E1(this)}}function $b(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Fl(t),E1(e)}function Ub(e){const t=e.parts_.pop();e.byteLength_-=Fl(t),e.parts_.length>0&&(e.byteLength_-=1)}function E1(e){if(e.byteLength_>Sg)throw new Error(e.errorPrefix_+"has a key path longer than "+Sg+" bytes ("+e.byteLength_+").");if(e.parts_.length>wg)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+wg+") or object contains a cycle "+ir(e))}function ir(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh extends S1{static getInstance(){return new rh}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return b(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=1e3,zb=60*5*1e3,Cg=30*1e3,Wb=1.3,Hb=3e4,Gb="server_kill",Eg=3;class Xt extends w1{constructor(t,n,r,i,s,o,a,l){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Xt.nextPersistentConnectionId_++,this.log_=fo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Wi,this.maxReconnectDelay_=zb,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");rh.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Ja.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,s={r:i,a:t,b:n};this.log_(xe(s)),b(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new lo,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,r,i){this.initConnection_();const s=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),b(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),b(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;Xt.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(u,l))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&Vt(t,"w")){const r=vi(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();$e(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||D2(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Cg)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=A2(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),b(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const s={p:t},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+xe(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):md("Unrecognized action received from server: "+xe(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){b(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Wi,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Wi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Hb&&(this.reconnectDelay_=Wi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Wb)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Xt.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(d){b(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?be("getToken() completed but was canceled"):(be("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new jb(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,h=>{$e(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(Gb)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&$e(d),l())}}}interrupt(t){be("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){be("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Jm(this.interruptReasons_)&&(this.reconnectDelay_=Wi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(s=>Xf(s)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new K(t).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){be("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Eg&&(this.reconnectDelay_=Cg,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){be("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Eg&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+e1.replace(/\./g,"-")]=1,H_()?t["framework.cordova"]=1:T2()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Ja.getInstance().currentlyOnline();return Jm(this.interruptReasons_)&&t}}Xt.nextPersistentConnectionId_=0;Xt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new $(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new $(_i,t),i=new $(_i,n);return this.compare(r,i)!==0}minPost(){return $.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wo;class T1 extends Vl{static get __EMPTY_NODE(){return Wo}static set __EMPTY_NODE(t){Wo=t}compare(t,n){return kr(t.name,n.name)}isDefinedOn(t){throw ki("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return $.MIN}maxPost(){return new $(vr,Wo)}makePost(t,n){return b(typeof t=="string","KeyIndex indexValue must always be a string."),new $(t,Wo)}toString(){return".key"}}const li=new T1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(t,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Te{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Te.RED,this.left=i??Ke.EMPTY_NODE,this.right=s??Ke.EMPTY_NODE}copy(t,n,r,i,s){return new Te(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ke.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Ke.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Te.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Te.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Te.RED=!0;Te.BLACK=!1;class Kb{copy(t,n,r,i,s){return this}insert(t,n,r){return new Te(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ke{constructor(t,n=Ke.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Ke(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Te.BLACK,null,null))}remove(t){return new Ke(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Te.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Ho(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Ho(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Ho(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Ho(this.root_,null,this.comparator_,!0,t)}}Ke.EMPTY_NODE=new Kb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(e,t){return kr(e.name,t.name)}function ih(e,t){return kr(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yd;function Qb(e){yd=e}const P1=function(e){return typeof e=="number"?"number:"+i1(e):"string:"+e},k1=function(e){if(e.isLeafNode()){const t=e.val();b(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Vt(t,".sv"),"Priority must be a string or number.")}else b(e===yd||e.isEmpty(),"priority of unexpected type.");b(e===yd||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tg;class Ce{static set __childrenNodeConstructor(t){Tg=t}static get __childrenNodeConstructor(){return Tg}constructor(t,n=Ce.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,b(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),k1(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Ce(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Ce.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return U(t)?this:B(t)===".priority"?this.priorityNode_:Ce.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:Ce.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=B(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(b(r!==".priority"||Bn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ce.__childrenNodeConstructor.EMPTY_NODE.updateChild(q(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+P1(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=i1(this.value_):t+=this.value_,this.lazyHash_=n1(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Ce.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Ce.__childrenNodeConstructor?-1:(b(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=Ce.VALUE_TYPE_ORDER.indexOf(n),s=Ce.VALUE_TYPE_ORDER.indexOf(r);return b(i>=0,"Unknown leaf type: "+n),b(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ce.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N1,b1;function qb(e){N1=e}function Xb(e){b1=e}class Zb extends Vl{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?kr(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return $.MIN}maxPost(){return new $(vr,new Ce("[PRIORITY-POST]",b1))}makePost(t,n){const r=N1(t);return new $(n,new Ce("[PRIORITY-POST]",r))}toString(){return".priority"}}const ce=new Zb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=Math.log(2);class eI{constructor(t){const n=s=>parseInt(Math.log(s)/Jb,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const el=function(e,t,n,r){e.sort(t);const i=function(l,u){const c=u-l;let d,f;if(c===0)return null;if(c===1)return d=e[l],f=n?n(d):d,new Te(f,d.node,Te.BLACK,null,null);{const h=parseInt(c/2,10)+l,y=i(l,h),x=i(h+1,u);return d=e[h],f=n?n(d):d,new Te(f,d.node,Te.BLACK,y,x)}},s=function(l){let u=null,c=null,d=e.length;const f=function(y,x){const w=d-y,_=d;d-=y;const p=i(w+1,_),m=e[w],S=n?n(m):m;h(new Te(S,m.node,x,null,p))},h=function(y){u?(u.left=y,u=y):(c=y,u=y)};for(let y=0;y<l.count;++y){const x=l.nextBitIsOne(),w=Math.pow(2,l.count-(y+1));x?f(w,Te.BLACK):(f(w,Te.BLACK),f(w,Te.RED))}return c},o=new eI(e.length),a=s(o);return new Ke(r||t,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu;const Ar={};class Kt{static get Default(){return b(Ar&&ce,"ChildrenNode.ts has not been loaded"),Wu=Wu||new Kt({".priority":Ar},{".priority":ce}),Wu}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){const n=vi(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Ke?n:null}hasIndex(t){return Vt(this.indexSet_,t.toString())}addIndex(t,n){b(t!==li,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator($.Wrap);let o=s.getNext();for(;o;)i=i||t.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=el(r,t.getCompare()):a=Ar;const l=t.toString(),u=Object.assign({},this.indexSet_);u[l]=t;const c=Object.assign({},this.indexes_);return c[l]=a,new Kt(c,u)}addToIndexes(t,n){const r=Qa(this.indexes_,(i,s)=>{const o=vi(this.indexSet_,s);if(b(o,"Missing index implementation for "+s),i===Ar)if(o.isDefinedOn(t.node)){const a=[],l=n.getIterator($.Wrap);let u=l.getNext();for(;u;)u.name!==t.name&&a.push(u),u=l.getNext();return a.push(t),el(a,o.getCompare())}else return Ar;else{const a=n.get(t.name);let l=i;return a&&(l=l.remove(new $(t.name,a))),l.insert(t,t.node)}});return new Kt(r,this.indexSet_)}removeFromIndexes(t,n){const r=Qa(this.indexes_,i=>{if(i===Ar)return i;{const s=n.get(t.name);return s?i.remove(new $(t.name,s)):i}});return new Kt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hi;class L{static get EMPTY_NODE(){return Hi||(Hi=new L(new Ke(ih),null,Kt.Default))}constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&k1(this.priorityNode_),this.children_.isEmpty()&&b(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Hi}updatePriority(t){return this.children_.isEmpty()?this:new L(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?Hi:n}}getChild(t){const n=B(t);return n===null?this:this.getImmediateChild(n).getChild(q(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(b(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new $(t,n);let i,s;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Hi:this.priorityNode_;return new L(i,o,s)}}updateChild(t,n){const r=B(t);if(r===null)return n;{b(B(t)!==".priority"||Bn(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(q(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(ce,(o,a)=>{n[o]=a.val(t),r++,s&&L.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!t&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+P1(this.getPriority().val())+":"),this.forEachChild(ce,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":n1(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new $(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new $(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new $(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,$.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,$.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ho?-1:0}withIndex(t){if(t===li||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new L(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===li||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ce),i=n.getIterator(ce);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===li?null:this.indexMap_.get(t.toString())}}L.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class tI extends L{constructor(){super(new Ke(ih),L.EMPTY_NODE,Kt.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return L.EMPTY_NODE}isEmpty(){return!1}}const ho=new tI;Object.defineProperties($,{MIN:{value:new $(_i,L.EMPTY_NODE)},MAX:{value:new $(vr,ho)}});T1.__EMPTY_NODE=L.EMPTY_NODE;Ce.__childrenNodeConstructor=L;Qb(ho);Xb(ho);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=!0;function _e(e,t=null){if(e===null)return L.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),b(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new Ce(n,_e(t))}if(!(e instanceof Array)&&nI){const n=[];let r=!1;if(Ae(e,(o,a)=>{if(o.substring(0,1)!=="."){const l=_e(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new $(o,l)))}}),n.length===0)return L.EMPTY_NODE;const s=el(n,Yb,o=>o.name,ih);if(r){const o=el(n,ce.getCompare());return new L(s,_e(t),new Kt({".priority":o},{".priority":ce}))}else return new L(s,_e(t),Kt.Default)}else{let n=L.EMPTY_NODE;return Ae(e,(r,i)=>{if(Vt(e,r)&&r.substring(0,1)!=="."){const s=_e(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(_e(t))}}qb(_e);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI extends Vl{constructor(t){super(),this.indexPath_=t,b(!U(t)&&B(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?kr(t.name,n.name):s}makePost(t,n){const r=_e(t),i=L.EMPTY_NODE.updateChild(this.indexPath_,r);return new $(n,i)}maxPost(){const t=L.EMPTY_NODE.updateChild(this.indexPath_,ho);return new $(vr,t)}toString(){return Us(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI extends Vl{compare(t,n){const r=t.node.compareTo(n.node);return r===0?kr(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return $.MIN}maxPost(){return $.MAX}makePost(t,n){const r=_e(t);return new $(n,r)}toString(){return".value"}}const sI=new iI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(e){return{type:"value",snapshotNode:e}}function xi(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function zs(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Ws(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function oI(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(t){this.index_=t}updateChild(t,n,r,i,s,o){b(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?t.hasChild(n)?o.trackChildChange(zs(n,a)):b(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(xi(n,r)):o.trackChildChange(Ws(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(ce,(i,s)=>{n.hasChild(i)||r.trackChildChange(zs(i,s))}),n.isLeafNode()||n.forEachChild(ce,(i,s)=>{if(t.hasChild(i)){const o=t.getImmediateChild(i);o.equals(s)||r.trackChildChange(Ws(i,s,o))}else r.trackChildChange(xi(i,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?L.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(t){this.indexedFilter_=new sh(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Hs.getStartPost_(t),this.endPost_=Hs.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,s,o){return this.matches(new $(n,r))||(r=L.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,o)}updateFullNode(t,n,r){n.isLeafNode()&&(n=L.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(L.EMPTY_NODE);const s=this;return n.forEachChild(ce,(o,a)=>{s.matches(new $(o,a))||(i=i.updateImmediateChild(o,L.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Hs(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,s,o){return this.rangedFilter_.matches(new $(n,r))||(r=L.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,o):this.fullLimitUpdateChild_(t,n,r,s,o)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=L.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=L.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(L.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,L.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,h)=>d(h,f)}else o=this.index_.getCompare();const a=t;b(a.numChildren()===this.limit_,"");const l=new $(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const h=f==null?1:o(f,l);if(c&&!r.isEmpty()&&h>=0)return s!=null&&s.trackChildChange(Ws(n,r,d)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(zs(n,d));const x=a.updateImmediateChild(n,L.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(xi(f.name,f.node)),x.updateImmediateChild(f.name,f.node)):x}}else return r.isEmpty()?t:c&&o(u,l)>=0?(s!=null&&(s.trackChildChange(zs(u.name,u.node)),s.trackChildChange(xi(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,L.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ce}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return b(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return b(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:_i}hasEnd(){return this.endSet_}getIndexEndValue(){return b(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return b(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:vr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return b(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ce}copy(){const t=new oh;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function lI(e){return e.loadsAllData()?new sh(e.getIndex()):e.hasLimit()?new aI(e):new Hs(e)}function Pg(e){const t={};if(e.isDefault())return t;let n;if(e.index_===ce?n="$priority":e.index_===sI?n="$value":e.index_===li?n="$key":(b(e.index_ instanceof rI,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=xe(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=xe(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+xe(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=xe(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+xe(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function kg(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==ce&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl extends w1{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(b(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=fo("p:rest:"),this.listens_={}}listen(t,n,r,i){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=tl.getListenId_(t,r),a={};this.listens_[o]=a;const l=Pg(t._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),vi(this.listens_,o)===a){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(t,n){const r=tl.getListenId_(t,n);delete this.listens_[r]}get(t){const n=Pg(t._queryParams),r=t._path.toString(),i=new lo;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+M2(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Fs(a.responseText)}catch{$e("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&$e("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(){this.rootNode_=L.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(){return{value:null,children:new Map}}function R1(e,t,n){if(U(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=B(t);e.children.has(r)||e.children.set(r,nl());const i=e.children.get(r);t=q(t),R1(i,t,n)}}function vd(e,t,n){e.value!==null?n(t,e.value):cI(e,(r,i)=>{const s=new K(t.toString()+"/"+r);vd(i,s,n)})}function cI(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Ae(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng=10*1e3,fI=30*1e3,hI=5*60*1e3;class pI{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new dI(t);const r=Ng+(fI-Ng)*Math.random();ps(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;Ae(t,(i,s)=>{s>0&&Vt(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),ps(this.reportStats_.bind(this),Math.floor(Math.random()*2*hI))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(wt||(wt={}));function ah(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function lh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function uh(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=wt.ACK_USER_WRITE,this.source=ah()}operationForChild(t){if(U(this.path)){if(this.affectedTree.value!=null)return b(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new K(t));return new rl(H(),n,this.revert)}}else return b(B(this.path)===t,"operationForChild called for unrelated child."),new rl(q(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(t,n){this.source=t,this.path=n,this.type=wt.LISTEN_COMPLETE}operationForChild(t){return U(this.path)?new Gs(this.source,H()):new Gs(this.source,q(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=wt.OVERWRITE}operationForChild(t){return U(this.path)?new _r(this.source,H(),this.snap.getImmediateChild(t)):new _r(this.source,q(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=wt.MERGE}operationForChild(t){if(U(this.path)){const n=this.children.subtree(new K(t));return n.isEmpty()?null:n.value?new _r(this.source,H(),n.value):new wi(this.source,H(),n)}else return b(B(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new wi(this.source,q(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(U(t))return this.isFullyInitialized()&&!this.filtered_;const n=B(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function gI(e,t,n,r){const i=[],s=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(oI(o.childName,o.snapshotNode))}),Gi(e,i,"child_removed",t,r,n),Gi(e,i,"child_added",t,r,n),Gi(e,i,"child_moved",s,r,n),Gi(e,i,"child_changed",t,r,n),Gi(e,i,"value",t,r,n),i}function Gi(e,t,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>vI(e,a,l)),o.forEach(a=>{const l=yI(e,a,s);i.forEach(u=>{u.respondsTo(a.type)&&t.push(u.createEvent(l,e.query_))})})}function yI(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function vI(e,t,n){if(t.childName==null||n.childName==null)throw ki("Should only compare child_ events.");const r=new $(t.childName,t.snapshotNode),i=new $(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(e,t){return{eventCache:e,serverCache:t}}function ms(e,t,n,r){return Bl(new $n(t,n,r),e.serverCache)}function A1(e,t,n,r){return Bl(e.eventCache,new $n(t,n,r))}function il(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function xr(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu;const _I=()=>(Hu||(Hu=new Ke(rb)),Hu);class Y{static fromObject(t){let n=new Y(null);return Ae(t,(r,i)=>{n=n.set(new K(r),i)}),n}constructor(t,n=_I()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:H(),value:this.value};if(U(t))return null;{const r=B(t),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(q(t),n);return s!=null?{path:ue(new K(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(U(t))return this;{const n=B(t),r=this.children.get(n);return r!==null?r.subtree(q(t)):new Y(null)}}set(t,n){if(U(t))return new Y(n,this.children);{const r=B(t),s=(this.children.get(r)||new Y(null)).set(q(t),n),o=this.children.insert(r,s);return new Y(this.value,o)}}remove(t){if(U(t))return this.children.isEmpty()?new Y(null):new Y(null,this.children);{const n=B(t),r=this.children.get(n);if(r){const i=r.remove(q(t));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Y(null):new Y(this.value,s)}else return this}}get(t){if(U(t))return this.value;{const n=B(t),r=this.children.get(n);return r?r.get(q(t)):null}}setTree(t,n){if(U(t))return n;{const r=B(t),s=(this.children.get(r)||new Y(null)).setTree(q(t),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Y(this.value,o)}}fold(t){return this.fold_(H(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(ue(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,H(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(U(t))return null;{const s=B(t),o=this.children.get(s);return o?o.findOnPath_(q(t),ue(n,s),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,H(),n)}foreachOnPath_(t,n,r){if(U(t))return this;{this.value&&r(n,this.value);const i=B(t),s=this.children.get(i);return s?s.foreachOnPath_(q(t),ue(n,i),r):new Y(null)}}foreach(t){this.foreach_(H(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ue(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(t){this.writeTree_=t}static empty(){return new Et(new Y(null))}}function gs(e,t,n){if(U(t))return new Et(new Y(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let s=r.value;const o=Ve(i,t);return s=s.updateChild(o,n),new Et(e.writeTree_.set(i,s))}else{const i=new Y(n),s=e.writeTree_.setTree(t,i);return new Et(s)}}}function _d(e,t,n){let r=e;return Ae(n,(i,s)=>{r=gs(r,ue(t,i),s)}),r}function bg(e,t){if(U(t))return Et.empty();{const n=e.writeTree_.setTree(t,new Y(null));return new Et(n)}}function xd(e,t){return Nr(e,t)!=null}function Nr(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Ve(n.path,t)):null}function Ig(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ce,(r,i)=>{t.push(new $(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new $(r,i.value))}),t}function Mn(e,t){if(U(t))return e;{const n=Nr(e,t);return n!=null?new Et(new Y(n)):new Et(e.writeTree_.subtree(t))}}function wd(e){return e.writeTree_.isEmpty()}function Si(e,t){return D1(H(),e.writeTree_,t)}function D1(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,s)=>{i===".priority"?(b(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=D1(ue(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(ue(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(e,t){return j1(t,e)}function xI(e,t,n,r,i){b(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=gs(e.visibleWrites,t,n)),e.lastWriteId=r}function wI(e,t,n,r){b(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=_d(e.visibleWrites,t,n),e.lastWriteId=r}function SI(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function CI(e,t){const n=e.allWrites.findIndex(a=>a.writeId===t);b(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const a=e.allWrites[o];a.visible&&(o>=n&&EI(a,r.path)?i=!1:dt(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return TI(e),!0;if(r.snap)e.visibleWrites=bg(e.visibleWrites,r.path);else{const a=r.children;Ae(a,l=>{e.visibleWrites=bg(e.visibleWrites,ue(r.path,l))})}return!0}else return!1}function EI(e,t){if(e.snap)return dt(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&dt(ue(e.path,n),t))return!0;return!1}function TI(e){e.visibleWrites=M1(e.allWrites,PI,H()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function PI(e){return e.visible}function M1(e,t,n){let r=Et.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const o=s.path;let a;if(s.snap)dt(n,o)?(a=Ve(n,o),r=gs(r,a,s.snap)):dt(o,n)&&(a=Ve(o,n),r=gs(r,H(),s.snap.getChild(a)));else if(s.children){if(dt(n,o))a=Ve(n,o),r=_d(r,a,s.children);else if(dt(o,n))if(a=Ve(o,n),U(a))r=_d(r,H(),s.children);else{const l=vi(s.children,B(a));if(l){const u=l.getChild(q(a));r=gs(r,H(),u)}}}else throw ki("WriteRecord should have .snap or .children")}}return r}function L1(e,t,n,r,i){if(!r&&!i){const s=Nr(e.visibleWrites,t);if(s!=null)return s;{const o=Mn(e.visibleWrites,t);if(wd(o))return n;if(n==null&&!xd(o,H()))return null;{const a=n||L.EMPTY_NODE;return Si(o,a)}}}else{const s=Mn(e.visibleWrites,t);if(!i&&wd(s))return n;if(!i&&n==null&&!xd(s,H()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(dt(u.path,t)||dt(t,u.path))},a=M1(e.allWrites,o,t),l=n||L.EMPTY_NODE;return Si(a,l)}}}function kI(e,t,n){let r=L.EMPTY_NODE;const i=Nr(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ce,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Mn(e.visibleWrites,t);return n.forEachChild(ce,(o,a)=>{const l=Si(Mn(s,new K(o)),a);r=r.updateImmediateChild(o,l)}),Ig(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Mn(e.visibleWrites,t);return Ig(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function NI(e,t,n,r,i){b(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=ue(t,n);if(xd(e.visibleWrites,s))return null;{const o=Mn(e.visibleWrites,s);return wd(o)?i.getChild(n):Si(o,i.getChild(n))}}function bI(e,t,n,r){const i=ue(t,n),s=Nr(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Mn(e.visibleWrites,i);return Si(o,r.getNode().getImmediateChild(n))}else return null}function II(e,t){return Nr(e.visibleWrites,t)}function RI(e,t,n,r,i,s,o){let a;const l=Mn(e.visibleWrites,t),u=Nr(l,H());if(u!=null)a=u;else if(n!=null)a=Si(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let h=f.getNext();for(;h&&c.length<i;)d(h,r)!==0&&c.push(h),h=f.getNext();return c}else return[]}function AI(){return{visibleWrites:Et.empty(),allWrites:[],lastWriteId:-1}}function sl(e,t,n,r){return L1(e.writeTree,e.treePath,t,n,r)}function ch(e,t){return kI(e.writeTree,e.treePath,t)}function Rg(e,t,n,r){return NI(e.writeTree,e.treePath,t,n,r)}function ol(e,t){return II(e.writeTree,ue(e.treePath,t))}function DI(e,t,n,r,i,s){return RI(e.writeTree,e.treePath,t,n,r,i,s)}function dh(e,t,n){return bI(e.writeTree,e.treePath,t,n)}function O1(e,t){return j1(ue(e.treePath,t),e.writeTree)}function j1(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;b(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),b(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Ws(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,zs(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,xi(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Ws(r,t.snapshotNode,i.oldSnap));else throw ki("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const F1=new LI;class fh{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new $n(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return dh(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:xr(this.viewCache_),s=DI(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(e){return{filter:e}}function jI(e,t){b(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),b(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function FI(e,t,n,r,i){const s=new MI;let o,a;if(n.type===wt.OVERWRITE){const u=n;u.source.fromUser?o=Sd(e,t,u.path,u.snap,r,i,s):(b(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered()&&!U(u.path),o=al(e,t,u.path,u.snap,r,i,a,s))}else if(n.type===wt.MERGE){const u=n;u.source.fromUser?o=BI(e,t,u.path,u.children,r,i,s):(b(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered(),o=Cd(e,t,u.path,u.children,r,i,a,s))}else if(n.type===wt.ACK_USER_WRITE){const u=n;u.revert?o=zI(e,t,u.path,r,i,s):o=$I(e,t,u.path,u.affectedTree,r,i,s)}else if(n.type===wt.LISTEN_COMPLETE)o=UI(e,t,n.path,r,s);else throw ki("Unknown operation type: "+n.type);const l=s.getChanges();return VI(t,o,l),{viewCache:o,changes:l}}function VI(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=il(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(I1(il(t)))}}function V1(e,t,n,r,i,s){const o=t.eventCache;if(ol(r,n)!=null)return t;{let a,l;if(U(n))if(b(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=xr(t),c=u instanceof L?u:L.EMPTY_NODE,d=ch(r,c);a=e.filter.updateFullNode(t.eventCache.getNode(),d,s)}else{const u=sl(r,xr(t));a=e.filter.updateFullNode(t.eventCache.getNode(),u,s)}else{const u=B(n);if(u===".priority"){b(Bn(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=t.serverCache.getNode();const d=Rg(r,n,c,l);d!=null?a=e.filter.updatePriority(c,d):a=o.getNode()}else{const c=q(n);let d;if(o.isCompleteForChild(u)){l=t.serverCache.getNode();const f=Rg(r,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(u).updateChild(c,f):d=o.getNode().getImmediateChild(u)}else d=dh(r,u,t.serverCache);d!=null?a=e.filter.updateChild(o.getNode(),u,d,c,i,s):a=o.getNode()}}return ms(t,a,o.isFullyInitialized()||U(n),e.filter.filtersNodes())}}function al(e,t,n,r,i,s,o,a){const l=t.serverCache;let u;const c=o?e.filter:e.filter.getIndexedFilter();if(U(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),h,null)}else{const h=B(n);if(!l.isCompleteForPath(n)&&Bn(n)>1)return t;const y=q(n),w=l.getNode().getImmediateChild(h).updateChild(y,r);h===".priority"?u=c.updatePriority(l.getNode(),w):u=c.updateChild(l.getNode(),h,w,y,F1,null)}const d=A1(t,u,l.isFullyInitialized()||U(n),c.filtersNodes()),f=new fh(i,d,s);return V1(e,d,n,i,f,a)}function Sd(e,t,n,r,i,s,o){const a=t.eventCache;let l,u;const c=new fh(i,t,s);if(U(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),l=ms(t,u,!0,e.filter.filtersNodes());else{const d=B(n);if(d===".priority")u=e.filter.updatePriority(t.eventCache.getNode(),r),l=ms(t,u,a.isFullyInitialized(),a.isFiltered());else{const f=q(n),h=a.getNode().getImmediateChild(d);let y;if(U(f))y=r;else{const x=c.getCompleteChild(d);x!=null?th(f)===".priority"&&x.getChild(C1(f)).isEmpty()?y=x:y=x.updateChild(f,r):y=L.EMPTY_NODE}if(h.equals(y))l=t;else{const x=e.filter.updateChild(a.getNode(),d,y,f,c,o);l=ms(t,x,a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function Ag(e,t){return e.eventCache.isCompleteForChild(t)}function BI(e,t,n,r,i,s,o){let a=t;return r.foreach((l,u)=>{const c=ue(n,l);Ag(t,B(c))&&(a=Sd(e,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=ue(n,l);Ag(t,B(c))||(a=Sd(e,a,c,u,i,s,o))}),a}function Dg(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function Cd(e,t,n,r,i,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,u;U(n)?u=r:u=new Y(null).setTree(n,r);const c=t.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(c.hasChild(d)){const h=t.serverCache.getNode().getImmediateChild(d),y=Dg(e,h,f);l=al(e,l,new K(d),y,i,s,o,a)}}),u.children.inorderTraversal((d,f)=>{const h=!t.serverCache.isCompleteForChild(d)&&f.value===null;if(!c.hasChild(d)&&!h){const y=t.serverCache.getNode().getImmediateChild(d),x=Dg(e,y,f);l=al(e,l,new K(d),x,i,s,o,a)}}),l}function $I(e,t,n,r,i,s,o){if(ol(i,n)!=null)return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(r.value!=null){if(U(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return al(e,t,n,l.getNode().getChild(n),i,s,a,o);if(U(n)){let u=new Y(null);return l.getNode().forEachChild(li,(c,d)=>{u=u.set(new K(c),d)}),Cd(e,t,n,u,i,s,a,o)}else return t}else{let u=new Y(null);return r.foreach((c,d)=>{const f=ue(n,c);l.isCompleteForPath(f)&&(u=u.set(c,l.getNode().getChild(f)))}),Cd(e,t,n,u,i,s,a,o)}}function UI(e,t,n,r,i){const s=t.serverCache,o=A1(t,s.getNode(),s.isFullyInitialized()||U(n),s.isFiltered());return V1(e,o,n,r,F1,i)}function zI(e,t,n,r,i,s){let o;if(ol(r,n)!=null)return t;{const a=new fh(r,t,i),l=t.eventCache.getNode();let u;if(U(n)||B(n)===".priority"){let c;if(t.serverCache.isFullyInitialized())c=sl(r,xr(t));else{const d=t.serverCache.getNode();b(d instanceof L,"serverChildren would be complete if leaf node"),c=ch(r,d)}c=c,u=e.filter.updateFullNode(l,c,s)}else{const c=B(n);let d=dh(r,c,t.serverCache);d==null&&t.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=e.filter.updateChild(l,c,d,q(n),a,s):t.eventCache.getNode().hasChild(c)?u=e.filter.updateChild(l,c,L.EMPTY_NODE,q(n),a,s):u=l,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=sl(r,xr(t)),o.isLeafNode()&&(u=e.filter.updateFullNode(u,o,s)))}return o=t.serverCache.isFullyInitialized()||ol(r,H())!=null,ms(t,u,o,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new sh(r.getIndex()),s=lI(r);this.processor_=OI(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(L.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(L.EMPTY_NODE,a.getNode(),null),c=new $n(l,o.isFullyInitialized(),i.filtersNodes()),d=new $n(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Bl(d,c),this.eventGenerator_=new mI(this.query_)}get query(){return this.query_}}function HI(e){return e.viewCache_.serverCache.getNode()}function GI(e){return il(e.viewCache_)}function KI(e,t){const n=xr(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!U(t)&&!n.getImmediateChild(B(t)).isEmpty())?n.getChild(t):null}function Mg(e){return e.eventRegistrations_.length===0}function YI(e,t){e.eventRegistrations_.push(t)}function Lg(e,t,n){const r=[];if(n){b(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(t){let i=[];for(let s=0;s<e.eventRegistrations_.length;++s){const o=e.eventRegistrations_[s];if(!o.matches(t))i.push(o);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function Og(e,t,n,r){t.type===wt.MERGE&&t.source.queryId!==null&&(b(xr(e.viewCache_),"We should always have a full cache before handling merges"),b(il(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=FI(e.processor_,i,t,n,r);return jI(e.processor_,s.viewCache),b(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,B1(e,s.changes,s.viewCache.eventCache.getNode(),null)}function QI(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ce,(s,o)=>{r.push(xi(s,o))}),n.isFullyInitialized()&&r.push(I1(n.getNode())),B1(e,r,n.getNode(),t)}function B1(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return gI(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ll;class $1{constructor(){this.views=new Map}}function qI(e){b(!ll,"__referenceConstructor has already been defined"),ll=e}function XI(){return b(ll,"Reference.ts has not been loaded"),ll}function ZI(e){return e.views.size===0}function hh(e,t,n,r){const i=t.source.queryId;if(i!==null){const s=e.views.get(i);return b(s!=null,"SyncTree gave us an op for an invalid query."),Og(s,t,n,r)}else{let s=[];for(const o of e.views.values())s=s.concat(Og(o,t,n,r));return s}}function U1(e,t,n,r,i){const s=t._queryIdentifier,o=e.views.get(s);if(!o){let a=sl(n,i?r:null),l=!1;a?l=!0:r instanceof L?(a=ch(n,r),l=!1):(a=L.EMPTY_NODE,l=!1);const u=Bl(new $n(a,l,!1),new $n(r,i,!1));return new WI(t,u)}return o}function JI(e,t,n,r,i,s){const o=U1(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),YI(o,n),QI(o,n)}function eR(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const a=Un(e);if(i==="default")for(const[l,u]of e.views.entries())o=o.concat(Lg(u,n,r)),Mg(u)&&(e.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const l=e.views.get(i);l&&(o=o.concat(Lg(l,n,r)),Mg(l)&&(e.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Un(e)&&s.push(new(XI())(t._repo,t._path)),{removed:s,events:o}}function z1(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Ln(e,t){let n=null;for(const r of e.views.values())n=n||KI(r,t);return n}function W1(e,t){if(t._queryParams.loadsAllData())return Ul(e);{const r=t._queryIdentifier;return e.views.get(r)}}function H1(e,t){return W1(e,t)!=null}function Un(e){return Ul(e)!=null}function Ul(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ul;function tR(e){b(!ul,"__referenceConstructor has already been defined"),ul=e}function nR(){return b(ul,"Reference.ts has not been loaded"),ul}let rR=1;class jg{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Y(null),this.pendingWriteTree_=AI(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function G1(e,t,n,r,i){return xI(e.pendingWriteTree_,t,n,r,i),i?bi(e,new _r(ah(),t,n)):[]}function iR(e,t,n,r){wI(e.pendingWriteTree_,t,n,r);const i=Y.fromObject(n);return bi(e,new wi(ah(),t,i))}function wn(e,t,n=!1){const r=SI(e.pendingWriteTree_,t);if(CI(e.pendingWriteTree_,t)){let s=new Y(null);return r.snap!=null?s=s.set(H(),!0):Ae(r.children,o=>{s=s.set(new K(o),!0)}),bi(e,new rl(r.path,s,n))}else return[]}function po(e,t,n){return bi(e,new _r(lh(),t,n))}function sR(e,t,n){const r=Y.fromObject(n);return bi(e,new wi(lh(),t,r))}function oR(e,t){return bi(e,new Gs(lh(),t))}function aR(e,t,n){const r=mh(e,n);if(r){const i=gh(r),s=i.path,o=i.queryId,a=Ve(s,t),l=new Gs(uh(o),a);return yh(e,s,l)}else return[]}function cl(e,t,n,r,i=!1){const s=t._path,o=e.syncPointTree_.get(s);let a=[];if(o&&(t._queryIdentifier==="default"||H1(o,t))){const l=eR(o,t,n,r);ZI(o)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const u=l.removed;if(a=l.events,!i){const c=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(s,(f,h)=>Un(h));if(c&&!d){const f=e.syncPointTree_.subtree(s);if(!f.isEmpty()){const h=cR(f);for(let y=0;y<h.length;++y){const x=h[y],w=x.query,_=q1(e,x);e.listenProvider_.startListening(ys(w),Ks(e,w),_.hashFn,_.onComplete)}}}!d&&u.length>0&&!r&&(c?e.listenProvider_.stopListening(ys(t),null):u.forEach(f=>{const h=e.queryToTagMap.get(zl(f));e.listenProvider_.stopListening(ys(f),h)}))}dR(e,u)}return a}function K1(e,t,n,r){const i=mh(e,r);if(i!=null){const s=gh(i),o=s.path,a=s.queryId,l=Ve(o,t),u=new _r(uh(a),l,n);return yh(e,o,u)}else return[]}function lR(e,t,n,r){const i=mh(e,r);if(i){const s=gh(i),o=s.path,a=s.queryId,l=Ve(o,t),u=Y.fromObject(n),c=new wi(uh(a),l,u);return yh(e,o,c)}else return[]}function Ed(e,t,n,r=!1){const i=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(i,(f,h)=>{const y=Ve(f,i);s=s||Ln(h,y),o=o||Un(h)});let a=e.syncPointTree_.get(i);a?(o=o||Un(a),s=s||Ln(a,H())):(a=new $1,e.syncPointTree_=e.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=L.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((h,y)=>{const x=Ln(y,H());x&&(s=s.updateImmediateChild(h,x))}));const u=H1(a,t);if(!u&&!t._queryParams.loadsAllData()){const f=zl(t);b(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");const h=fR();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}const c=$l(e.pendingWriteTree_,i);let d=JI(a,t,n,c,s,l);if(!u&&!o&&!r){const f=W1(a,t);d=d.concat(hR(e,t,f))}return d}function ph(e,t,n){const i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,a)=>{const l=Ve(o,t),u=Ln(a,l);if(u)return u});return L1(i,t,s,n,!0)}function uR(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(u,c)=>{const d=Ve(u,n);r=r||Ln(c,d)});let i=e.syncPointTree_.get(n);i?r=r||Ln(i,H()):(i=new $1,e.syncPointTree_=e.syncPointTree_.set(n,i));const s=r!=null,o=s?new $n(r,!0,!1):null,a=$l(e.pendingWriteTree_,t._path),l=U1(i,t,a,s?o.getNode():L.EMPTY_NODE,s);return GI(l)}function bi(e,t){return Y1(t,e.syncPointTree_,null,$l(e.pendingWriteTree_,H()))}function Y1(e,t,n,r){if(U(e.path))return Q1(e,t,n,r);{const i=t.get(H());n==null&&i!=null&&(n=Ln(i,H()));let s=[];const o=B(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=O1(r,o);s=s.concat(Y1(a,l,u,c))}return i&&(s=s.concat(hh(i,e,r,n))),s}}function Q1(e,t,n,r){const i=t.get(H());n==null&&i!=null&&(n=Ln(i,H()));let s=[];return t.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=O1(r,o),c=e.operationForChild(o);c&&(s=s.concat(Q1(c,a,l,u)))}),i&&(s=s.concat(hh(i,e,r,n))),s}function q1(e,t){const n=t.query,r=Ks(e,n);return{hashFn:()=>(HI(t)||L.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?aR(e,n._path,r):oR(e,n._path);{const s=ob(i,n);return cl(e,n,null,s)}}}}function Ks(e,t){const n=zl(t);return e.queryToTagMap.get(n)}function zl(e){return e._path.toString()+"$"+e._queryIdentifier}function mh(e,t){return e.tagToQueryMap.get(t)}function gh(e){const t=e.indexOf("$");return b(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new K(e.substr(0,t))}}function yh(e,t,n){const r=e.syncPointTree_.get(t);b(r,"Missing sync point for query tag that we're tracking");const i=$l(e.pendingWriteTree_,t);return hh(r,n,i,null)}function cR(e){return e.fold((t,n,r)=>{if(n&&Un(n))return[Ul(n)];{let i=[];return n&&(i=z1(n)),Ae(r,(s,o)=>{i=i.concat(o)}),i}})}function ys(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(nR())(e._repo,e._path):e}function dR(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=zl(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function fR(){return rR++}function hR(e,t,n){const r=t._path,i=Ks(e,t),s=q1(e,n),o=e.listenProvider_.startListening(ys(t),i,s.hashFn,s.onComplete),a=e.syncPointTree_.subtree(r);if(i)b(!Un(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,d)=>{if(!U(u)&&c&&Un(c))return[Ul(c).query];{let f=[];return c&&(f=f.concat(z1(c).map(h=>h.query))),Ae(d,(h,y)=>{f=f.concat(y)}),f}});for(let u=0;u<l.length;++u){const c=l[u];e.listenProvider_.stopListening(ys(c),Ks(e,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new vh(n)}node(){return this.node_}}class _h{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=ue(this.path_,t);return new _h(this.syncTree_,n)}node(){return ph(this.syncTree_,this.path_)}}const pR=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},Fg=function(e,t,n){if(!e||typeof e!="object")return e;if(b(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return mR(e[".sv"],t,n);if(typeof e[".sv"]=="object")return gR(e[".sv"],t);b(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},mR=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:b(!1,"Unexpected server value: "+e)}},gR=function(e,t,n){e.hasOwnProperty("increment")||b(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&b(!1,"Unexpected increment value: "+r);const i=t.node();if(b(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},X1=function(e,t,n,r){return xh(t,new _h(n,e),r)},Z1=function(e,t,n){return xh(e,new vh(t),n)};function xh(e,t,n){const r=e.getPriority().val(),i=Fg(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const o=e,a=Fg(o.getValue(),t,n);return a!==o.getValue()||i!==o.getPriority().val()?new Ce(a,_e(i)):e}else{const o=e;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Ce(i))),o.forEachChild(ce,(a,l)=>{const u=xh(l,t.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function Sh(e,t){let n=t instanceof K?t:new K(t),r=e,i=B(n);for(;i!==null;){const s=vi(r.node.children,i)||{children:{},childCount:0};r=new wh(i,r,s),n=q(n),i=B(n)}return r}function Ii(e){return e.node.value}function J1(e,t){e.node.value=t,Td(e)}function ex(e){return e.node.childCount>0}function yR(e){return Ii(e)===void 0&&!ex(e)}function Wl(e,t){Ae(e.node.children,(n,r)=>{t(new wh(n,e,r))})}function tx(e,t,n,r){n&&t(e),Wl(e,i=>{tx(i,t,!0)})}function vR(e,t,n){let r=e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function mo(e){return new K(e.parent===null?e.name:mo(e.parent)+"/"+e.name)}function Td(e){e.parent!==null&&_R(e.parent,e.name,e)}function _R(e,t,n){const r=yR(n),i=Vt(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Td(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,Td(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=/[\[\].#$\/\u0000-\u001F\u007F]/,wR=/[\[\].#$\u0000-\u001F\u007F]/,Gu=10*1024*1024,Ch=function(e){return typeof e=="string"&&e.length!==0&&!xR.test(e)},nx=function(e){return typeof e=="string"&&e.length!==0&&!wR.test(e)},SR=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),nx(e)},CR=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!qf(e)||e&&typeof e=="object"&&Vt(e,".sv")},rx=function(e,t,n,r){r&&t===void 0||Hl(jl(e,"value"),t,n)},Hl=function(e,t,n){const r=n instanceof K?new Bb(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+ir(r));if(typeof t=="function")throw new Error(e+"contains a function "+ir(r)+" with contents = "+t.toString());if(qf(t))throw new Error(e+"contains "+t.toString()+" "+ir(r));if(typeof t=="string"&&t.length>Gu/3&&Fl(t)>Gu)throw new Error(e+"contains a string greater than "+Gu+" utf8 bytes "+ir(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,s=!1;if(Ae(t,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Ch(o)))throw new Error(e+" contains an invalid key ("+o+") "+ir(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);$b(r,o),Hl(e,a,r),Ub(r)}),i&&s)throw new Error(e+' contains ".value" child '+ir(r)+" in addition to actual children.")}},ER=function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const s=Us(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!Ch(s[o]))throw new Error(e+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(Vb);let i=null;for(n=0;n<t.length;n++){if(r=t[n],i!==null&&dt(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},TR=function(e,t,n,r){const i=jl(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const s=[];Ae(t,(o,a)=>{const l=new K(o);if(Hl(i,a,ue(n,l)),th(l)===".priority"&&!CR(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),ER(i,s)},ix=function(e,t,n,r){if(!nx(n))throw new Error(jl(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},PR=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ix(e,t,n)},sx=function(e,t){if(B(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},kR=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Ch(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!SR(n))throw new Error(jl(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Gl(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();n!==null&&!nh(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function ox(e,t,n){Gl(e,n),ax(e,r=>nh(r,t))}function mt(e,t,n){Gl(e,n),ax(e,r=>dt(r,t)||dt(t,r))}function ax(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const s=i.path;t(s)?(bR(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function bR(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();hs&&be("event: "+n.toString()),Ni(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR="repo_interrupt",RR=25;class AR{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new NR,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=nl(),this.transactionQueueTree_=new wh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function DR(e,t,n){if(e.stats_=Jf(e.repoInfo_),e.forceRestClient_||cb())e.server_=new tl(e.repoInfo_,(r,i,s,o)=>{Vg(e,r,i,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Bg(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{xe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Xt(e.repoInfo_,t,(r,i,s,o)=>{Vg(e,r,i,s,o)},r=>{Bg(e,r)},r=>{MR(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=mb(e.repoInfo_,()=>new pI(e.stats_,e.server_)),e.infoData_=new uI,e.infoSyncTree_=new jg({startListening:(r,i,s,o)=>{let a=[];const l=e.infoData_.getNode(r._path);return l.isEmpty()||(a=po(e.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Eh(e,"connected",!1),e.serverSyncTree_=new jg({startListening:(r,i,s,o)=>(e.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);mt(e.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function lx(e){const n=e.infoData_.getNode(new K(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Kl(e){return pR({timestamp:lx(e)})}function Vg(e,t,n,r,i){e.dataUpdateCount++;const s=new K(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const l=Qa(n,u=>_e(u));o=lR(e.serverSyncTree_,s,l,i)}else{const l=_e(n);o=K1(e.serverSyncTree_,s,l,i)}else if(r){const l=Qa(n,u=>_e(u));o=sR(e.serverSyncTree_,s,l)}else{const l=_e(n);o=po(e.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Ci(e,s)),mt(e.eventQueue_,a,o)}function Bg(e,t){Eh(e,"connected",t),t===!1&&FR(e)}function MR(e,t){Ae(t,(n,r)=>{Eh(e,n,r)})}function Eh(e,t,n){const r=new K("/.info/"+t),i=_e(n);e.infoData_.updateSnapshot(r,i);const s=po(e.infoSyncTree_,r,i);mt(e.eventQueue_,r,s)}function Th(e){return e.nextWriteId_++}function LR(e,t,n){const r=uR(e.serverSyncTree_,t);return r!=null?Promise.resolve(r):e.server_.get(t).then(i=>{const s=_e(i).withIndex(t._queryParams.getIndex());Ed(e.serverSyncTree_,t,n,!0);let o;if(t._queryParams.loadsAllData())o=po(e.serverSyncTree_,t._path,s);else{const a=Ks(e.serverSyncTree_,t);o=K1(e.serverSyncTree_,t._path,s,a)}return mt(e.eventQueue_,t._path,o),cl(e.serverSyncTree_,t,n,null,!0),s},i=>(go(e,"get for query "+xe(t)+" failed: "+i),Promise.reject(new Error(i))))}function OR(e,t,n,r,i){go(e,"set",{path:t.toString(),value:n,priority:r});const s=Kl(e),o=_e(n,r),a=ph(e.serverSyncTree_,t),l=Z1(o,a,s),u=Th(e),c=G1(e.serverSyncTree_,t,l,u,!0);Gl(e.eventQueue_,c),e.server_.put(t.toString(),o.val(!0),(f,h)=>{const y=f==="ok";y||$e("set at "+t+" failed: "+f);const x=wn(e.serverSyncTree_,u,!y);mt(e.eventQueue_,t,x),Pd(e,i,f,h)});const d=kh(e,t);Ci(e,d),mt(e.eventQueue_,d,[])}function jR(e,t,n,r){go(e,"update",{path:t.toString(),value:n});let i=!0;const s=Kl(e),o={};if(Ae(n,(a,l)=>{i=!1,o[a]=X1(ue(t,a),_e(l),e.serverSyncTree_,s)}),i)be("update() called with empty data.  Don't do anything."),Pd(e,r,"ok",void 0);else{const a=Th(e),l=iR(e.serverSyncTree_,t,o,a);Gl(e.eventQueue_,l),e.server_.merge(t.toString(),n,(u,c)=>{const d=u==="ok";d||$e("update at "+t+" failed: "+u);const f=wn(e.serverSyncTree_,a,!d),h=f.length>0?Ci(e,t):t;mt(e.eventQueue_,h,f),Pd(e,r,u,c)}),Ae(n,u=>{const c=kh(e,ue(t,u));Ci(e,c)}),mt(e.eventQueue_,t,[])}}function FR(e){go(e,"onDisconnectEvents");const t=Kl(e),n=nl();vd(e.onDisconnect_,H(),(i,s)=>{const o=X1(i,s,e.serverSyncTree_,t);R1(n,i,o)});let r=[];vd(n,H(),(i,s)=>{r=r.concat(po(e.serverSyncTree_,i,s));const o=kh(e,i);Ci(e,o)}),e.onDisconnect_=nl(),mt(e.eventQueue_,H(),r)}function VR(e,t,n){let r;B(t._path)===".info"?r=Ed(e.infoSyncTree_,t,n):r=Ed(e.serverSyncTree_,t,n),ox(e.eventQueue_,t._path,r)}function BR(e,t,n){let r;B(t._path)===".info"?r=cl(e.infoSyncTree_,t,n):r=cl(e.serverSyncTree_,t,n),ox(e.eventQueue_,t._path,r)}function $R(e){e.persistentConnection_&&e.persistentConnection_.interrupt(IR)}function go(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),be(n,...t)}function Pd(e,t,n,r){t&&Ni(()=>{if(n==="ok")t(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,t(o)}})}function ux(e,t,n){return ph(e.serverSyncTree_,t,n)||L.EMPTY_NODE}function Ph(e,t=e.transactionQueueTree_){if(t||Yl(e,t),Ii(t)){const n=dx(e,t);b(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&UR(e,mo(t),n)}else ex(t)&&Wl(t,n=>{Ph(e,n)})}function UR(e,t,n){const r=n.map(u=>u.currentWriteId),i=ux(e,t,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];b(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=Ve(t,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=t;e.server_.put(l.toString(),a,u=>{go(e,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(wn(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Yl(e,Sh(e.transactionQueueTree_,t)),Ph(e,e.transactionQueueTree_),mt(e.eventQueue_,t,c);for(let f=0;f<d.length;f++)Ni(d[f])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{$e("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}Ci(e,t)}},o)}function Ci(e,t){const n=cx(e,t),r=mo(n),i=dx(e,n);return zR(e,i,r),r}function zR(e,t,n){if(t.length===0)return;const r=[];let i=[];const o=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const l=t[a],u=Ve(n,l.path);let c=!1,d;if(b(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(wn(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=RR)c=!0,d="maxretry",i=i.concat(wn(e.serverSyncTree_,l.currentWriteId,!0));else{const f=ux(e,l.path,o);l.currentInputSnapshot=f;const h=t[a].update(f.val());if(h!==void 0){Hl("transaction failed: Data returned ",h,l.path);let y=_e(h);typeof h=="object"&&h!=null&&Vt(h,".priority")||(y=y.updatePriority(f.getPriority()));const w=l.currentWriteId,_=Kl(e),p=Z1(y,f,_);l.currentOutputSnapshotRaw=y,l.currentOutputSnapshotResolved=p,l.currentWriteId=Th(e),o.splice(o.indexOf(w),1),i=i.concat(G1(e.serverSyncTree_,l.path,p,l.currentWriteId,l.applyLocally)),i=i.concat(wn(e.serverSyncTree_,w,!0))}else c=!0,d="nodata",i=i.concat(wn(e.serverSyncTree_,l.currentWriteId,!0))}mt(e.eventQueue_,n,i),i=[],c&&(t[a].status=2,function(f){setTimeout(f,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(d),!1,null))))}Yl(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)Ni(r[a]);Ph(e,e.transactionQueueTree_)}function cx(e,t){let n,r=e.transactionQueueTree_;for(n=B(t);n!==null&&Ii(r)===void 0;)r=Sh(r,n),t=q(t),n=B(t);return r}function dx(e,t){const n=[];return fx(e,t,n),n.sort((r,i)=>r.order-i.order),n}function fx(e,t,n){const r=Ii(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Wl(t,i=>{fx(e,i,n)})}function Yl(e,t){const n=Ii(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,J1(t,n.length>0?n:void 0)}Wl(t,r=>{Yl(e,r)})}function kh(e,t){const n=mo(cx(e,t)),r=Sh(e.transactionQueueTree_,t);return vR(r,i=>{Ku(e,i)}),Ku(e,r),tx(r,i=>{Ku(e,i)}),n}function Ku(e,t){const n=Ii(t);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(b(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(b(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(wn(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?J1(t,void 0):n.length=s+1,mt(e.eventQueue_,mo(t),i);for(let o=0;o<r.length;o++)Ni(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function HR(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):$e(`Invalid query segment '${n}' in query '${e}'`)}return t}const $g=function(e,t){const n=GR(e),r=n.namespace;n.domain==="firebase.com"&&an(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&an("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||tb();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new p1(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new K(n.pathString)}},GR=function(e){let t="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof e=="string"){let u=e.indexOf("//");u>=0&&(a=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");c===-1&&(c=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(c,d)),c<d&&(i=WR(e.substring(c,d)));const f=HR(e.substring(Math.min(e.length,d)));u=t.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(t.substring(u+1),10)):u=t.length;const h=t.slice(0,u);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const y=t.indexOf(".");r=t.substring(0,y).toLowerCase(),n=t.substring(y+1),s=r}"ns"in f&&(s=f.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",KR=function(){let e=0;const t=[];return function(n){const r=n===e;e=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Ug.charAt(n%64),n=Math.floor(n/64);b(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=Ug.charAt(t[i]);return b(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+xe(this.snapshot.exportVal())}}class QR{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return b(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return U(this._path)?null:th(this._path)}get ref(){return new un(this._repo,this._path)}get _queryIdentifier(){const t=kg(this._queryParams),n=Xf(t);return n==="{}"?"default":n}get _queryObject(){return kg(this._queryParams)}isEqual(t){if(t=Pr(t),!(t instanceof Nh))return!1;const n=this._repo===t._repo,r=nh(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Fb(this._path)}}class un extends Nh{constructor(t,n){super(t,n,new oh,!1)}get parent(){const t=C1(this._path);return t===null?null:new un(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Ys{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new K(t),r=Qs(this.ref,t);return new Ys(this._node.getChild(n),r,ce)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new Ys(i,Qs(this.ref,r),ce)))}hasChild(t){const n=new K(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function It(e,t){return e=Pr(e),e._checkNotDeleted("ref"),t!==void 0?Qs(e._root,t):e._root}function Qs(e,t){return e=Pr(e),B(e._path)===null?PR("child","path",t):ix("child","path",t),new un(e._repo,ue(e._path,t))}function qR(e,t){e=Pr(e),sx("push",e._path),rx("push",t,e._path,!0);const n=lx(e._repo),r=KR(n),i=Qs(e,r),s=Qs(e,r);let o;return o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function zg(e,t){e=Pr(e),sx("set",e._path),rx("set",t,e._path,!1);const n=new lo;return OR(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function XR(e,t){TR("update",t,e._path);const n=new lo;return jR(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function Yu(e){e=Pr(e);const t=new hx(()=>{}),n=new Ql(t);return LR(e._repo,e,n).then(r=>new Ys(r,new un(e._repo,e._path),e._queryParams.getIndex()))}class Ql{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const r=n._queryParams.getIndex();return new YR("value",this,new Ys(t.snapshotNode,new un(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new QR(this,t,n):null}matches(t){return t instanceof Ql?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function ZR(e,t,n,r,i){const s=new hx(n,void 0),o=new Ql(s);return VR(e._repo,e,o),()=>BR(e._repo,e,o)}function Ki(e,t,n,r){return ZR(e,"value",t)}qI(un);tR(un);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="FIREBASE_DATABASE_EMULATOR_HOST",kd={};let eA=!1;function tA(e,t,n,r){e.repoInfo_=new p1(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function nA(e,t,n,r,i){let s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||an("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),be("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=$g(s,i),a=o.repoInfo,l;typeof process<"u"&&ug&&(l=ug[JR]),l?(s=`http://${l}?ns=${a.namespace}`,o=$g(s,i),a=o.repoInfo):o.repoInfo.secure;const u=new fb(e.name,e.options,t);kR("Invalid Firebase Database URL",o),U(o.path)||an("Database URL must point to the root of a Firebase Database (not including a child path).");const c=iA(a,e,u,new db(e,n));return new sA(c,e)}function rA(e,t){const n=kd[t];(!n||n[e.key]!==e)&&an(`Database ${t}(${e.repoInfo_}) has already been deleted.`),$R(e),delete n[e.key]}function iA(e,t,n,r){let i=kd[t.name];i||(i={},kd[t.name]=i);let s=i[e.toURLString()];return s&&an("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new AR(e,eA,n,r),i[e.toURLString()]=s,s}class sA{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(DR(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new un(this._repo,H())),this._rootInternal}_delete(){return this._rootInternal!==null&&(rA(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&an("Cannot call "+t+" on a deleted database.")}}function oA(e=FN(),t){const n=DN(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=S2("database");r&&aA(n,...r)}return n}function aA(e,t,n,r={}){e=Pr(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&an("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&an('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new da(da.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:C2(r.mockUserToken,e.app.options.projectId);s=new da(o)}tA(i,t,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(e){QN(jN),Xa(new Vs("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return nA(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),oi(cg,dg,e),oi(cg,dg,"esm2017")}Xt.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Xt.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};lA();var uA="firebase",cA="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oi(uA,cA,"app");const dA={apiKey:"AIzaSyBQ_gZ--MD4sgWeoM_9PZResj4BHRYrdAM",authDomain:"caxinoxrp.firebaseapp.com",databaseURL:"https://caxinoxrp-default-rtdb.firebaseio.com/",projectId:"caxinoxrp",storageBucket:"caxinoxrp.firebasestorage.app",messagingSenderId:"844214937413",appId:"1:844214937413:web:2a4e1256f5dfa8e01a002c"},fA=X_(dA),Rt=oA(fA),Tt={async createUser(e,t){const n=It(Rt,`users/${t}`);await zg(n,{username:e,walletAddress:t,points:0,gamesPlayed:0,createdAt:new Date().toISOString()})},async updatePoints(e,t){const n=It(Rt,`users/${e}`),i=(await Yu(n)).val();await XR(n,{points:((i==null?void 0:i.points)||0)+t,gamesPlayed:((i==null?void 0:i.gamesPlayed)||0)+1,lastUpdated:new Date().toISOString(),gameHistory:[...(i==null?void 0:i.gameHistory)||[],{points:t,timestamp:new Date().toISOString()}]})},onLeaderboardChange(e,t="all"){const n=It(Rt,"users");return Ki(n,i=>{const s=i.val();if(!s)return e([]);const o=new Date,a=new Date(o.setHours(0,0,0,0)).toISOString(),l=new Date(o.setDate(o.getDate()-7)).toISOString(),u=Object.values(s).map(c=>{var y,x,w,_;const d=((x=(y=c.gameHistory)==null?void 0:y[c.gameHistory.length-1])==null?void 0:x.points)||0,f=((_=(w=c.gameHistory)==null?void 0:w[c.gameHistory.length-2])==null?void 0:_.points)||0;let h="stable";return d>f?h="up":d<f&&(h="down"),{username:c.username,address:c.walletAddress,points:c.points||0,rank:0,gamesPlayed:c.gamesPlayed||0,averagePoints:c.points/(c.gamesPlayed||1),lastPlayed:c.lastUpdated||c.createdAt,trend:h}}).filter(c=>t==="today"?c.lastPlayed>=a:t==="week"?c.lastPlayed>=l:c.points>=10).sort((c,d)=>d.points-c.points).map((c,d)=>({...c,rank:d+1})).slice(0,5);e(u)})},async getUserStats(e){const t=It(Rt,`users/${e}`);return(await Yu(t)).val()},onUserStatsChange(e,t){const n=It(Rt,`users/${e}`);return Ki(n,i=>{const s=i.val();s&&t({address:s.walletAddress,points:s.points||0,gamesPlayed:s.gamesPlayed||0,username:s.username,lastUpdated:s.lastUpdated,gameHistory:s.gameHistory||[]})})},onGameStatsChange(e){const t=It(Rt,"users");return Ki(t,r=>{const i=r.val();if(!i){e({totalPlayers:0,totalRegistered:0,totalPoints:0,averagePointsPerPlayer:0,topPlayerToday:null,gamesPlayedToday:0});return}const s=new Date,o=new Date(s.setHours(0,0,0,0)).toISOString(),a=Object.values(i).reduce((l,u)=>{const c=u.points>0,d=u.lastUpdated>=o;return{...l,totalPlayers:c?l.totalPlayers+1:l.totalPlayers,totalRegistered:l.totalRegistered+1,totalPoints:l.totalPoints+(u.points||0),gamesPlayedToday:d?l.gamesPlayedToday+(u.gamesPlayed||0):l.gamesPlayedToday,topPlayerToday:d&&(!l.topPlayerToday||u.points>l.topPlayerToday.points)?{username:u.username,points:u.points}:l.topPlayerToday}},{totalPlayers:0,totalRegistered:0,totalPoints:0,gamesPlayedToday:0,topPlayerToday:null,averagePointsPerPlayer:0});e({...a,averagePointsPerPlayer:a.totalPlayers>0?Math.round(a.totalPoints/a.totalPlayers):0})})},async getSixthPlace(){const e=It(Rt,"users"),n=(await Yu(e)).val();return n&&Object.values(n).map(i=>{var l,u,c,d;const s=((u=(l=i.gameHistory)==null?void 0:l[i.gameHistory.length-1])==null?void 0:u.points)||0,o=((d=(c=i.gameHistory)==null?void 0:c[i.gameHistory.length-2])==null?void 0:d.points)||0;let a="stable";return s>o?a="up":s<o&&(a="down"),{username:i.username,address:i.walletAddress,points:i.points||0,rank:6,gamesPlayed:i.gamesPlayed||0,averagePoints:i.points/(i.gamesPlayed||1),lastPlayed:i.lastUpdated||i.createdAt,trend:a}}).filter(i=>i.points>0).sort((i,s)=>s.points-i.points)[5]||null},onAllPlayersChange(e){const t=It(Rt,"users");return Ki(t,r=>{const i=r.val();if(!i)return e([]);const s=Object.values(i).map(o=>{var c,d,f,h;const a=((d=(c=o.gameHistory)==null?void 0:c[o.gameHistory.length-1])==null?void 0:d.points)||0,l=((h=(f=o.gameHistory)==null?void 0:f[o.gameHistory.length-2])==null?void 0:h.points)||0;let u="stable";return a>l?u="up":a<l&&(u="down"),{username:o.username,address:o.walletAddress,points:o.points||0,rank:0,gamesPlayed:o.gamesPlayed||0,averagePoints:o.points/(o.gamesPlayed||1),lastPlayed:o.lastUpdated||o.createdAt,trend:u}}).sort((o,a)=>a.points-o.points).map((o,a)=>({...o,rank:a+1}));e(s)})},onRecentWinner(e){const t=It(Rt,"winners");return Ki(t,r=>{const i=r.val();if(!i)return e(null);const s=Object.values(i).sort((o,a)=>new Date(a.timestamp).getTime()-new Date(o.timestamp).getTime())[0];e(s)})},async addWinner(e,t){const n=It(Rt,"winners"),r=qR(n);await zg(r,{username:e,points:t,timestamp:new Date().toISOString()})}},hA={userNumbers:[],systemNumbers:[],attempts:0,points:0,isGameStarted:!1,isWalletConnected:!1,username:null,walletAddress:null},px=v.createContext(void 0);function pA(e,t){switch(t.type){case"SET_WALLET_CONNECTION":return{...e,isWalletConnected:t.payload};case"SET_GAME_STARTED":return{...e,isGameStarted:t.payload};case"SET_USER_NUMBERS":return{...e,userNumbers:t.payload};case"SET_SYSTEM_NUMBERS":return{...e,systemNumbers:t.payload};case"UPDATE_POINTS":return{...e,points:e.points+t.payload};case"INCREMENT_ATTEMPTS":return{...e,attempts:e.attempts+1};case"RESET_GAME":return{...e,userNumbers:[],systemNumbers:[],isGameStarted:!1};case"SET_USER_INFO":return{...e,username:t.payload.username,walletAddress:t.payload.walletAddress};case"RESTORE_SESSION":return{...e,username:t.payload.username,walletAddress:t.payload.walletAddress,isWalletConnected:t.payload.isWalletConnected};case"SYNC_USER_DATA":return{...e,points:t.payload.points,username:t.payload.username,attempts:t.payload.gamesPlayed};default:return e}}function mx({children:e}){const[t,n]=v.useReducer(pA,hA);v.useEffect(()=>{const c=localStorage.getItem("gameSession");if(c)try{const d=JSON.parse(c);n({type:"RESTORE_SESSION",payload:d});const f=Tt.onUserStatsChange(d.walletAddress,h=>{n({type:"SYNC_USER_DATA",payload:{points:h.points,gamesPlayed:h.gamesPlayed,username:h.username}})});return()=>f()}catch(d){console.error("Failed to restore session:",d)}},[]),v.useEffect(()=>{t.username&&t.walletAddress&&localStorage.setItem("gameSession",JSON.stringify({username:t.username,walletAddress:t.walletAddress,isWalletConnected:t.isWalletConnected}))},[t.username,t.walletAddress,t.isWalletConnected]);const u={state:t,dispatch:n,setWalletConnection:c=>{n({type:"SET_WALLET_CONNECTION",payload:c})},setGameStarted:c=>{n({type:"SET_GAME_STARTED",payload:c})},setUserNumbers:c=>{n({type:"SET_USER_NUMBERS",payload:c})},generateSystemNumbers:()=>{const c=Array.from({length:5},()=>Math.floor(Math.random()*100)+1);n({type:"SET_SYSTEM_NUMBERS",payload:c})},calculatePoints:async()=>{const c=t.userNumbers.filter(f=>t.systemNumbers.includes(f)).length,d=c===5?50:c*10;t.walletAddress&&await Tt.updatePoints(t.walletAddress,d),n({type:"UPDATE_POINTS",payload:d}),n({type:"INCREMENT_ATTEMPTS"})},resetGame:()=>{n({type:"RESET_GAME"})}};return g.jsx(px.Provider,{value:u,children:e})}function yo(){const e=v.useContext(px);if(e===void 0)throw new Error("useGame must be used within a GameProvider");return e}const mA="Left",gA="Right",yA="Up",vA="Down",Jr={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},Nd={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},Wg="mousemove",Hg="mouseup",_A="touchend",xA="touchmove",wA="touchstart";function SA(e,t,n,r){return e>t?n>0?gA:mA:r>0?vA:yA}function Gg(e,t){if(t===0)return e;const n=Math.PI/180*t,r=e[0]*Math.cos(n)+e[1]*Math.sin(n),i=e[1]*Math.cos(n)-e[0]*Math.sin(n);return[r,i]}function CA(e,t){const n=c=>{const d="touches"in c;d&&c.touches.length>1||e((f,h)=>{h.trackMouse&&!d&&(document.addEventListener(Wg,r),document.addEventListener(Hg,o));const{clientX:y,clientY:x}=d?c.touches[0]:c,w=Gg([y,x],h.rotationAngle);return h.onTouchStartOrOnMouseDown&&h.onTouchStartOrOnMouseDown({event:c}),Object.assign(Object.assign(Object.assign({},f),Nd),{initial:w.slice(),xy:w,start:c.timeStamp||0})})},r=c=>{e((d,f)=>{const h="touches"in c;if(h&&c.touches.length>1)return d;if(c.timeStamp-d.start>f.swipeDuration)return d.swiping?Object.assign(Object.assign({},d),{swiping:!1}):d;const{clientX:y,clientY:x}=h?c.touches[0]:c,[w,_]=Gg([y,x],f.rotationAngle),p=w-d.xy[0],m=_-d.xy[1],S=Math.abs(p),C=Math.abs(m),N=(c.timeStamp||0)-d.start,P=Math.sqrt(S*S+C*C)/(N||1),E=[p/(N||1),m/(N||1)],D=SA(S,C,p,m),T=typeof f.delta=="number"?f.delta:f.delta[D.toLowerCase()]||Jr.delta;if(S<T&&C<T&&!d.swiping)return d;const F={absX:S,absY:C,deltaX:p,deltaY:m,dir:D,event:c,first:d.first,initial:d.initial,velocity:P,vxvy:E};F.first&&f.onSwipeStart&&f.onSwipeStart(F),f.onSwiping&&f.onSwiping(F);let ke=!1;return(f.onSwiping||f.onSwiped||f[`onSwiped${D}`])&&(ke=!0),ke&&f.preventScrollOnSwipe&&f.trackTouch&&c.cancelable&&c.preventDefault(),Object.assign(Object.assign({},d),{first:!1,eventData:F,swiping:!0})})},i=c=>{e((d,f)=>{let h;if(d.swiping&&d.eventData){if(c.timeStamp-d.start<f.swipeDuration){h=Object.assign(Object.assign({},d.eventData),{event:c}),f.onSwiped&&f.onSwiped(h);const y=f[`onSwiped${h.dir}`];y&&y(h)}}else f.onTap&&f.onTap({event:c});return f.onTouchEndOrOnMouseUp&&f.onTouchEndOrOnMouseUp({event:c}),Object.assign(Object.assign(Object.assign({},d),Nd),{eventData:h})})},s=()=>{document.removeEventListener(Wg,r),document.removeEventListener(Hg,o)},o=c=>{s(),i(c)},a=(c,d)=>{let f=()=>{};if(c&&c.addEventListener){const h=Object.assign(Object.assign({},Jr.touchEventOptions),d.touchEventOptions),y=[[wA,n,h],[xA,r,Object.assign(Object.assign({},h),d.preventScrollOnSwipe?{passive:!1}:{})],[_A,i,h]];y.forEach(([x,w,_])=>c.addEventListener(x,w,_)),f=()=>y.forEach(([x,w])=>c.removeEventListener(x,w))}return f},u={ref:c=>{c!==null&&e((d,f)=>{if(d.el===c)return d;const h={};return d.el&&d.el!==c&&d.cleanUpTouch&&(d.cleanUpTouch(),h.cleanUpTouch=void 0),f.trackTouch&&c&&(h.cleanUpTouch=a(c,f)),Object.assign(Object.assign(Object.assign({},d),{el:c}),h)})}};return t.trackMouse&&(u.onMouseDown=n),[u,a]}function EA(e,t,n,r){return!t.trackTouch||!e.el?(e.cleanUpTouch&&e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:void 0})):e.cleanUpTouch?t.preventScrollOnSwipe!==n.preventScrollOnSwipe||t.touchEventOptions.passive!==n.touchEventOptions.passive?(e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:r(e.el,t)})):e:Object.assign(Object.assign({},e),{cleanUpTouch:r(e.el,t)})}function TA(e){const{trackMouse:t}=e,n=v.useRef(Object.assign({},Nd)),r=v.useRef(Object.assign({},Jr)),i=v.useRef(Object.assign({},r.current));i.current=Object.assign({},r.current),r.current=Object.assign(Object.assign({},Jr),e);let s;for(s in Jr)r.current[s]===void 0&&(r.current[s]=Jr[s]);const[o,a]=v.useMemo(()=>CA(l=>n.current=l(n.current,r.current),{trackMouse:t}),[t]);return n.current=EA(n.current,r.current,i.current,a),o}function PA(e){return/^r[1-9A-HJ-NP-Za-km-z]{25,34}$/.test(e)}function kA(){const{setGameStarted:e,dispatch:t}=yo(),[n,r]=v.useState(""),[i,s]=v.useState(""),[o,a]=v.useState(!1),l=async u=>{if(u.preventDefault(),a(!0),!n.trim()||!i.trim()){me.error("Please fill in all fields"),a(!1);return}if(!/^[0-9a-zA-Z]{20,}$/.test(i)){me.error("Please enter a valid wallet address"),a(!1);return}if(!PA(i)){me.error("Please enter a valid XRP wallet address"),a(!1);return}try{await Tt.createUser(n.trim(),i.trim()),t({type:"SET_USER_INFO",payload:{username:n.trim(),walletAddress:i.trim()}}),e(!0),me.success("Profile set successfully!")}catch{me.error("Failed to set user info")}finally{a(!1)}};return g.jsxs(I.div,{className:`bg-game-secondary/10 backdrop-blur-lg rounded-3xl p-8 border border-game-accent/20\r
                 shadow-[0_0_50px_rgba(34,211,238,0.1)] max-w-md mx-auto`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[g.jsx("h2",{className:"font-game text-2xl text-center mb-6",children:"Set Up Your Profile"}),g.jsxs("form",{onSubmit:l,className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block font-game text-sm mb-2",children:"Username"}),g.jsx("input",{type:"text",value:n,onChange:u=>r(u.target.value),className:`w-full bg-game-dark/50 rounded-lg px-4 py-3 font-game\r
                     border border-game-accent/20 focus:border-game-accent\r
                     transition-colors duration-300 outline-none`,placeholder:"Enter your username"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block font-game text-sm mb-2",children:"Wallet Address"}),g.jsx("input",{type:"text",value:i,onChange:u=>s(u.target.value),className:`w-full bg-game-dark/50 rounded-lg px-4 py-3 font-game\r
                     border border-game-accent/20 focus:border-game-accent\r
                     transition-colors duration-300 outline-none`,placeholder:"Enter your wallet address"})]}),g.jsx(I.button,{type:"submit",className:`w-full py-4 bg-game-primary text-white rounded-xl \r
                   font-bold text-lg font-game relative overflow-hidden\r
                   disabled:opacity-50 disabled:cursor-not-allowed`,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:o,children:o?"Setting Up...":"Start Playing"})]})]})}const Kg={START:"https://cdn.pixabay.com/download/audio/2022/03/24/audio_c8c8a73467.mp3?filename=game-start-6104.mp3",POP:"https://cdn.pixabay.com/download/audio/2022/10/23/audio_946be89a6b.mp3?filename=pop-click-sound-113125.mp3"},Yg=e=>{new Audio(e).play().catch(()=>{})};function NA(){const{state:{username:e,points:t,attempts:n}}=yo();return g.jsx(I.div,{className:`bg-game-secondary/10 backdrop-blur-lg rounded-xl p-4 \r
                 border border-game-accent/20 mb-6`,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("div",{className:"text-sm text-game-light/50",children:"Welcome"}),g.jsx("div",{className:"font-game text-xl text-game-accent",children:e})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("div",{className:"text-sm text-game-light/50",children:"Your Points"}),g.jsx("div",{className:"font-game text-xl text-game-accent",children:t.toLocaleString()}),g.jsxs("div",{className:"text-xs text-game-light/50",children:["Games Played: ",n]})]})]})})}var bh={};Object.defineProperty(bh,"__esModule",{value:!0});bh.parse=LA;bh.serialize=OA;const bA=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,IA=/^[\u0021-\u003A\u003C-\u007E]*$/,RA=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,AA=/^[\u0020-\u003A\u003D-\u007E]*$/,DA=Object.prototype.toString,MA=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function LA(e,t){const n=new MA,r=e.length;if(r<2)return n;const i=(t==null?void 0:t.decode)||jA;let s=0;do{const o=e.indexOf("=",s);if(o===-1)break;const a=e.indexOf(";",s),l=a===-1?r:a;if(o>l){s=e.lastIndexOf(";",o-1)+1;continue}const u=Qg(e,s,o),c=qg(e,o,u),d=e.slice(u,c);if(n[d]===void 0){let f=Qg(e,o+1,l),h=qg(e,l,f);const y=i(e.slice(f,h));n[d]=y}s=l+1}while(s<r);return n}function Qg(e,t,n){do{const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}while(++t<n);return n}function qg(e,t,n){for(;t>n;){const r=e.charCodeAt(--t);if(r!==32&&r!==9)return t+1}return n}function OA(e,t,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!bA.test(e))throw new TypeError(`argument name is invalid: ${e}`);const i=r(t);if(!IA.test(i))throw new TypeError(`argument val is invalid: ${t}`);let s=e+"="+i;if(!n)return s;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);s+="; Max-Age="+n.maxAge}if(n.domain){if(!RA.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);s+="; Domain="+n.domain}if(n.path){if(!AA.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);s+="; Path="+n.path}if(n.expires){if(!FA(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.partitioned&&(s+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return s}function jA(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function FA(e){return DA.call(e)==="[object Date]"}/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Xg="popstate";function VA(e={}){function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return bd("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:qs(i)}return $A(t,n,null,e)}function oe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ft(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function BA(){return Math.random().toString(36).substring(2,10)}function Zg(e,t){return{usr:e.state,key:e.key,idx:t}}function bd(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ri(t):t,state:n,key:t&&t.key||r||BA()}}function qs({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ri(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function $A(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=c();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function c(){return(o.state||{idx:null}).idx}function d(){a="POP";let w=c(),_=w==null?null:w-u;u=w,l&&l({action:a,location:x.location,delta:_})}function f(w,_){a="PUSH";let p=bd(x.location,w,_);u=c()+1;let m=Zg(p,u),S=x.createHref(p);try{o.pushState(m,"",S)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(S)}s&&l&&l({action:a,location:x.location,delta:1})}function h(w,_){a="REPLACE";let p=bd(x.location,w,_);u=c();let m=Zg(p,u),S=x.createHref(p);o.replaceState(m,"",S),s&&l&&l({action:a,location:x.location,delta:0})}function y(w){let _=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof w=="string"?w:qs(w);return p=p.replace(/ $/,"%20"),oe(_,`No window.location.(origin|href) available to create URL for href: ${p}`),new URL(p,_)}let x={get action(){return a},get location(){return e(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Xg,d),l=w,()=>{i.removeEventListener(Xg,d),l=null}},createHref(w){return t(i,w)},createURL:y,encodeLocation(w){let _=y(w);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:h,go(w){return o.go(w)}};return x}function gx(e,t,n="/"){return UA(e,t,n,!1)}function UA(e,t,n,r){let i=typeof t=="string"?Ri(t):t,s=zn(i.pathname||"/",n);if(s==null)return null;let o=yx(e);zA(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=eD(s);a=ZA(o[l],u,r)}return a}function yx(e,t=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(oe(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=Zt([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(oe(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),yx(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:qA(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of vx(s.path))i(s,o,l)}),t}function vx(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=vx(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function zA(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:XA(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var WA=/^:[\w-]+$/,HA=3,GA=2,KA=1,YA=10,QA=-2,Jg=e=>e==="*";function qA(e,t){let n=e.split("/"),r=n.length;return n.some(Jg)&&(r+=QA),t&&(r+=GA),n.filter(i=>!Jg(i)).reduce((i,s)=>i+(WA.test(s)?HA:s===""?KA:YA),r)}function XA(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function ZA(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?t:t.slice(s.length)||"/",d=dl({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=dl({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Zt([s,d.pathname]),pathnameBase:iD(Zt([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Zt([s,d.pathnameBase]))}return o}function dl(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=JA(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:d},f)=>{if(c==="*"){let y=a[f]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const h=a[f];return d&&!h?u[c]=void 0:u[c]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function JA(e,t=!1,n=!0){Ft(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function eD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ft(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function zn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function tD(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ri(e):e;return{pathname:n?n.startsWith("/")?n:nD(n,t):t,search:sD(r),hash:oD(i)}}function nD(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Qu(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rD(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function _x(e){let t=rD(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function xx(e,t,n,r=!1){let i;typeof e=="string"?i=Ri(e):(i={...e},oe(!i.pathname||!i.pathname.includes("?"),Qu("?","pathname","search",i)),oe(!i.pathname||!i.pathname.includes("#"),Qu("#","pathname","hash",i)),oe(!i.search||!i.search.includes("#"),Qu("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?t[d]:"/"}let l=tD(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var Zt=e=>e.join("/").replace(/\/\/+/g,"/"),iD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),sD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,oD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function aD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var wx=["POST","PUT","PATCH","DELETE"];new Set(wx);var lD=["GET",...wx];new Set(lD);var Ai=v.createContext(null);Ai.displayName="DataRouter";var ql=v.createContext(null);ql.displayName="DataRouterState";var Sx=v.createContext({isTransitioning:!1});Sx.displayName="ViewTransition";var uD=v.createContext(new Map);uD.displayName="Fetchers";var cD=v.createContext(null);cD.displayName="Await";var Bt=v.createContext(null);Bt.displayName="Navigation";var vo=v.createContext(null);vo.displayName="Location";var cn=v.createContext({outlet:null,matches:[],isDataRoute:!1});cn.displayName="Route";var Ih=v.createContext(null);Ih.displayName="RouteError";function dD(e,{relative:t}={}){oe(_o(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=v.useContext(Bt),{hash:i,pathname:s,search:o}=xo(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:Zt([n,s])),r.createHref({pathname:a,search:o,hash:i})}function _o(){return v.useContext(vo)!=null}function br(){return oe(_o(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(vo).location}var Cx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ex(e){v.useContext(Bt).static||v.useLayoutEffect(e)}function Tx(){let{isDataRoute:e}=v.useContext(cn);return e?ED():fD()}function fD(){oe(_o(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(Ai),{basename:t,navigator:n}=v.useContext(Bt),{matches:r}=v.useContext(cn),{pathname:i}=br(),s=JSON.stringify(_x(r)),o=v.useRef(!1);return Ex(()=>{o.current=!0}),v.useCallback((l,u={})=>{if(Ft(o.current,Cx),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=xx(l,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:Zt([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,s,i,e])}v.createContext(null);function xo(e,{relative:t}={}){let{matches:n}=v.useContext(cn),{pathname:r}=br(),i=JSON.stringify(_x(n));return v.useMemo(()=>xx(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function hD(e,t){return Px(e,t)}function Px(e,t,n,r){var p;oe(_o(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=v.useContext(Bt),{matches:o}=v.useContext(cn),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",c=a?a.pathnameBase:"/",d=a&&a.route;{let m=d&&d.path||"";kx(u,!d||m.endsWith("*")||m.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${m}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${m}"> to <Route path="${m==="/"?"*":`${m}/*`}">.`)}let f=br(),h;if(t){let m=typeof t=="string"?Ri(t):t;oe(c==="/"||((p=m.pathname)==null?void 0:p.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${m.pathname}" was given in the \`location\` prop.`),h=m}else h=f;let y=h.pathname||"/",x=y;if(c!=="/"){let m=c.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(m.length).join("/")}let w=!s&&n&&n.matches&&n.matches.length>0?n.matches:gx(e,{pathname:x});Ft(d||w!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),Ft(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=vD(w&&w.map(m=>Object.assign({},m,{params:Object.assign({},l,m.params),pathname:Zt([c,i.encodeLocation?i.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?c:Zt([c,i.encodeLocation?i.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),o,n,r);return t&&_?v.createElement(vo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},_):_}function pD(){let e=CD(),t=aD(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:s},"ErrorBoundary")," or"," ",v.createElement("code",{style:s},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:i},n):null,o)}var mD=v.createElement(pD,null),gD=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?v.createElement(cn.Provider,{value:this.props.routeContext},v.createElement(Ih.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yD({routeContext:e,match:t,children:n}){let r=v.useContext(Ai);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(cn.Provider,{value:e},n)}function vD(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,s=n==null?void 0:n.errors;if(s!=null){let l=i.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);oe(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:c,errors:d}=n,f=u.route.loader&&!c.hasOwnProperty(u.route.id)&&(!d||d[u.route.id]===void 0);if(u.route.lazy||f){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,u,c)=>{let d,f=!1,h=null,y=null;n&&(d=s&&u.route.id?s[u.route.id]:void 0,h=u.route.errorElement||mD,o&&(a<0&&c===0?(kx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,y=null):a===c&&(f=!0,y=u.route.hydrateFallbackElement||null)));let x=t.concat(i.slice(0,c+1)),w=()=>{let _;return d?_=h:f?_=y:u.route.Component?_=v.createElement(u.route.Component,null):u.route.element?_=u.route.element:_=l,v.createElement(yD,{match:u,routeContext:{outlet:l,matches:x,isDataRoute:n!=null},children:_})};return n&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?v.createElement(gD,{location:n.location,revalidation:n.revalidation,component:h,error:d,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}function Rh(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _D(e){let t=v.useContext(Ai);return oe(t,Rh(e)),t}function xD(e){let t=v.useContext(ql);return oe(t,Rh(e)),t}function wD(e){let t=v.useContext(cn);return oe(t,Rh(e)),t}function Ah(e){let t=wD(e),n=t.matches[t.matches.length-1];return oe(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function SD(){return Ah("useRouteId")}function CD(){var r;let e=v.useContext(Ih),t=xD("useRouteError"),n=Ah("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function ED(){let{router:e}=_D("useNavigate"),t=Ah("useNavigate"),n=v.useRef(!1);return Ex(()=>{n.current=!0}),v.useCallback(async(i,s={})=>{Ft(n.current,Cx),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var ey={};function kx(e,t,n){!t&&!ey[e]&&(ey[e]=!0,Ft(!1,n))}v.memo(TD);function TD({routes:e,future:t,state:n}){return Px(e,void 0,n,t)}function fa(e){oe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function PD({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){oe(!_o(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=v.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Ri(n));let{pathname:l="/",search:u="",hash:c="",state:d=null,key:f="default"}=n,h=v.useMemo(()=>{let y=zn(l,o);return y==null?null:{location:{pathname:y,search:u,hash:c,state:d,key:f},navigationType:r}},[o,l,u,c,d,f,r]);return Ft(h!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:v.createElement(Bt.Provider,{value:a},v.createElement(vo.Provider,{children:t,value:h}))}function kD({children:e,location:t}){return hD(Id(e),t)}function Id(e,t=[]){let n=[];return v.Children.forEach(e,(r,i)=>{if(!v.isValidElement(r))return;let s=[...t,i];if(r.type===v.Fragment){n.push.apply(n,Id(r.props.children,s));return}oe(r.type===fa,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),oe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Id(r.props.children,s)),n.push(o)}),n}var ha="get",pa="application/x-www-form-urlencoded";function Xl(e){return e!=null&&typeof e.tagName=="string"}function ND(e){return Xl(e)&&e.tagName.toLowerCase()==="button"}function bD(e){return Xl(e)&&e.tagName.toLowerCase()==="form"}function ID(e){return Xl(e)&&e.tagName.toLowerCase()==="input"}function RD(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function AD(e,t){return e.button===0&&(!t||t==="_self")&&!RD(e)}var Go=null;function DD(){if(Go===null)try{new FormData(document.createElement("form"),0),Go=!1}catch{Go=!0}return Go}var MD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qu(e){return e!=null&&!MD.has(e)?(Ft(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pa}"`),null):e}function LD(e,t){let n,r,i,s,o;if(bD(e)){let a=e.getAttribute("action");r=a?zn(a,t):null,n=e.getAttribute("method")||ha,i=qu(e.getAttribute("enctype"))||pa,s=new FormData(e)}else if(ND(e)||ID(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?zn(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||ha,i=qu(e.getAttribute("formenctype"))||qu(a.getAttribute("enctype"))||pa,s=new FormData(a,e),!DD()){let{name:u,type:c,value:d}=e;if(c==="image"){let f=u?`${u}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else u&&s.append(u,d)}}else{if(Xl(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ha,r=null,i=pa,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function Dh(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function OD(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jD(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function FD(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await OD(s,n);return o.links?o.links():[]}return[]}));return UD(r.flat(1).filter(jD).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function ty(e,t,n,r,i,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return s==="assets"?t.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?t.filter((l,u)=>{var d;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function VD(e,t,{includeHydrateFallback:n}={}){return BD(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function BD(e){return[...new Set(e)]}function $D(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function UD(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify($D(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function zD(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function WD(){let e=v.useContext(Ai);return Dh(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function HD(){let e=v.useContext(ql);return Dh(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Mh=v.createContext(void 0);Mh.displayName="FrameworkContext";function Nx(){let e=v.useContext(Mh);return Dh(e,"You must render this element inside a <HydratedRouter> element"),e}function GD(e,t){let n=v.useContext(Mh),[r,i]=v.useState(!1),[s,o]=v.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:d}=t,f=v.useRef(null);v.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let x=_=>{_.forEach(p=>{o(p.isIntersecting)})},w=new IntersectionObserver(x,{threshold:.5});return f.current&&w.observe(f.current),()=>{w.disconnect()}}},[e]),v.useEffect(()=>{if(r){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[r]);let h=()=>{i(!0)},y=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,f,{}]:[s,f,{onFocus:Yi(a,h),onBlur:Yi(l,y),onMouseEnter:Yi(u,h),onMouseLeave:Yi(c,y),onTouchStart:Yi(d,h)}]:[!1,f,{}]}function Yi(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function KD({page:e,...t}){let{router:n}=WD(),r=v.useMemo(()=>gx(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?v.createElement(QD,{page:e,matches:r,...t}):null}function YD(e){let{manifest:t,routeModules:n}=Nx(),[r,i]=v.useState([]);return v.useEffect(()=>{let s=!1;return FD(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function QD({page:e,matches:t,...n}){let r=br(),{manifest:i,routeModules:s}=Nx(),{loaderData:o,matches:a}=HD(),l=v.useMemo(()=>ty(e,t,a,i,r,"data"),[e,t,a,i,r]),u=v.useMemo(()=>ty(e,t,a,i,r,"assets"),[e,t,a,i,r]),c=v.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let h=new Set,y=!1;if(t.forEach(w=>{var p;let _=i.routes[w.route.id];!_||!_.hasLoader||(!l.some(m=>m.route.id===w.route.id)&&w.route.id in o&&((p=s[w.route.id])!=null&&p.shouldRevalidate)||_.hasClientLoader?y=!0:h.add(w.route.id))}),h.size===0)return[];let x=zD(e);return y&&h.size>0&&x.searchParams.set("_routes",t.filter(w=>h.has(w.route.id)).map(w=>w.route.id).join(",")),[x.pathname+x.search]},[o,r,i,l,t,e,s]),d=v.useMemo(()=>VD(u,i),[u,i]),f=YD(u);return v.createElement(v.Fragment,null,c.map(h=>v.createElement("link",{key:h,rel:"prefetch",as:"fetch",href:h,...n})),d.map(h=>v.createElement("link",{key:h,rel:"modulepreload",href:h,...n})),f.map(({key:h,link:y})=>v.createElement("link",{key:h,...y})))}function qD(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var bx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bx&&(window.__reactRouterVersion="7.2.0")}catch{}function XD({basename:e,children:t,window:n}){let r=v.useRef();r.current==null&&(r.current=VA({window:n,v5Compat:!0}));let i=r.current,[s,o]=v.useState({action:i.action,location:i.location}),a=v.useCallback(l=>{v.startTransition(()=>o(l))},[o]);return v.useLayoutEffect(()=>i.listen(a),[i,a]),v.createElement(PD,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var Ix=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rx=v.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d,...f},h){let{basename:y}=v.useContext(Bt),x=typeof u=="string"&&Ix.test(u),w,_=!1;if(typeof u=="string"&&x&&(w=u,bx))try{let D=new URL(window.location.href),T=u.startsWith("//")?new URL(D.protocol+u):new URL(u),F=zn(T.pathname,y);T.origin===D.origin&&F!=null?u=F+T.search+T.hash:_=!0}catch{Ft(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let p=dD(u,{relative:i}),[m,S,C]=GD(r,f),N=tM(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:d});function P(D){t&&t(D),D.defaultPrevented||N(D)}let E=v.createElement("a",{...f,...C,href:w||p,onClick:_||s?t:P,ref:qD(h,S),target:l,"data-discover":!x&&n==="render"?"true":void 0});return m&&!x?v.createElement(v.Fragment,null,E,v.createElement(KD,{page:p})):E});Rx.displayName="Link";var ZD=v.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},c){let d=xo(o,{relative:u.relative}),f=br(),h=v.useContext(ql),{navigator:y,basename:x}=v.useContext(Bt),w=h!=null&&oM(d)&&a===!0,_=y.encodeLocation?y.encodeLocation(d).pathname:d.pathname,p=f.pathname,m=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;n||(p=p.toLowerCase(),m=m?m.toLowerCase():null,_=_.toLowerCase()),m&&x&&(m=zn(m,x)||m);const S=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let C=p===_||!i&&p.startsWith(_)&&p.charAt(S)==="/",N=m!=null&&(m===_||!i&&m.startsWith(_)&&m.charAt(_.length)==="/"),P={isActive:C,isPending:N,isTransitioning:w},E=C?t:void 0,D;typeof r=="function"?D=r(P):D=[r,C?"active":null,N?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let T=typeof s=="function"?s(P):s;return v.createElement(Rx,{...u,"aria-current":E,className:D,ref:c,style:T,to:o,viewTransition:a},typeof l=="function"?l(P):l)});ZD.displayName="NavLink";var JD=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=ha,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:d,...f},h)=>{let y=iM(),x=sM(a,{relative:u}),w=o.toLowerCase()==="get"?"get":"post",_=typeof a=="string"&&Ix.test(a),p=m=>{if(l&&l(m),m.defaultPrevented)return;m.preventDefault();let S=m.nativeEvent.submitter,C=(S==null?void 0:S.getAttribute("formmethod"))||o;y(S||m.currentTarget,{fetcherKey:t,method:C,navigate:n,replace:i,state:s,relative:u,preventScrollReset:c,viewTransition:d})};return v.createElement("form",{ref:h,method:w,action:x,onSubmit:r?l:p,...f,"data-discover":!_&&e==="render"?"true":void 0})});JD.displayName="Form";function eM(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ax(e){let t=v.useContext(Ai);return oe(t,eM(e)),t}function tM(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=Tx(),l=br(),u=xo(e,{relative:s});return v.useCallback(c=>{if(AD(c,t)){c.preventDefault();let d=n!==void 0?n:qs(l)===qs(u);a(e,{replace:d,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,u,n,r,t,e,i,s,o])}var nM=0,rM=()=>`__${String(++nM)}__`;function iM(){let{router:e}=Ax("useSubmit"),{basename:t}=v.useContext(Bt),n=SD();return v.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:u}=LD(r,t);if(i.navigate===!1){let c=i.fetcherKey||rM();await e.fetch(c,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function sM(e,{relative:t}={}){let{basename:n}=v.useContext(Bt),r=v.useContext(cn);oe(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...xo(e||".",{relative:t})},o=br();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let c=a.toString();s.search=c?`?${c}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Zt([n,s.pathname])),qs(s)}function oM(e,t={}){let n=v.useContext(Sx);oe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Ax("useViewTransitionState"),i=xo(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=zn(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=zn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return dl(i.pathname,o)!=null||dl(i.pathname,s)!=null}new TextEncoder;const aM="/assets/logo-D9r1tayN.jpg",lM=Array.from({length:15},(e,t)=>({id:t,size:Math.random()*6+3,x:Math.random()*100,y:Math.random()*100,duration:Math.random()*3+2,delay:Math.random()*2}));function uM(){const e=Tx(),{state:{isGameStarted:t,userNumbers:n,points:r,systemNumbers:i,username:s},setGameStarted:o,setUserNumbers:a,generateSystemNumbers:l,calculatePoints:u,resetGame:c,setWalletConnection:d}=yo(),[f,h]=v.useState(""),[y,x]=v.useState(!1),[w,_]=v.useState(!1),[p,m]=v.useState(!1);v.useEffect(()=>{const T=()=>{m(window.innerWidth<640)};return T(),window.addEventListener("resize",T),()=>window.removeEventListener("resize",T)},[]);const S=TA({onSwipedLeft:()=>{f&&parseInt(f)>1&&h(T=>(parseInt(T)-1).toString())},onSwipedRight:()=>{f&&parseInt(f)<50&&h(T=>(parseInt(T)+1).toString())}}),C=()=>{o(!0),a([]),l(),Yg(Kg.START)},N=T=>{const F=T.target.value;(F===""||/^\d+$/.test(F)&&parseInt(F)<=100)&&h(F)},P=T=>{T.key==="Enter"&&f&&E()},E=()=>{const T=parseInt(f);if(T>0&&T<=100){if(n.length>=5){me.error("You can only select 5 numbers!");return}if(n.includes(T)){me.error("Number already selected!");return}a([...n,T]),h(""),Yg(Kg.POP)}},D=()=>{if(n.length!==5){me.error("Please select 5 numbers!");return}x(!0),u(),r>0&&s&&Tt.addWinner(s,r),setTimeout(()=>{x(!1),c()},5e3)};return g.jsx(I.div,{className:"relative space-y-6",initial:{opacity:0},animate:{opacity:1},...S,children:s?g.jsxs(g.Fragment,{children:[g.jsx(NA,{}),g.jsx(I.div,{className:"fixed top-4 right-4 z-50",initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},whileHover:{scale:1.1,rotate:360},transition:{duration:.5},children:g.jsx("img",{src:aM,alt:"Caxino Logo",className:`w-16 h-16 rounded-full border-2 border-game-accent/20\r
                         shadow-[0_0_20px_rgba(34,211,238,0.2)]`})}),g.jsxs("div",{className:"flex gap-4",children:[g.jsxs(I.button,{className:`font-game text-sm px-4 py-2 \r
                         bg-game-dark/60 backdrop-blur-sm rounded-lg border border-game-accent/20\r
                         hover:bg-game-accent/20 transition-colors duration-300\r
                         flex items-center gap-2`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>d(!1),children:[g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Home"]}),g.jsxs(I.button,{className:`font-game text-sm px-4 py-2 \r
                          bg-game-dark/60 backdrop-blur-sm rounded-lg border border-game-accent/20\r
                          hover:bg-game-accent/20 transition-colors duration-300\r
                          flex items-center gap-2`,initial:{opacity:0,x:20},animate:{opacity:1,x:0},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e("/rankings"),children:[g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 8v8m-4-5v5M8 12v4m-4 4h18"})}),"View All Rankings"]})]}),lM.map(T=>g.jsx(I.div,{className:"absolute rounded-full bg-game-accent/20",style:{width:T.size,height:T.size},initial:{x:`${T.x}%`,y:`${T.y}%`,opacity:0},animate:{y:[`${T.y}%`,`${T.y-30}%`],opacity:[0,.8,0],rotate:[0,360]},transition:{duration:T.duration,delay:T.delay,repeat:1/0,ease:"easeInOut"}},`particle-${T.id}`)),g.jsxs(I.div,{className:"bg-game-dark/60 backdrop-blur-sm rounded-lg p-4 flex flex-col sm:flex-row justify-between items-center gap-4",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},children:[g.jsxs("div",{className:"font-game",children:[g.jsx("div",{className:"text-game-light/50 text-sm",children:"Current Points"}),g.jsx(I.div,{className:"text-2xl font-bold text-game-accent",animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},children:r})]}),g.jsxs("div",{className:"font-game",children:[g.jsx("div",{className:"text-game-light/50 text-sm",children:"Numbers Selected"}),g.jsxs("div",{className:"text-xl font-bold text-game-accent",children:[n.length,"/5"]})]})]}),g.jsx(I.div,{className:`bg-game-secondary/10 backdrop-blur-lg rounded-3xl p-8 border border-game-accent/20\r
                       shadow-[0_0_50px_rgba(34,211,238,0.1)]`,animate:{boxShadow:t?"0 0 70px rgba(34,211,238,0.2)":"0 0 50px rgba(34,211,238,0.1)"},children:t?g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[g.jsx(I.input,{type:"text",value:f,onChange:N,onKeyPress:P,className:`w-full sm:flex-1 bg-game-dark/50 rounded-lg px-4 py-3 font-game\r
                              border border-game-accent/20 focus:border-game-accent\r
                              transition-colors duration-300 outline-none`,placeholder:"Enter a number (1-100)",initial:{x:-20,opacity:0},animate:{x:0,opacity:1}}),g.jsx(I.button,{className:`w-full sm:w-auto px-6 py-3 bg-game-primary rounded-lg font-game\r
                               hover:bg-game-accent transition-colors duration-300`,whileHover:{scale:1.05},whileTap:{scale:.95},onClick:E,initial:{x:20,opacity:0},animate:{x:0,opacity:1},children:"Add"})]}),g.jsx("div",{className:"flex flex-wrap justify-center sm:justify-start gap-3 my-6",children:g.jsx(Rn,{mode:"popLayout",children:n.map((T,F)=>g.jsx(I.div,{className:`w-16 h-16 flex items-center justify-center \r
                                 bg-game-primary rounded-lg font-bold font-game\r
                                 shadow-lg shadow-game-primary/20`,initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},whileHover:{scale:1.1},children:T},F))})}),g.jsx(I.button,{className:`w-full py-4 bg-game-accent text-game-dark rounded-xl \r
                             font-bold text-lg font-game relative overflow-hidden\r
                             disabled:opacity-50 disabled:cursor-not-allowed`,whileHover:{scale:1.02},whileTap:{scale:.98},onClick:D,disabled:n.length!==5,children:"Submit Numbers"})]}):g.jsxs(I.div,{className:"text-center",initial:{scale:.9},animate:{scale:1},children:[g.jsx("h2",{className:"font-game text-3xl font-bold mb-4 text-game-accent",children:"Ready to Play?"}),g.jsx("p",{className:"text-game-light/80 mb-6",children:"Select 5 numbers between 1 and 100"}),g.jsx(I.button,{className:`font-game px-8 py-4 bg-game-primary rounded-xl font-bold text-lg\r
                             hover:bg-game-accent transition-colors duration-300`,whileHover:{scale:1.05},whileTap:{scale:.95},onClick:C,children:"Start New Game"})]})}),g.jsx(Rn,{children:y&&g.jsx(I.div,{className:`fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center \r
                           justify-center z-50`,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:g.jsxs(I.div,{className:`bg-game-dark/90 p-8 rounded-2xl max-w-md w-full\r
                             border border-game-accent/20`,initial:{scale:.8,y:20},animate:{scale:1,y:0},exit:{scale:.8,y:20},children:[g.jsx("h3",{className:"font-game text-2xl font-bold text-game-accent mb-4",children:"Results"}),g.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[g.jsxs("div",{children:[g.jsx("div",{className:"text-game-light/50 mb-2 font-game",children:"Your Numbers"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((T,F)=>g.jsx(I.span,{className:"inline-block bg-game-primary px-2 py-1 rounded",initial:{opacity:0},animate:{opacity:1},transition:{delay:F*.1},children:T},F))})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-game-light/50 mb-2 font-game",children:"Winning Numbers"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:i.map((T,F)=>g.jsx(I.span,{className:"inline-block bg-game-accent text-game-dark px-2 py-1 rounded",initial:{opacity:0},animate:{opacity:1},transition:{delay:F*.1+.5},children:T},F))})]})]})]})})}),p&&t&&g.jsx(I.div,{className:"fixed bottom-4 left-0 right-0 px-4 z-20",initial:{y:100},animate:{y:0},children:g.jsx("div",{className:"bg-game-dark/90 backdrop-blur-sm rounded-xl p-4 border border-game-accent/20",children:g.jsxs("div",{className:"flex justify-between items-center gap-4",children:[g.jsx(I.button,{className:"w-12 h-12 bg-game-primary rounded-lg flex items-center justify-center",whileTap:{scale:.9},onClick:()=>{f&&parseInt(f)>1&&h(T=>(parseInt(T)-1).toString())},children:g.jsx("span",{className:"text-2xl",children:"-"})}),g.jsx("div",{className:"font-game text-xl text-game-accent",children:f||"0"}),g.jsx(I.button,{className:"w-12 h-12 bg-game-primary rounded-lg flex items-center justify-center",whileTap:{scale:.9},onClick:()=>{f&&parseInt(f)<100&&h(T=>(parseInt(T)+1).toString())},children:g.jsx("span",{className:"text-2xl",children:"+"})})]})})}),p&&g.jsx(I.button,{className:`fixed right-4 bottom-24 z-20 w-12 h-12 bg-game-accent rounded-full\r
                         flex items-center justify-center shadow-lg`,whileTap:{scale:.9},onClick:()=>_(!w),children:g.jsx("span",{className:"text-2xl",children:""})}),g.jsx(Rn,{children:w&&g.jsx(I.div,{className:`fixed inset-0 bg-black/80 backdrop-blur-sm z-30\r
                           flex items-center justify-center`,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>_(!1),children:g.jsx(I.div,{className:`bg-game-dark/90 p-6 rounded-2xl w-[90%] max-w-md\r
                              border border-game-accent/20`,initial:{scale:.8,y:20},animate:{scale:1,y:0},exit:{scale:.8,y:20},onClick:T=>T.stopPropagation(),children:g.jsxs("div",{className:"space-y-4",children:[g.jsx("button",{className:`w-full py-3 bg-game-primary rounded-lg font-game\r
                                   text-sm`,onClick:C,children:"New Game"}),g.jsx("button",{className:`w-full py-3 bg-game-accent/20 rounded-lg font-game\r
                                   text-sm`,onClick:()=>d(!1),children:"Back to Home"})]})})})})]}):g.jsx(kA,{})})}function cM({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6 9 12.75l4.286-4.286a11.948 11.948 0 0 1 4.306 6.43l.776 2.898m0 0 3.182-5.511m-3.182 5.51-5.511-3.181"}))}const dM=v.forwardRef(cM);function fM({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const hM=v.forwardRef(fM);function pM({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const Dx=v.forwardRef(pM);function mM({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const gM=v.forwardRef(mM);function yM({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const vM=v.forwardRef(yM);function _M({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const xM=v.forwardRef(_M);function wM({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"}))}const SM=v.forwardRef(wM);function CM({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))}const Xs=v.forwardRef(CM);function EM({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const Mx=v.forwardRef(EM),TM={1:"from-yellow-400 to-yellow-600",2:"from-slate-300 to-slate-500",3:"from-amber-600 to-amber-800"},PM={1:"",2:"",3:"",4:"",5:""};function kM(){var y;const[e,t]=v.useState([]),[n,r]=v.useState(null),[i,s]=v.useState({totalPlayers:0,totalRegistered:0,totalPoints:0,averagePointsPerPlayer:0,topPlayerToday:null,gamesPlayedToday:0}),[o,a]=v.useState("all"),[l,u]=v.useState({}),[c,d]=v.useState(null);v.useEffect(()=>{const x=Tt.onLeaderboardChange(t,o),w=Tt.onGameStatsChange(s);return()=>{x(),w()}},[o]),v.useEffect(()=>{const x={};e.forEach(w=>{x[w.address]=w.rank}),u(x)},[e]),v.useEffect(()=>{(async()=>{const w=await Tt.getSixthPlace();d(w)})()},[e]);const f=x=>{switch(x){case"up":return"";case"down":return"";default:return""}},h=x=>{const w=l[x.address]||x.rank;return w<x.rank?"rank-down":w>x.rank?"rank-up":""};return g.jsxs(I.div,{className:`bg-game-secondary/10 backdrop-blur-lg rounded-3xl p-4 sm:p-6 border border-game-accent/20\r
                 shadow-[0_0_50px_rgba(34,211,238,0.1)]`,initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:[g.jsxs("div",{className:"relative mb-6",children:[g.jsx(I.div,{className:`absolute -top-4 left-1/2 -translate-x-1/2 bg-game-accent/20 px-4 py-1 \r
                     rounded-full backdrop-blur-sm border border-game-accent/30`,animate:{y:[0,-5,0]},transition:{duration:2,repeat:1/0},children:g.jsx("span",{className:"font-game text-sm font-semibold text-game-accent",children:"LIVE"})}),g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("h2",{className:"font-game text-2xl font-bold",children:"Leaderboard"}),g.jsx("div",{className:"flex gap-2",children:["all","today","week"].map(x=>g.jsx("button",{onClick:()=>a(x),className:`px-3 py-1 rounded-lg font-game text-sm transition-colors
                          ${o===x?"bg-game-accent text-game-dark":"bg-game-dark/40 hover:bg-game-dark/60"}`,children:x.charAt(0).toUpperCase()+x.slice(1)},x))})]}),i.topPlayerToday&&g.jsxs(I.div,{className:"bg-game-dark/40 rounded-xl p-4 mb-4",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[g.jsx("div",{className:"text-sm text-game-light/70 mb-2",children:"Today's Top Player"}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"font-game",children:[g.jsx("div",{className:"text-game-accent",children:i.topPlayerToday.username}),g.jsxs("div",{className:"text-xl font-bold",children:[i.topPlayerToday.points.toLocaleString()," pts"]})]}),g.jsx(Xs,{className:"w-8 h-8 text-game-accent"})]})]})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx(Rn,{mode:"popLayout",children:e.map((x,w)=>g.jsxs(I.div,{className:"relative group",initial:{opacity:0,y:20},animate:{y:h(x)==="rank-up"?[-4,0]:h(x)==="rank-down"?[4,0]:0,opacity:1},transition:{delay:w*.1},whileHover:{scale:1.02},onClick:()=>r(x),children:[h(x)&&g.jsx(I.div,{className:`absolute -left-4 ${h(x)==="rank-up"?"text-green-400":"text-red-400"}`,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},children:h(x)==="rank-up"?"":""}),g.jsx(I.div,{className:"absolute -left-2 -top-2 w-8 h-8 flex items-center justify-center",initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.2+w*.1},children:PM[x.rank]}),g.jsx(I.div,{className:`absolute inset-0 rounded-xl bg-gradient-to-r opacity-0 
                           group-hover:opacity-10 transition-opacity duration-300
                           ${TM[x.rank]||"from-game-primary/50 to-game-secondary/50"}`}),g.jsxs("div",{className:`relative flex items-center gap-4 p-4 bg-game-dark/40 rounded-xl\r
                             border border-game-accent/5 cursor-pointer`,children:[g.jsxs("div",{className:"font-game font-bold text-xl w-8",children:["#",x.rank]}),g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:"font-game text-sm text-game-light/80",children:x.username}),g.jsxs("div",{className:"text-xs text-game-light/50",children:["Games: ",x.gamesPlayed," | Avg:"," ",Math.round(x.averagePoints)]})]}),g.jsx("div",{className:"text-right",children:g.jsxs("div",{className:"font-game font-bold text-game-accent flex items-center gap-2",children:[x.points.toLocaleString(),g.jsx("span",{children:f(x.trend)})]})})]})]},x.address))}),c&&g.jsxs(I.div,{className:"mt-6 pt-4 border-t border-game-accent/20",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:[g.jsx("div",{className:"text-sm text-game-light/50 mb-2",children:"Just Missed Top 5"}),g.jsxs("div",{className:"bg-game-dark/20 rounded-xl p-4 flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"font-game text-xl opacity-50",children:"6"}),g.jsxs("div",{children:[g.jsx("div",{className:"font-game text-sm",children:c.username}),g.jsxs("div",{className:"text-xs text-game-light/50",children:[c.points.toLocaleString()," points"]})]})]}),g.jsxs("div",{className:"text-sm text-game-light/50",children:[Math.abs(c.points-((y=e[4])==null?void 0:y.points))," points away"]})]})]})]}),g.jsx("div",{className:"mt-6 pt-6 border-t border-game-accent/20",children:g.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[g.jsx(Ko,{title:"Active Players",value:i.totalPlayers,icon:g.jsx(Dx,{className:"w-5 h-5"}),subtitle:"with points"}),g.jsx(Ko,{title:"Total Users",value:i.totalRegistered,icon:g.jsx(Mx,{className:"w-5 h-5"}),subtitle:"registered"}),g.jsx(Ko,{title:"Total Points",value:i.totalPoints,icon:g.jsx(Xs,{className:"w-5 h-5"})}),g.jsx(Ko,{title:"Games Today",value:i.gamesPlayedToday,icon:g.jsx(xM,{className:"w-5 h-5"})})]})}),g.jsx(Rn,{children:n&&g.jsx(I.div,{className:`fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center \r
                       justify-center z-50`,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>r(null),children:g.jsxs(I.div,{className:`bg-game-dark/90 p-6 rounded-2xl max-w-md w-full\r
                         border border-game-accent/20`,initial:{scale:.8,y:20},animate:{scale:1,y:0},exit:{scale:.8,y:20},onClick:x=>x.stopPropagation(),children:[g.jsx("h3",{className:"font-game text-xl font-bold text-game-accent mb-4",children:"Player Details"}),g.jsxs("div",{className:"space-y-4",children:[g.jsx(Dr,{label:"Username",value:n.username}),g.jsx(Dr,{label:"Rank",value:`#${n.rank}`}),g.jsx(Dr,{label:"Points",value:n.points.toLocaleString()}),g.jsx(Dr,{label:"Games Played",value:n.gamesPlayed.toString()}),g.jsx(Dr,{label:"Average Points",value:Math.round(n.averagePoints).toLocaleString()}),g.jsx(Dr,{label:"Trend",value:f(n.trend)})]})]})})})]})}function Ko({title:e,value:t,icon:n,subtitle:r}){return g.jsxs("div",{className:"bg-game-dark/40 rounded-lg p-3 text-center",children:[g.jsxs("div",{className:"flex items-center justify-center gap-2 text-game-accent mb-1",children:[n,g.jsxs("div",{className:"text-xs text-game-light/50",children:[e,r&&g.jsx("span",{className:"block text-[10px] opacity-70",children:r})]})]}),g.jsx(I.div,{className:"font-game font-bold",animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},children:t.toLocaleString()})]})}function Dr({label:e,value:t}){return g.jsxs("div",{children:[g.jsx("div",{className:"text-game-light/50 text-sm",children:e}),g.jsx("div",{className:"font-game text-xl text-game-accent",children:t})]})}const NM="/assets/logo-qqP49UYF.png",ny=[{name:"X (Twitter)",url:"http://x.com/caxinoclub",icon:g.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})},{name:"Telegram",url:"http://t.me/caxinoclub",icon:g.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69.01-.03.01-.14-.07-.2-.08-.06-.19-.04-.27-.02-.12.02-1.96 1.25-5.54 3.69-.52.36-1 .53-1.42.52-.47-.01-1.37-.26-2.03-.48-.82-.27-1.47-.42-1.42-.88.03-.24.29-.48.79-.74 3.08-1.34 5.15-2.23 6.19-2.66 2.95-1.23 3.56-1.44 3.97-1.45.09 0 .28.02.41.12.11.08.18.21.2.34.02.14.01.28 0 .33z"})})}],bM=Array.from({length:15},(e,t)=>({id:t,number:Math.floor(Math.random()*50)+1,x:Math.random()*100,y:Math.random()*100,delay:Math.random()*2})),IM=Array.from({length:20},(e,t)=>({id:t,size:Math.random()*8+4,x:Math.random()*100,y:Math.random()*100,duration:Math.random()*3+2,delay:Math.random()*2}));function RM(){const{setWalletConnection:e}=yo(),[t,n]=v.useState(3),[r,i]=v.useState(!0),[s,o]=v.useState(null),[a,l]=v.useState(!1),[u,c]=v.useState({totalPlayers:0,totalRegistered:0,totalPoints:0,averagePointsPerPlayer:0,topPlayerToday:null,gamesPlayedToday:0});v.useEffect(()=>{const f=Tt.onRecentWinner(h=>{h&&(o(h),l(!0),setTimeout(()=>l(!1),5e3))});return()=>f()},[]),v.useEffect(()=>{const f=Tt.onGameStatsChange(c);return()=>f()},[]);const d=()=>{i(!1),new Audio("/sounds/start.mp3").play().catch(()=>{});const f=setInterval(()=>{n(h=>(h<=1&&(clearInterval(f),e(!0),me.success("Welcome to Caxino!",{icon:"",duration:3e3})),h-1))},1e3)};return g.jsxs(I.div,{className:"relative max-w-4xl mx-auto text-center p-4 sm:p-8 md:p-12 min-h-[500px] sm:min-h-[600px]",initial:{opacity:0},animate:{opacity:1},children:[g.jsx(I.div,{className:"mb-8 relative",initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:g.jsxs("div",{className:"flex items-center justify-center gap-6",children:[g.jsx(I.div,{className:"flex gap-3",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4},children:ny.slice(0,1).map(f=>g.jsx("a",{href:f.url,target:"_blank",rel:"noopener noreferrer",className:`p-3 bg-game-dark/40 rounded-full hover:bg-game-accent/20\r
                          transition-all duration-300 hover:scale-110`,children:g.jsx("svg",{className:"w-7 h-7",fill:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{d:f.name==="X (Twitter)"?"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z":"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69.01-.03.01-.14-.07-.2-.08-.06-.19-.04-.27-.02-.12.02-1.96 1.25-5.54 3.69-.52.36-1 .53-1.42.52-.47-.01-1.37-.26-2.03-.48-.82-.27-1.47-.42-1.42-.88.03-.24.29-.48.79-.74 3.08-1.34 5.15-2.23 6.19-2.66 2.95-1.23 3.56-1.44 3.97-1.45.09 0 .28.02.41.12.11.08.18.21.2.34.02.14.01.28 0 .33z"})})},f.name))}),g.jsx("img",{src:NM,alt:"Caxino Logo",className:`w-32 h-32 rounded-full border-4 border-game-accent/20\r
                      shadow-[0_0_30px_rgba(34,211,238,0.2)]`}),g.jsx(I.div,{className:"flex gap-3",initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4},children:ny.slice(1).map(f=>g.jsx("a",{href:f.url,target:"_blank",rel:"noopener noreferrer",className:`p-3 bg-game-dark/40 rounded-full hover:bg-game-accent/20\r
                          transition-all duration-300 hover:scale-110`,children:g.jsx("svg",{className:"w-7 h-7",fill:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{d:f.name==="X (Twitter)"?"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z":"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69.01-.03.01-.14-.07-.2-.08-.06-.19-.04-.27-.02-.12.02-1.96 1.25-5.54 3.69-.52.36-1 .53-1.42.52-.47-.01-1.37-.26-2.03-.48-.82-.27-1.47-.42-1.42-.88.03-.24.29-.48.79-.74 3.08-1.34 5.15-2.23 6.19-2.66 2.95-1.23 3.56-1.44 3.97-1.45.09 0 .28.02.41.12.11.08.18.21.2.34.02.14.01.28 0 .33z"})})},f.name))})]})}),IM.map(f=>g.jsx(I.div,{className:"absolute rounded-full bg-game-accent/20",style:{width:f.size,height:f.size},initial:{x:`${f.x}%`,y:`${f.y}%`,opacity:0},animate:{y:[`${f.y}%`,`${f.y-30}%`],opacity:[0,.8,0],rotate:[0,360]},transition:{duration:f.duration,delay:f.delay,repeat:1/0,ease:"easeInOut"}},`particle-${f.id}`)),bM.map(f=>g.jsx(I.div,{className:"absolute text-game-accent/20 font-bold text-2xl pointer-events-none",initial:{x:`${f.x}%`,y:`${f.y}%`,opacity:0},animate:{y:[`${f.y}%`,`${f.y-20}%`],opacity:[0,.5,0],scale:[1,1.2,1]},transition:{duration:3,delay:f.delay,repeat:1/0,ease:"easeInOut"},children:f.number},f.id)),g.jsx(Rn,{children:a&&s&&g.jsxs(I.div,{className:`fixed top-4 right-4 bg-game-dark/90 px-6 py-4 rounded-lg backdrop-blur-sm\r
                       border border-game-accent/20 shadow-[0_0_20px_rgba(34,211,238,0.2)]`,initial:{x:100,opacity:0},animate:{x:0,opacity:1},exit:{x:100,opacity:0},children:[g.jsx("div",{className:"font-game text-sm text-game-accent mb-1",children:"New Winner! "}),g.jsx("div",{className:"font-game text-lg",children:s.username}),g.jsxs("div",{className:"font-game text-xl text-game-accent",children:["+",s.points.toLocaleString()," pts"]})]})}),g.jsxs(I.div,{className:`relative z-10 backdrop-blur-lg bg-game-secondary/10 rounded-3xl p-8 border border-game-accent/20\r
                   shadow-[0_0_50px_rgba(34,211,238,0.1)]`,children:[g.jsx(I.div,{className:`absolute -top-6 left-1/2 -translate-x-1/2 bg-game-accent text-game-dark px-4 py-1 \r
                     rounded-full text-sm font-semibold tracking-wider`,animate:{y:[0,-5,0]},transition:{duration:2,repeat:1/0},children:"PLAY & WIN"}),g.jsx(I.h1,{className:`font-game text-3xl sm:text-4xl md:text-5xl font-bold mb-2 bg-gradient-to-r from-game-accent to-game-primary \r
                     text-transparent bg-clip-text`,animate:{scale:[1,1.02,1]},transition:{duration:2,repeat:1/0},children:"CAXINO"}),g.jsx("p",{className:"font-game text-xl text-game-light/80 mb-8",children:"Where Numbers Meet Fortune"}),g.jsx(Rn,{mode:"wait",children:r?g.jsxs(I.button,{className:`font-game group relative px-8 py-4 bg-game-primary rounded-xl font-bold text-lg\r
                         overflow-hidden transition-transform hover:scale-105`,whileTap:{scale:.98},onClick:d,exit:{scale:0,opacity:0},children:[g.jsx("span",{className:"relative z-10",children:"Begin Your Journey"}),g.jsx(I.div,{className:"absolute inset-0 bg-game-accent",initial:{x:"-100%"},whileHover:{x:0},transition:{duration:.3}})]},"start"):g.jsx(I.div,{className:"text-7xl font-bold text-game-accent",initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.5,opacity:0},children:t},"countdown")}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 mt-12",children:[{icon:"",text:"Guess 5 Numbers",subtext:"Test your luck"},{icon:"",text:"Win Points",subtext:"Climb the ranks"},{icon:"",text:"Top Leaderboard",subtext:"Become a legend"}].map((f,h)=>g.jsxs(I.div,{className:`group bg-game-dark/40 rounded-lg p-4 cursor-pointer\r
                         hover:bg-game-dark/60 transition-colors duration-300`,initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:h*.2},whileHover:{scale:1.05},children:[g.jsx(I.div,{className:"text-2xl mb-2",animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0},children:f.icon}),g.jsx("div",{className:"font-game text-sm font-semibold text-game-accent",children:f.text}),g.jsx("div",{className:"font-game text-xs text-game-light/50 mt-1 group-hover:text-game-light/70",children:f.subtext})]},h))}),g.jsxs("div",{className:"mt-10 grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8",children:[g.jsx(Xu,{title:"Active Players",value:u.totalPlayers,icon:g.jsx(Mx,{className:"w-5 h-5"}),subtitle:"with points"}),g.jsx(Xu,{title:"Total Points",value:u.totalPoints,icon:g.jsx(Xs,{className:"w-5 h-5"})}),g.jsx(Xu,{title:"Average Points",value:u.averagePointsPerPlayer,icon:g.jsx(Dx,{className:"w-5 h-5"}),subtitle:"per player"})]}),u.topPlayerToday&&g.jsxs(I.div,{className:"bg-game-dark/40 rounded-xl p-4 mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[g.jsx("div",{className:"text-sm text-game-light/70 mb-2",children:"Today's Top Player"}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"font-game",children:[g.jsx("div",{className:"text-game-accent",children:u.topPlayerToday.username}),g.jsxs("div",{className:"text-xl font-bold",children:[u.topPlayerToday.points.toLocaleString()," pts"]})]}),g.jsx(Xs,{className:"w-8 h-8 text-game-accent"})]})]}),g.jsxs(I.button,{className:`w-full py-6 bg-game-primary rounded-2xl font-bold text-xl font-game\r
                     relative overflow-hidden group`,onClick:()=>e(!0),whileHover:{scale:1.02},whileTap:{scale:.98},children:[g.jsx(I.div,{className:"absolute inset-0 bg-gradient-to-r from-game-accent/0 via-game-accent/20 to-game-accent/0",initial:{x:-200,opacity:0},animate:{x:400,opacity:1},transition:{duration:2,repeat:1/0}}),"Tap to play"]})]})]})}function Xu({title:e,value:t,icon:n,subtitle:r}){return g.jsxs("div",{className:"bg-game-dark/40 rounded-lg p-4 text-center",children:[g.jsxs("div",{className:"flex items-center justify-center gap-2 text-game-accent mb-2",children:[n,g.jsxs("div",{className:"text-sm text-game-light/50",children:[e,r&&g.jsx("span",{className:"block text-xs opacity-70",children:r})]})]}),g.jsx(I.div,{className:"font-game text-xl font-bold",animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},children:t.toLocaleString()})]})}const AM=["","","","","","","","","","","","","","","","","","","",""];function DM(){const[e,t]=v.useState({width:0,height:0});return v.useEffect(()=>{const n=()=>{t({width:window.innerWidth,height:window.innerHeight})};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),g.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#22d3ee30_1px,transparent_1px),linear-gradient(to_bottom,#22d3ee30_1px,transparent_1px)] bg-[size:2rem_2rem]"}),e.width&&AM.map((n,r)=>g.jsx(I.div,{className:"absolute text-7xl opacity-30 hover:opacity-60 transition-opacity duration-300",initial:{x:Math.random()*e.width,y:Math.random()*e.height,rotate:Math.random()*360},animate:{x:[Math.random()*e.width,Math.random()*e.width],y:[Math.random()*e.height,Math.random()*e.height],rotate:[0,360],scale:[1,1.4,1]},transition:{duration:Math.random()*25+25,repeat:1/0,ease:"linear"},children:n},r)),g.jsx(I.div,{className:"absolute w-[500px] h-[500px] rounded-full bg-game-primary/30 blur-[120px]",animate:{x:[0,600,0],y:[0,300,0]},transition:{duration:20,repeat:1/0,ease:"linear"}}),g.jsx(I.div,{className:"absolute right-0 w-[600px] h-[600px] rounded-full bg-game-accent/30 blur-[120px]",animate:{x:[0,-400,0],y:[0,400,0]},transition:{duration:25,repeat:1/0,ease:"linear"}}),g.jsx("div",{className:"absolute inset-0",children:[...Array(8)].map((n,r)=>g.jsx(I.div,{className:"absolute h-[2px] w-full bg-gradient-to-r from-transparent via-game-accent/30 to-transparent",initial:{y:Math.random()*e.height},animate:{y:[Math.random()*e.height,Math.random()*e.height],opacity:[.3,.6,.3]},transition:{duration:Math.random()*15+15,repeat:1/0,ease:"linear"}},r))}),g.jsx("div",{className:"absolute inset-0",children:[...Array(10)].map((n,r)=>g.jsx(I.div,{className:"absolute w-[2px] h-20 bg-gradient-to-b from-transparent via-game-accent/40 to-transparent",initial:{x:Math.random()*e.width,y:-100},animate:{y:[e.height+100]},transition:{duration:Math.random()*5+5,repeat:1/0,ease:"linear",delay:Math.random()*5}},r))}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-game-dark/90 via-transparent to-game-dark/90"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-game-dark/90 via-transparent to-game-dark/90"})]})}const Zu=10;function MM(){const[e,t]=v.useState([]),[n,r]=v.useState(1),[i,s]=v.useState(!0),[o,a]=v.useState(null);v.useEffect(()=>{const d=Tt.onAllPlayersChange(f=>{t(f),s(!1)});return()=>d()},[]);const l=Math.ceil(e.length/Zu),u=e.slice((n-1)*Zu,n*Zu),c=d=>{switch(d){case"up":return g.jsx(hM,{className:"w-5 h-5 text-green-400"});case"down":return g.jsx(dM,{className:"w-5 h-5 text-red-400"});default:return g.jsx(SM,{className:"w-5 h-5 text-gray-400"})}};return i?g.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:g.jsx(I.div,{className:"w-12 h-12 border-4 border-game-accent rounded-full border-t-transparent",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}})}):g.jsxs(I.div,{className:"max-w-4xl mx-auto p-4",initial:{opacity:0},animate:{opacity:1},children:[g.jsxs("div",{className:"bg-game-secondary/10 backdrop-blur-lg rounded-3xl p-6 border border-game-accent/20",children:[g.jsxs("h2",{className:"font-game text-2xl mb-6 flex items-center gap-2",children:[g.jsx(Xs,{className:"w-6 h-6 text-game-accent"}),"Global Rankings"]}),g.jsx("div",{className:"space-y-4",children:u.map(d=>g.jsx(I.div,{className:`${d.points>0?"bg-game-dark/40":"bg-game-dark/20"} 
                rounded-xl p-4 cursor-pointer hover:bg-game-dark/60 transition-colors duration-300`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02},onClick:()=>a(d),children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"font-game text-xl w-8",children:d.rank}),g.jsxs("div",{children:[g.jsx("div",{className:"font-game text-game-accent",children:d.username}),g.jsxs("div",{className:`text-sm ${d.points>0?"text-game-light/50":"text-game-light/30"}`,children:[d.points.toLocaleString()," points"]})]})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[c(d.trend),g.jsxs("div",{className:"text-right",children:[g.jsx("div",{className:"text-sm text-game-light/50",children:"Games"}),g.jsx("div",{className:"font-game",children:d.gamesPlayed})]})]})]})},d.address))}),g.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[g.jsx("button",{className:`px-4 py-2 bg-game-dark/40 rounded-lg font-game text-sm\r
                       disabled:opacity-50 disabled:cursor-not-allowed`,onClick:()=>r(d=>d-1),disabled:n===1,children:g.jsx(gM,{className:"w-5 h-5"})}),g.jsxs("div",{className:"font-game text-sm",children:["Page ",n," of ",l]}),g.jsx("button",{className:`px-4 py-2 bg-game-dark/40 rounded-lg font-game text-sm\r
                       disabled:opacity-50 disabled:cursor-not-allowed`,onClick:()=>r(d=>d+1),disabled:n===l,children:g.jsx(vM,{className:"w-5 h-5"})})]})]}),g.jsx(Rn,{children:o&&g.jsx(I.div,{className:`fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center \r
                       justify-center z-50`,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>a(null),children:g.jsxs(I.div,{className:`bg-game-dark/90 p-6 rounded-2xl max-w-md w-full\r
                         border border-game-accent/20`,initial:{scale:.8,y:20},animate:{scale:1,y:0},exit:{scale:.8,y:20},onClick:d=>d.stopPropagation(),children:[g.jsx("h3",{className:"font-game text-xl text-game-accent mb-6",children:"Player Details"}),g.jsxs("div",{className:"space-y-4",children:[g.jsx(Mr,{label:"Username",value:o.username}),g.jsx(Mr,{label:"Rank",value:`#${o.rank}`}),g.jsx(Mr,{label:"Points",value:o.points.toLocaleString()}),g.jsx(Mr,{label:"Games Played",value:o.gamesPlayed.toString()}),g.jsx(Mr,{label:"Average Points",value:Math.round(o.averagePoints).toLocaleString()}),g.jsx(Mr,{label:"Last Played",value:new Date(o.lastPlayed).toLocaleDateString()})]})]})})})]})}function Mr({label:e,value:t}){return g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("div",{className:"text-game-light/50",children:e}),g.jsx("div",{className:"font-game",children:t})]})}function LM(){const[e,t]=v.useState([]),[n,r]=v.useState(!1),i="freyaaamarsss";return v.useEffect(()=>{if(prompt("Enter admin password")===i)return r(!0),Tt.onLeaderboardChange(a=>{t(a.slice(0,3))})},[i]),n?g.jsxs(I.div,{className:"max-w-4xl mx-auto p-6",initial:{opacity:0},animate:{opacity:1},children:[g.jsx("h1",{className:"font-game text-2xl mb-6 text-game-accent",children:"Admin Dashboard"}),g.jsx("div",{className:"space-y-4",children:e.map((s,o)=>g.jsx(I.div,{className:"bg-game-dark/40 rounded-xl p-4",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:o*.1},children:g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("div",{className:"font-game text-game-accent",children:s.username}),g.jsx("div",{className:"text-sm text-game-light/50 mt-1 font-mono",children:s.address})]}),g.jsxs("div",{className:"text-xl font-game",children:[s.points.toLocaleString()," pts"]})]})},s.address))})]}):g.jsx("div",{children:"Unauthorized"})}function OM(){const{state:{isWalletConnected:e}}=yo();return g.jsxs("div",{className:"relative min-h-screen bg-game-dark text-game-light p-4 overflow-hidden",children:[g.jsx(DM,{}),g.jsx(f2,{position:"top-right"}),g.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e?g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[g.jsx("div",{className:"lg:col-span-2",children:g.jsx(uM,{})}),g.jsx("div",{className:"lg:mt-0 mt-8",children:g.jsx(kM,{})})]}):g.jsx(RM,{})})]})}function jM(){return g.jsx(XD,{children:g.jsx(mx,{children:g.jsx("div",{className:"min-h-screen bg-game-dark text-white",children:g.jsxs(kD,{children:[g.jsx(fa,{path:"/",element:g.jsx(OM,{})}),g.jsx(fa,{path:"/rankings",element:g.jsx(MM,{})}),g.jsx(fa,{path:"/admin",element:g.jsx(LM,{})})]})})})})}Ju.createRoot(document.getElementById("root")).render(g.jsx(Ld.StrictMode,{children:g.jsx(mx,{children:g.jsx(jM,{})})}));
